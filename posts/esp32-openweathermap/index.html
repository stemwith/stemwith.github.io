<!doctype html><html lang=ko-kr dir=ltr><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="OpenWeatherMap.org#
OpenWeatherMapì€ ì„¸ê³„ ê° ì§€ì—­ì˜ í˜„ì¬ ë‚ ì”¨, ì˜ˆë³´, ê³¼ê±° ë‚ ì”¨ ë°ì´í„°ë¥¼ ì œê³µí•˜ëŠ” ì‚¬ì´íŠ¸ì…ë‹ˆë‹¤. (ëª‡ê°€ì§€ ì œì•½ì´ ìˆê¸´ í•˜ì§€ë§Œ) íšŒì›ê°€ì…ì„ í†µí•´ì„œ API Keyë¥¼ ìƒì„±í•˜ê³  ì´ë¥¼ í†µí•´ ë¬´ë£Œë¡œ ì‹¤ì‹œê°„ ë‚ ì”¨ ì •ë³´ë¥¼ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

Free Current weather and forecasts collection#

60 Calls per minute (no more than)
Current weather API
5 days/3 hour forecast API
Weather maps 1.0
UV index
Weather alerts
Availability 95%
Weather API data update  < 2 hours
Weather maps data update  < 3 hours
API lifetime support :  Current version
Historical weather collectionì€ ëª¨ë‘ Starter ì´ìƒ(ìœ ë£Œ)


Current weather collections API Key ìƒì„±#


Sign Upì„ í´ë¦­í•˜ì—¬ íšŒì›ê°€ì…ì„ í•˜ê³ ,"><meta name=theme-color media="(prefers-color-scheme: light)" content="#ffffff"><meta name=theme-color media="(prefers-color-scheme: dark)" content="#343a40"><meta name=color-scheme content="light dark"><meta property="og:url" content="https://stemwith.github.io/posts/esp32-openweathermap/"><meta property="og:site_name" content="stemwith"><meta property="og:title" content="esp32 OpenWeatherMapì—ì„œ ì‹¤ì‹œê°„ ë‚ ì”¨ ì •ë³´ ë°›ê¸°"><meta property="og:description" content="OpenWeatherMap.org# OpenWeatherMapì€ ì„¸ê³„ ê° ì§€ì—­ì˜ í˜„ì¬ ë‚ ì”¨, ì˜ˆë³´, ê³¼ê±° ë‚ ì”¨ ë°ì´í„°ë¥¼ ì œê³µí•˜ëŠ” ì‚¬ì´íŠ¸ì…ë‹ˆë‹¤. (ëª‡ê°€ì§€ ì œì•½ì´ ìˆê¸´ í•˜ì§€ë§Œ) íšŒì›ê°€ì…ì„ í†µí•´ì„œ API Keyë¥¼ ìƒì„±í•˜ê³  ì´ë¥¼ í†µí•´ ë¬´ë£Œë¡œ ì‹¤ì‹œê°„ ë‚ ì”¨ ì •ë³´ë¥¼ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
Free Current weather and forecasts collection# 60 Calls per minute (no more than) Current weather API 5 days/3 hour forecast API Weather maps 1.0 UV index Weather alerts Availability 95% Weather API data update < 2 hours Weather maps data update < 3 hours API lifetime support : Current version Historical weather collectionì€ ëª¨ë‘ Starter ì´ìƒ(ìœ ë£Œ) Current weather collections API Key ìƒì„±# Sign Upì„ í´ë¦­í•˜ì—¬ íšŒì›ê°€ì…ì„ í•˜ê³ ,"><meta property="og:locale" content="ko_kr"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2019-11-19T18:27:53+09:00"><meta property="article:modified_time" content="2019-11-19T18:27:53+09:00"><meta property="article:tag" content="Iot"><title>esp32 OpenWeatherMapì—ì„œ ì‹¤ì‹œê°„ ë‚ ì”¨ ì •ë³´ ë°›ê¸° | stemwith</title><link rel=icon href=/favicon.ico><link rel=manifest href=/manifest.json><link rel=canonical href=https://stemwith.github.io/posts/esp32-openweathermap/><link rel=stylesheet href=/book.min.edacc84919565354dfc39b7e3684e11739048c7cd9356a3036fc1c663b63611d.css integrity="sha256-7azISRlWU1Tfw5t+NoThFzkEjHzZNWowNvwcZjtjYR0=" crossorigin=anonymous><script defer src=/fuse.min.js></script><script defer src=/en.search.min.48a89e4be341d639de74b0f5b5a0b5ad125313b71f6faa18dd992cd4721b044e.js integrity="sha256-SKieS+NB1jnedLD1taC1rRJTE7cfb6oY3Zks1HIbBE4=" crossorigin=anonymous></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-128DRYVCRT"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-128DRYVCRT")}</script></head><body dir=ltr class="book-kind-page book-type-posts"><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav class=book-menu><h2 class=book-brand><a class="flex align-center" href=/><img src=/og_image.png alt=Logo></a></h2><div class="book-search hidden"><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><script>document.querySelector(".book-search").classList.remove("hidden")</script><div class=analytics-container><h4>ì ‘ì† í†µê³„</h4><div class=stat-group><span class=stat-label>ì˜¤ëŠ˜</span><p class=stat-value id=ga-today-visitors>ğŸ‘¤ ...</p></div><div class=stat-group><span class=stat-label>ì¼ì¼ ë°©ë¬¸ì (2ì£¼)</span><div id=ga-daily-chart></div></div><div class=stat-group><span class=stat-label>ê³„</span><ul class=stat-list><li id=ga-total-visitors>- ë°©ë¬¸ì: ...</li><li id=ga-total-pageviews>- í˜ì´ì§€ë·°: ...</li></ul></div></div></nav><script type=text/javascript>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class="book-header hidden"><div class="flex align-center justify-between"><label for=menu-control><img src=/icons/menu.svg class=book-icon alt=Menu></label><h3>esp32 OpenWeatherMapì—ì„œ ì‹¤ì‹œê°„ ë‚ ì”¨ ì •ë³´ ë°›ê¸°</h3><label for=toc-control><img src=/icons/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class=hidden><nav id=TableOfContents><ul><li><ul><li><a href=#openweathermaporg>OpenWeatherMap.org</a></li><li><a href=#esp32ì—ì„œ-ì‚¬ìš©í•˜ëŠ”-ê²½ìš°>ESP32ì—ì„œ ì‚¬ìš©í•˜ëŠ” ê²½ìš°</a></li><li><a href=#json-parsing>JSON Parsing</a></li><li><a href=#weather-condition-code>Weather Condition Code</a></li><li><a href=#1602-lcdì—-ë‚ ì”¨-ì •ë³´-ì¶œë ¥í•˜ê¸°>1602 LCDì— ë‚ ì”¨ ì •ë³´ ì¶œë ¥í•˜ê¸°</a></li><li><a href=#ê³µê³µë°ì´í„°-í™œìš©í•˜ê¸°>ê³µê³µë°ì´í„° í™œìš©í•˜ê¸°</a></li></ul></li></ul></nav></aside></header><article class="markdown book-post"><h1>esp32 OpenWeatherMapì—ì„œ ì‹¤ì‹œê°„ ë‚ ì”¨ ì •ë³´ ë°›ê¸°</h1><div class="flex align-center text-small book-post-date"><img src=/icons/calendar.svg class=book-icon alt>
<span>November 19, 2019</span></div><div class=text-small><a href=/categories/esp32/>Esp32</a></div><div class=text-small><a href=/tags/iot/>Iot</a></div><div class="book-post-content markdown-inner"><h3 id=openweathermaporg>OpenWeatherMap.org<a class=anchor href=#openweathermaporg>#</a></h3><p><a href=https://openweathermap.org/>OpenWeatherMap</a>ì€ ì„¸ê³„ ê° ì§€ì—­ì˜ í˜„ì¬ ë‚ ì”¨, ì˜ˆë³´, ê³¼ê±° ë‚ ì”¨ ë°ì´í„°ë¥¼ ì œê³µí•˜ëŠ” ì‚¬ì´íŠ¸ì…ë‹ˆë‹¤. (ëª‡ê°€ì§€ ì œì•½ì´ ìˆê¸´ í•˜ì§€ë§Œ) íšŒì›ê°€ì…ì„ í†µí•´ì„œ API Keyë¥¼ ìƒì„±í•˜ê³  ì´ë¥¼ í†µí•´ ë¬´ë£Œë¡œ ì‹¤ì‹œê°„ ë‚ ì”¨ ì •ë³´ë¥¼ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><br><h4 id=free-current-weather-and-forecasts-collection>Free Current weather and forecasts collection<a class=anchor href=#free-current-weather-and-forecasts-collection>#</a></h4><ul><li>60 Calls per minute (no more than)</li><li><a href=https://openweathermap.org/current>Current weather API</a></li><li><a href=https://openweathermap.org/forecast5>5 days/3 hour forecast API</a></li><li><a href=https://openweathermap.org/api/weathermaps>Weather maps 1.0</a></li><li><a href=https://openweathermap.org/api/uvi>UV index</a></li><li><a href=https://openweathermap.org/triggers>Weather alerts</a></li><li>Availability 95%</li><li>Weather API data update &lt; 2 hours</li><li>Weather maps data update &lt; 3 hours</li><li>API lifetime support : Current version</li><li>Historical weather collectionì€ ëª¨ë‘ Starter ì´ìƒ(ìœ ë£Œ)</li></ul><br><h4 id=current-weather-collections-api-key-ìƒì„±>Current weather collections API Key ìƒì„±<a class=anchor href=#current-weather-collections-api-key-%ec%83%9d%ec%84%b1>#</a></h4><ol><li><p>Sign Upì„ í´ë¦­í•˜ì—¬ íšŒì›ê°€ì…ì„ í•˜ê³ ,</p><figure class=center style=width:75%><img src=/image/owm-api-01.png alt=/image/owm-api-01.png></figure><br><figure class=center style=width:75%><img src=/image/owm-api-02.png alt=/image/owm-api-02.png></figure><br></li><li><p>Sign Inì„ í´ë¦­í•˜ì—¬ ë¡œê·¸ì¸í•œ ë’¤, API Keysë¥¼ ëˆ„ë¦…ë‹ˆë‹¤.</p><figure class=center style=width:75%><img src=/image/owm-api-03.png alt=/image/owm-api-03.png></figure><br><figure class=center style=width:75%><img src=/image/owm-api-04.png alt=/image/owm-api-04.png></figure><br></li><li><p>Defaultë¡œ ì§€ì •ë˜ì–´ ìˆëŠ” Keyë¥¼ ë³µì‚¬í•˜ê±°ë‚˜, ìƒˆë¡œìš´ Keyë¥¼ ìƒì„±í•©ë‹ˆë‹¤.</p></li></ol><figure class=center style=width:75%><img src=/image/owm-api-05.png alt=/image/owm-api-05.png></figure><br><ol start=4><li><p>API Keyë¥¼ ì´ìš©í•˜ëŠ” ë°©ë²•ì€ ë©”ì¸í™ˆí˜ì´ì§€ ë©”ë‰´ì˜ API íƒ­ì„ ëˆ„ë¥¸ë’¤, ì–»ê³ ì í•˜ëŠ” ë‚ ì”¨ì •ë³´(ì˜ˆë¥¼ ë“¤ì–´ Current weather data)ì˜ <a href=https://openweathermap.org/api><strong>API doc</strong></a>ì„ ì°¸ê³ í•˜ì„¸ìš”.</p><figure class=center style=width:75%><img src=/image/owm-api-06.png alt=/image/owm-api-06.png></figure></li><li><p>ë¨¼ì € ì¸í„°ë„· ë¸Œë¼ìš°ì €ë¥¼ í†µí•´ ë‚ ì”¨ì •ë³´ê°€ ì–´ë–»ê²Œ ì¶œë ¥ë˜ëŠ”ì§€ ì•Œì•„ë³´ê¸°ìœ„í•˜ì—¬ ì•„ë˜ í™ˆí˜ì´ì§€ ì£¼ì†Œì— ì ‘ì†í•´ë´…ë‹ˆë‹¤. ì´ë•Œ ì£¼ì†Œì˜ ëë¶€ë¶„ì— ìˆëŠ” YOUR_API_KEY ëŒ€ì‹  ë³¸ì¸ì˜ API Keyë¥¼ ì…ë ¥í•©ë‹ˆë‹¤.</p></li></ol><br><ul><li>ì„œìš¸: <a href="https://api.openweathermap.org/data/2.5/weather?q=Seoul,KR&amp;units=metric&amp;APPID=YOUR_API_KEY">https://api.openweathermap.org/data/2.5/weather?q=Seoul,KR&units=metric&APPID=YOUR_API_KEY</a></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-http data-lang=http><span class=line><span class=cl><span class=err>https://api.openweathermap.org/data/2.5/weather?q=Seoul,KR&amp;units=metric&amp;APPID=1bf3d5e1bd2e5934aadd86..........</span></span></span></code></pre></div><br><ul><li>ëŸ°ë˜: <a href="https://api.openweathermap.org/data/2.5/weather?q=London,GB&amp;units=metric&amp;appid=YOUR_API_KEY">https://api.openweathermap.org/data/2.5/weather?q=London,GB&units=metric&appid=YOUR_API_KEY</a></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-http data-lang=http><span class=line><span class=cl><span class=err>https://api.openweathermap.org/data/2.5/weather?q=London,GB&amp;units=metric&amp;APPID=1bf3d5e1bd2e5934aadd86..........</span></span></span></code></pre></div><br><ul><li>ìƒí•˜ì´: <a href="https://api.openweathermap.org/data/2.5/weather?q=Shanghai,CN&amp;units=metric&amp;APPID=YOUR_API_KEY">https://api.openweathermap.org/data/2.5/weather?q=Shanghai,CN&units=metric&APPID=YOUR_API_KEY</a></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-http data-lang=http><span class=line><span class=cl><span class=err>https://api.openweathermap.org/data/2.5/weather?q=Shanghai,CN&amp;units=metric&amp;APPID=1bf3d5e1bd2e5934aadd86..........</span></span></span></code></pre></div><br><h4 id=ë¸Œë¼ìš°ì €ì—-ì¶œë ¥ë˜ëŠ”-ë‚´ìš©>ë¸Œë¼ìš°ì €ì— ì¶œë ¥ë˜ëŠ” ë‚´ìš©<a class=anchor href=#%eb%b8%8c%eb%9d%bc%ec%9a%b0%ec%a0%80%ec%97%90-%ec%b6%9c%eb%a0%a5%eb%90%98%eb%8a%94-%eb%82%b4%ec%9a%a9>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span><span class=nt>&#34;coord&#34;</span><span class=p>:{</span><span class=nt>&#34;lon&#34;</span><span class=p>:</span><span class=mf>-0.13</span><span class=p>,</span><span class=nt>&#34;lat&#34;</span><span class=p>:</span><span class=mf>51.51</span><span class=p>},</span><span class=nt>&#34;weather&#34;</span><span class=p>:[{</span><span class=nt>&#34;id&#34;</span><span class=p>:</span><span class=mi>804</span><span class=p>,</span><span class=nt>&#34;main&#34;</span><span class=p>:</span><span class=s2>&#34;Clouds&#34;</span><span class=p>,</span><span class=nt>&#34;description&#34;</span><span class=p>:</span><span class=s2>&#34;overcast clouds&#34;</span><span class=p>,</span><span class=nt>&#34;icon&#34;</span><span class=p>:</span><span class=s2>&#34;04n&#34;</span><span class=p>}],</span><span class=nt>&#34;base&#34;</span><span class=p>:</span><span class=s2>&#34;stations&#34;</span><span class=p>,</span><span class=nt>&#34;main&#34;</span><span class=p>:{</span><span class=nt>&#34;temp&#34;</span><span class=p>:</span><span class=mf>277.16</span><span class=p>,</span><span class=nt>&#34;pressure&#34;</span><span class=p>:</span><span class=mi>1007</span><span class=p>,</span><span class=nt>&#34;humidity&#34;</span><span class=p>:</span><span class=mi>86</span><span class=p>,</span><span class=nt>&#34;temp_min&#34;</span><span class=p>:</span><span class=mf>274.82</span><span class=p>,</span><span class=nt>&#34;temp_max&#34;</span><span class=p>:</span><span class=mf>279.26</span><span class=p>},</span><span class=nt>&#34;visibility&#34;</span><span class=p>:</span><span class=mi>8000</span><span class=p>,</span><span class=nt>&#34;wind&#34;</span><span class=p>:{</span><span class=nt>&#34;speed&#34;</span><span class=p>:</span><span class=mf>5.1</span><span class=p>,</span><span class=nt>&#34;deg&#34;</span><span class=p>:</span><span class=mi>90</span><span class=p>},</span><span class=nt>&#34;clouds&#34;</span><span class=p>:{</span><span class=nt>&#34;all&#34;</span><span class=p>:</span><span class=mi>90</span><span class=p>},</span><span class=nt>&#34;dt&#34;</span><span class=p>:</span><span class=mi>1574300635</span><span class=p>,</span><span class=nt>&#34;sys&#34;</span><span class=p>:{</span><span class=nt>&#34;type&#34;</span><span class=p>:</span><span class=mi>1</span><span class=p>,</span><span class=nt>&#34;id&#34;</span><span class=p>:</span><span class=mi>1414</span><span class=p>,</span><span class=nt>&#34;country&#34;</span><span class=p>:</span><span class=s2>&#34;GB&#34;</span><span class=p>,</span><span class=nt>&#34;sunrise&#34;</span><span class=p>:</span><span class=mi>1574321288</span><span class=p>,</span><span class=nt>&#34;sunset&#34;</span><span class=p>:</span><span class=mi>1574352288</span><span class=p>},</span><span class=nt>&#34;timezone&#34;</span><span class=p>:</span><span class=mi>0</span><span class=p>,</span><span class=nt>&#34;id&#34;</span><span class=p>:</span><span class=mi>2643743</span><span class=p>,</span><span class=nt>&#34;name&#34;</span><span class=p>:</span><span class=s2>&#34;London&#34;</span><span class=p>,</span><span class=nt>&#34;cod&#34;</span><span class=p>:</span><span class=mi>200</span><span class=p>}</span></span></span></code></pre></div><br><p>ê·¸ë°–ì˜ ë„ì‹œ ë° êµ­ê°€ëª…ì€ Maps> Weather mapsë¥¼ í´ë¦­í•˜ì—¬ í‘œì‹œë˜ëŠ” ì§€ë„ë¥¼ í†µí•´ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><br><br><h3 id=esp32ì—ì„œ-ì‚¬ìš©í•˜ëŠ”-ê²½ìš°>ESP32ì—ì„œ ì‚¬ìš©í•˜ëŠ” ê²½ìš°<a class=anchor href=#esp32%ec%97%90%ec%84%9c-%ec%82%ac%ec%9a%a9%ed%95%98%eb%8a%94-%ea%b2%bd%ec%9a%b0>#</a></h3><h4 id=wifi-ì ‘ì†-ì„¤ì •>wifi ì ‘ì† ì„¤ì •<a class=anchor href=#wifi-%ec%a0%91%ec%86%8d-%ec%84%a4%ec%a0%95>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl><span class=k>const</span> <span class=kt>char</span><span class=o>*</span> <span class=n>ssid</span>     <span class=o>=</span> <span class=s>&#34;your ssid&#34;</span><span class=p>;</span>                  <span class=c1>// ì—°ê²°í•  SSID
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>const</span> <span class=kt>char</span><span class=o>*</span> <span class=n>password</span> <span class=o>=</span> <span class=s>&#34;your password&#34;</span><span class=p>;</span>              <span class=c1>// ì—°ê²°í•  SSIDì˜ ë¹„ë°€ë²ˆí˜¸
</span></span></span></code></pre></div><ul><li>wifiì— ì ‘ì†í•˜ê¸° ìœ„í•œ ssidì™€ passwordë¥¼ ì„¤ì •</li></ul><br><h4 id=openweathermaporg-ì ‘ì†-ì„¤ì •>OpenWeatherMap.org ì ‘ì† ì„¤ì •<a class=anchor href=#openweathermaporg-%ec%a0%91%ec%86%8d-%ec%84%a4%ec%a0%95>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl><span class=k>const</span> <span class=n>String</span> <span class=n>endpoint</span> <span class=o>=</span> <span class=s>&#34;https://api.openweathermap.org&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>const</span> <span class=n>String</span> <span class=n>ver</span> <span class=o>=</span> <span class=s>&#34;/data/2.5/weather?q=&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>const</span> <span class=n>String</span> <span class=n>city</span> <span class=o>=</span> <span class=s>&#34;Shanghai,CN&#34;</span><span class=p>;</span>                 <span class=c1>// City,Country (ë„ì–´ì“°ê¸° ê¸ˆì§€)
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>const</span> <span class=n>String</span> <span class=n>appid</span> <span class=o>=</span> <span class=s>&#34;&amp;units=metric&amp;APPID=&#34;</span><span class=p>;</span>       <span class=c1>// Units: metric
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>const</span> <span class=n>String</span> <span class=n>key</span> <span class=o>=</span> <span class=s>&#34;1bf3d5e1bd2e5934aadd86..........&#34;</span><span class=p>;</span>    <span class=c1>// API Key
</span></span></span></code></pre></div><ul><li>ë‚ ì”¨ ë°ì´í„°ë¥¼ ë°›ì•„ì˜¬ ë„ì‹œ, êµ­ê°€ë¥¼ ì§€ì • (Shanghai,CN) (â€»ì£¼ì˜: <strong>Shanghai,CN</strong> ì‚¬ì´ì— <strong>ë„ì–´ì“°ê¸°ë¥¼ í•˜ë©´ ì•ˆë¨</strong>)</li><li>key ë³€ìˆ˜ì— ë³¸ì˜ API Keyë¥¼ ì…ë ¥</li></ul><br><h4 id=sketch>sketch<a class=anchor href=#sketch>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;WiFi.h&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;HTTPClient.h&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span>
</span></span><span class=line><span class=cl><span class=k>const</span> <span class=kt>char</span><span class=o>*</span> <span class=n>ssid</span>     <span class=o>=</span> <span class=s>&#34;your ssid&#34;</span><span class=p>;</span>                  <span class=c1>// ì—°ê²°í•  SSID
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>const</span> <span class=kt>char</span><span class=o>*</span> <span class=n>password</span> <span class=o>=</span> <span class=s>&#34;your password&#34;</span><span class=p>;</span>              <span class=c1>// ì—°ê²°í•  SSIDì˜ ë¹„ë°€ë²ˆí˜¸
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=c1>// OpenWeatherMap.org: Shanghai,CN
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>const</span> <span class=n>String</span> <span class=n>endpoint</span> <span class=o>=</span> <span class=s>&#34;https://api.openweathermap.org&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>const</span> <span class=n>String</span> <span class=n>ver</span> <span class=o>=</span> <span class=s>&#34;/data/2.5/weather?q=&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>const</span> <span class=n>String</span> <span class=n>city</span> <span class=o>=</span> <span class=s>&#34;Shanghai,CN&#34;</span><span class=p>;</span>                 <span class=c1>// City,Country (ë„ì–´ì“°ê¸° ê¸ˆì§€)
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>const</span> <span class=n>String</span> <span class=n>appid</span> <span class=o>=</span> <span class=s>&#34;&amp;units=metric&amp;APPID=&#34;</span><span class=p>;</span>       <span class=c1>// Units: metric
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>const</span> <span class=n>String</span> <span class=n>key</span> <span class=o>=</span> <span class=s>&#34;1bf3d5e1bd2e5934aadd86..........&#34;</span><span class=p>;</span>    <span class=c1>// API Key
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=nf>setup</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>Serial</span><span class=p>.</span><span class=n>begin</span><span class=p>(</span><span class=mi>115200</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>delay</span><span class=p>(</span><span class=mi>10</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=n>WiFi</span><span class=p>.</span><span class=n>begin</span><span class=p>(</span><span class=n>ssid</span><span class=p>,</span> <span class=n>password</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// ì™€ì´íŒŒì´ ì—°ê²°
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>while</span> <span class=p>(</span><span class=n>WiFi</span><span class=p>.</span><span class=n>status</span><span class=p>()</span> <span class=o>!=</span> <span class=n>WL_CONNECTED</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=n>delay</span><span class=p>(</span><span class=mi>1000</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=n>Serial</span><span class=p>.</span><span class=n>println</span><span class=p>(</span><span class=s>&#34;Connecting to WiFi..&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>Serial</span><span class=p>.</span><span class=n>println</span><span class=p>(</span><span class=s>&#34;Connected to the WiFi network&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// ì—°ê²° ì—¬ë¶€ ë¡œê·¸ ì¶œë ¥
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kt>void</span> <span class=nf>loop</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=p>((</span><span class=n>WiFi</span><span class=p>.</span><span class=n>status</span><span class=p>()</span> <span class=o>==</span> <span class=n>WL_CONNECTED</span><span class=p>))</span> <span class=p>{</span>    <span class=c1>// Check the current connection status
</span></span></span><span class=line><span class=cl><span class=c1></span> 
</span></span><span class=line><span class=cl>    <span class=n>HTTPClient</span> <span class=n>http</span><span class=p>;</span>
</span></span><span class=line><span class=cl> 
</span></span><span class=line><span class=cl>    <span class=n>http</span><span class=p>.</span><span class=n>begin</span><span class=p>(</span><span class=n>endpoint</span> <span class=o>+</span> <span class=n>ver</span> <span class=o>+</span> <span class=n>city</span> <span class=o>+</span> <span class=n>appid</span> <span class=o>+</span> <span class=n>key</span><span class=p>);</span> <span class=c1>// Specify the URL
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kt>int</span> <span class=n>httpCode</span> <span class=o>=</span> <span class=n>http</span><span class=p>.</span><span class=n>GET</span><span class=p>();</span>                       <span class=c1>// Make the request
</span></span></span><span class=line><span class=cl><span class=c1></span> 
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=p>(</span><span class=n>httpCode</span> <span class=o>&gt;</span> <span class=mi>0</span><span class=p>)</span> <span class=p>{</span>                              <span class=c1>// Check for the returning code
</span></span></span><span class=line><span class=cl><span class=c1></span> 
</span></span><span class=line><span class=cl>        <span class=n>String</span> <span class=n>json</span> <span class=o>=</span> <span class=n>http</span><span class=p>.</span><span class=n>getString</span><span class=p>();</span>         <span class=c1>// get JSON format data
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=n>Serial</span><span class=p>.</span><span class=n>println</span><span class=p>(</span><span class=n>httpCode</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=n>Serial</span><span class=p>.</span><span class=n>println</span><span class=p>(</span><span class=n>json</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=k>else</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=n>Serial</span><span class=p>.</span><span class=n>println</span><span class=p>(</span><span class=s>&#34;Error on HTTP request&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl> 
</span></span><span class=line><span class=cl>    <span class=n>http</span><span class=p>.</span><span class=n>end</span><span class=p>();</span>                                     <span class=c1>// Free the resources
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>}</span>
</span></span><span class=line><span class=cl> 
</span></span><span class=line><span class=cl>  <span class=n>delay</span><span class=p>(</span><span class=mi>30000</span><span class=p>);</span> 
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div><br><h4 id=ì¶œë ¥-data>ì¶œë ¥ DATA<a class=anchor href=#%ec%b6%9c%eb%a0%a5-data>#</a></h4><p>ì¶œë ¥ ë°ì´í„°ëŠ” <strong>JSON</strong>(JavaScript Object Notation)ì„ ê¸°ë°˜ìœ¼ë¡œ í•©ë‹ˆë‹¤. JSONì€ í”„ë¡œê·¸ë˜ë° ì–¸ì–´ì— ê´€ê³„ì—†ì´ ë°ì´í„°ë¥¼ ìƒì„±í•˜ê³  ì½ì„ ìˆ˜ ìˆë„ë¡ ë§Œë“¤ì–´ì¡Œìœ¼ë©°, ì´ë¥¼ í†µí•´ ìƒí˜¸ê°„ì— ë³´ë‹¤ ì‰½ê²Œ ë°ì´í„°ë¥¼ êµí™˜ì´ ê°€ëŠ¥í•œ í…ìŠ¤íŠ¸ ê¸°ë°˜ì˜ ë°ì´í„° êµí™˜ ë°©ì‹ì…ë‹ˆë‹¤. OpenWeatherMapì—ì„œë„ ì´ ë°©ì‹ì„ ì‚¬ìš©í•˜ì—¬ ë‚ ì”¨ ë°ì´í„°ë¥¼ ìƒì„±í•˜ì—¬ ì¶œë ¥í•˜ê³  ìˆìœ¼ë©°, ì¶œë ¥ ë°ì´í„°ì˜ í˜•íƒœëŠ” ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤.</p><blockquote class=book-hint><p>ìŠ¤ì¼€ì¹˜ ë§¨ ì•„ë˜ë¼ì¸ì˜ delay ëª…ë ¹ìœ¼ë¡œ ì¸í•´ 10ì´ˆë§ˆë‹¤ 1ë²ˆì”© dataë¥¼ ì¶œë ¥í•©ë‹ˆë‹¤. ë‹¨, OpenWeatherMap free serviceì˜ update timeì´ 2ì‹œê°„ ì´í•˜ë¡œ ë˜ì–´ ìˆìœ¼ë¯€ë¡œ, ìë£Œ ê°±ì‹ ì´ ë§¤ ì¶œë ¥ì‹œë§ˆë‹¤ ì§„í–‰ë˜ì§€ëŠ” ì•ŠìŠµë‹ˆë‹¤.</p></blockquote><figure class=center style=width:75%><img src=/image/owm-01.png alt=/image/owm-01.png></figure><br><p>Firefox ë“±ì˜ ëª‡ëª‡ ì¸í„°ë„· ë¸Œë¼ìš°ì €ì—ì„œëŠ” JSON ë°ì´í„°ë¥¼ ë³´ë‹¤ ì§ê´€ì ìœ¼ë¡œ ì´í•´í•  ìˆ˜ ìˆë„ë¡ ê³„ì¸µë³„ë¡œ ë‚˜ëˆ„ì–´ ì¶œë ¥í•´ì£¼ê¸°ë„ í•©ë‹ˆë‹¤.</p><figure class=center style=width:50%><img src=/image/owm-02.png alt=/image/owm-02.png></figure><br><br><h3 id=json-parsing>JSON Parsing<a class=anchor href=#json-parsing>#</a></h3><p>ìœ„ì™€ ê°™ì´ ë³µì¡í•œ í˜•íƒœë¡œ ì¶œë ¥ë˜ëŠ” ë‚ ì”¨ ë°ì´í„° ì¤‘ì—ì„œ í•„ìš”í•œ ë‚ ì”¨ ì •ë³´ë¥¼ ì¶”ì¶œí•˜ê¸° ìœ„í•˜ì—¬ JSON (JavaScript Object Notation) íŒŒì‹± ê³¼ì •ì„ ê±°ì³ì•¼ í•˜ëŠ”ë°ìš”. ì´ë¥¼ ìœ„í•´ ì•„ë‘ì´ë…¸ IDEì—ì„œ Json íŒŒì‹±ì„ ìœ„í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì„¤ì¹˜í•˜ì—¬ì•¼ í•©ë‹ˆë‹¤.</p><br><h4 id=ë¼ì´ë¸ŒëŸ¬ë¦¬-ì„¤ì¹˜>ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ì¹˜<a class=anchor href=#%eb%9d%bc%ec%9d%b4%eb%b8%8c%eb%9f%ac%eb%a6%ac-%ec%84%a4%ec%b9%98>#</a></h4><p>ArduinoJson (by Benoit Blanchon) ë¼ì´ë¸ŒëŸ¬ë¦¬ (version 6)ë¥¼ ì„¤ì¹˜í•©ë‹ˆë‹¤.</p><p><strong>ìŠ¤ì¼€ì¹˜</strong>> <strong>ë¼ì´ë¸ŒëŸ¬ë¦¬ í¬í•¨í•˜ê¸°</strong>> <strong>ë¼ì´ë¸ŒëŸ¬ë¦¬ ê´€ë¦¬</strong></p><figure class=center style=width:75%><img src=/image/json-01.png alt=/image/json-01.png></figure><br><figure class=center style=width:75%><img src=/image/json-02.png alt=/image/json-02.png></figure><br><h4 id=memory-pool-í¬ê¸°-ê³„ì‚°>Memory pool í¬ê¸° ê³„ì‚°<a class=anchor href=#memory-pool-%ed%81%ac%ea%b8%b0-%ea%b3%84%ec%82%b0>#</a></h4><ol><li>JSON íŒŒì‹±ì— ì‚¬ìš©í•  ë°°ì—´ì˜ í¬ê¸°ë¥¼ ê³„ì‚°í•˜ì—¬ ë©”ëª¨ë¦¬ë¥¼ í™•ë³´í•©ë‹ˆë‹¤. ì´ë¥¼ ìœ„í•´ ìƒ˜í”Œë¡œ ì‚¬ìš©í•  JSONë°ì´í„°ê°€ í•„ìš”í•˜ë¯€ë¡œ, ë¨¼ì € ì›¹ë¸Œë¼ìš°ì €ì—ì„œ OpenWeatherMapì— ì ‘ì†í•œ ë’¤,</li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-http data-lang=http><span class=line><span class=cl><span class=err>https://api.openweathermap.org/data/2.5/weather?q=Shanghai,CN&amp;units=metric&amp;APPID=1bf3d5e1bd2e5934aadd86..........</span></span></span></code></pre></div><br><ol start=2><li>ì¶œë ¥ë˜ëŠ” JSON ë°ì´í„°ë¥¼ ë“œë˜ê·¸í•˜ì—¬ ë³µì‚¬í•©ë‹ˆë‹¤.</li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span><span class=nt>&#34;coord&#34;</span><span class=p>:{</span><span class=nt>&#34;lon&#34;</span><span class=p>:</span><span class=mf>-0.13</span><span class=p>,</span><span class=nt>&#34;lat&#34;</span><span class=p>:</span><span class=mf>51.51</span><span class=p>},</span><span class=nt>&#34;weather&#34;</span><span class=p>:[{</span><span class=nt>&#34;id&#34;</span><span class=p>:</span><span class=mi>804</span><span class=p>,</span><span class=nt>&#34;main&#34;</span><span class=p>:</span><span class=s2>&#34;Clouds&#34;</span><span class=p>,</span><span class=nt>&#34;description&#34;</span><span class=p>:</span><span class=s2>&#34;overcast clouds&#34;</span><span class=p>,</span><span class=nt>&#34;icon&#34;</span><span class=p>:</span><span class=s2>&#34;04n&#34;</span><span class=p>}],</span><span class=nt>&#34;base&#34;</span><span class=p>:</span><span class=s2>&#34;stations&#34;</span><span class=p>,</span><span class=nt>&#34;main&#34;</span><span class=p>:{</span><span class=nt>&#34;temp&#34;</span><span class=p>:</span><span class=mf>277.16</span><span class=p>,</span><span class=nt>&#34;pressure&#34;</span><span class=p>:</span><span class=mi>1007</span><span class=p>,</span><span class=nt>&#34;humidity&#34;</span><span class=p>:</span><span class=mi>86</span><span class=p>,</span><span class=nt>&#34;temp_min&#34;</span><span class=p>:</span><span class=mf>274.82</span><span class=p>,</span><span class=nt>&#34;temp_max&#34;</span><span class=p>:</span><span class=mf>279.26</span><span class=p>},</span><span class=nt>&#34;visibility&#34;</span><span class=p>:</span><span class=mi>8000</span><span class=p>,</span><span class=nt>&#34;wind&#34;</span><span class=p>:{</span><span class=nt>&#34;speed&#34;</span><span class=p>:</span><span class=mf>5.1</span><span class=p>,</span><span class=nt>&#34;deg&#34;</span><span class=p>:</span><span class=mi>90</span><span class=p>},</span><span class=nt>&#34;clouds&#34;</span><span class=p>:{</span><span class=nt>&#34;all&#34;</span><span class=p>:</span><span class=mi>90</span><span class=p>},</span><span class=nt>&#34;dt&#34;</span><span class=p>:</span><span class=mi>1574300635</span><span class=p>,</span><span class=nt>&#34;sys&#34;</span><span class=p>:{</span><span class=nt>&#34;type&#34;</span><span class=p>:</span><span class=mi>1</span><span class=p>,</span><span class=nt>&#34;id&#34;</span><span class=p>:</span><span class=mi>1414</span><span class=p>,</span><span class=nt>&#34;country&#34;</span><span class=p>:</span><span class=s2>&#34;GB&#34;</span><span class=p>,</span><span class=nt>&#34;sunrise&#34;</span><span class=p>:</span><span class=mi>1574321288</span><span class=p>,</span><span class=nt>&#34;sunset&#34;</span><span class=p>:</span><span class=mi>1574352288</span><span class=p>},</span><span class=nt>&#34;timezone&#34;</span><span class=p>:</span><span class=mi>0</span><span class=p>,</span><span class=nt>&#34;id&#34;</span><span class=p>:</span><span class=mi>2643743</span><span class=p>,</span><span class=nt>&#34;name&#34;</span><span class=p>:</span><span class=s2>&#34;London&#34;</span><span class=p>,</span><span class=nt>&#34;cod&#34;</span><span class=p>:</span><span class=mi>200</span><span class=p>}</span></span></span></code></pre></div><br><ol start=3><li><a href=https://arduinojson.org/assistant>https://arduinojson.org/assistant</a> ì— ì ‘ì†í•œ ë’¤, <strong>Input</strong>ë€ì— ìˆëŠ” ë‚´ìš©ì„ ëª¨ë‘ ì§€ìš°ê³  ë³µì‚¬í•œ JSONë°ì´í„°ë¥¼ ë¶™ì—¬ë„£ê¸°í•˜ë©´, Memory pool sizeê°€ ìë™ìœ¼ë¡œ ê³„ì‚°ë©ë‹ˆë‹¤.</li></ol><figure class=center style=width:75%><img src=/image/owm-04.png alt=/image/owm-04.png></figure><br><ol start=4><li>Memory pool sizeì˜ Expressionë¶€ë¶„ì„ ë“œë˜ê·¸í•˜ì—¬ ë³µì‚¬í•˜ê³ , Additional bytes for strings dubplucation ë¶€ë¶„ì˜ ìˆ«ìë¥¼ ì´ìš©í•˜ì—¬ ìŠ¤ì¼€ì¹˜ì—ì„œ ë‹¤ìŒì˜ í˜•ì‹ìœ¼ë¡œ ë³€ìˆ˜ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.</li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl><span class=k>const</span> <span class=n>size_t</span> <span class=n>capacity</span> <span class=o>=</span> <span class=n>JSON_ARRAY_SIZE</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span> <span class=o>+</span> <span class=n>JSON_OBJECT_SIZE</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span> <span class=o>+</span> <span class=mi>2</span><span class=o>*</span><span class=n>JSON_OBJECT_SIZE</span><span class=p>(</span><span class=mi>2</span><span class=p>)</span> <span class=o>+</span> <span class=n>JSON_OBJECT_SIZE</span><span class=p>(</span><span class=mi>4</span><span class=p>)</span> <span class=o>+</span> <span class=mi>2</span><span class=o>*</span><span class=n>JSON_OBJECT_SIZE</span><span class=p>(</span><span class=mi>5</span><span class=p>)</span> <span class=o>+</span> <span class=n>JSON_OBJECT_SIZE</span><span class=p>(</span><span class=mi>13</span><span class=p>)</span> <span class=o>+</span> <span class=mi>240</span><span class=p>;</span></span></span></code></pre></div><blockquote class=book-hint><p>ì‹¤ì œë¡œëŠ” ì•„ë˜ Parsing Programì— ì´ë¯¸ ë³€ìˆ˜ê°€ ì„¤ì •ë˜ì–´ ìˆìœ¼ë¯€ë¡œ, ì´ ê³¼ì •ì€ ìˆ˜í–‰í•˜ì§€ ì•Šì•„ë„ ë©ë‹ˆë‹¤.</p></blockquote><br><h4 id=parsing-program>Parsing program<a class=anchor href=#parsing-program>#</a></h4><ol><li>Memory pool sizeê°€ ì¶œë ¥ëœ í™”ë©´ì˜ ì•„ë˜ìª½ì— Parsing programë„ í•¨ê»˜ ì¶œë ¥ë©ë‹ˆë‹¤.</li></ol><figure class=center style=width:75%><img src=/image/owm-05.png alt=/image/owm-05.png></figure><br><ol start=2><li>ìš°ì„  Parsing Program ì „ì²´ë¥¼ ë³µì‚¬í•œ ë’¤, ìŠ¤ì¼€ì¹˜ì˜ void loop() ë¶€ë¶„ì— ë¶™ì—¬ë„£ê¸° í•©ë‹ˆë‹¤.</li></ol><br><ol start=3><li>ë°‘ì¤„ì¹œ ë¶€ë¶„ì˜ json ë³€ìˆ˜ê°€ ë‚˜íƒ€ë‚˜ ìˆëŠ” ë¼ì¸ì„ ëª¨ë‘ ì§€ìš°ê³ </li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl><span class=k>const</span> <span class=kt>char</span><span class=o>*</span> <span class=n>json</span> <span class=o>=</span> <span class=s>&#34;{</span><span class=se>\&#34;</span><span class=s>coord</span><span class=se>\&#34;</span><span class=s>:{</span><span class=se>\&#34;</span><span class=s>lon</span><span class=se>\&#34;</span><span class=s>:121.49,</span><span class=se>\&#34;</span><span class=s>lat</span><span class=se>\&#34;</span><span class=s>:31.23},</span><span class=se>\&#34;</span><span class=s>weather</span><span class=se>\&#34;</span><span class=s>:[{</span><span class=se>\&#34;</span><span class=s>id</span><span class=se>\&#34;</span><span class=s>:804,</span><span class=se>\&#34;</span><span class=s>main</span><span class=se>\&#34;</span><span class=s>:</span><span class=se>\&#34;</span><span class=s>Clouds</span><span class=se>\&#34;</span><span class=s>,</span><span class=se>\&#34;</span><span class=s>description</span><span class=se>\&#34;</span><span class=s>:</span><span class=se>\&#34;</span><span class=s>overcast clouds</span><span class=se>\&#34;</span><span class=s>,</span><span class=se>\&#34;</span><span class=s>icon</span><span class=se>\&#34;</span><span class=s>:</span><span class=se>\&#34;</span><span class=s>04d</span><span class=se>\&#34;</span><span class=s>}],</span><span class=se>\&#34;</span><span class=s>base</span><span class=se>\&#34;</span><span class=s>:</span><span class=se>\&#34;</span><span class=s>stations</span><span class=se>\&#34;</span><span class=s>,</span><span class=se>\&#34;</span><span class=s>main</span><span class=se>\&#34;</span><span class=s>:{</span><span class=se>\&#34;</span><span class=s>temp</span><span class=se>\&#34;</span><span class=s>:293.02,</span><span class=se>\&#34;</span><span class=s>pressure</span><span class=se>\&#34;</span><span class=s>:1027,</span><span class=se>\&#34;</span><span class=s>humidity</span><span class=se>\&#34;</span><span class=s>:55,</span><span class=se>\&#34;</span><span class=s>temp_min</span><span class=se>\&#34;</span><span class=s>:289.82,</span><span class=se>\&#34;</span><span class=s>temp_max</span><span class=se>\&#34;</span><span class=s>:298.71},</span><span class=se>\&#34;</span><span class=s>visibility</span><span class=se>\&#34;</span><span class=s>:10000,</span><span class=se>\&#34;</span><span class=s>wind</span><span class=se>\&#34;</span><span class=s>:{</span><span class=se>\&#34;</span><span class=s>speed</span><span class=se>\&#34;</span><span class=s>:3,</span><span class=se>\&#34;</span><span class=s>deg</span><span class=se>\&#34;</span><span class=s>:60},</span><span class=se>\&#34;</span><span class=s>clouds</span><span class=se>\&#34;</span><span class=s>:{</span><span class=se>\&#34;</span><span class=s>all</span><span class=se>\&#34;</span><span class=s>:94},</span><span class=se>\&#34;</span><span class=s>dt</span><span class=se>\&#34;</span><span class=s>:1574303919,</span><span class=se>\&#34;</span><span class=s>sys</span><span class=se>\&#34;</span><span class=s>:{</span><span class=se>\&#34;</span><span class=s>type</span><span class=se>\&#34;</span><span class=s>:1,</span><span class=se>\&#34;</span><span class=s>id</span><span class=se>\&#34;</span><span class=s>:9659,</span><span class=se>\&#34;</span><span class=s>country</span><span class=se>\&#34;</span><span class=s>:</span><span class=se>\&#34;</span><span class=s>CN</span><span class=se>\&#34;</span><span class=s>,</span><span class=se>\&#34;</span><span class=s>sunrise</span><span class=se>\&#34;</span><span class=s>:1574288762,</span><span class=se>\&#34;</span><span class=s>sunset</span><span class=se>\&#34;</span><span class=s>:1574326426},</span><span class=se>\&#34;</span><span class=s>timezone</span><span class=se>\&#34;</span><span class=s>:28800,</span><span class=se>\&#34;</span><span class=s>id</span><span class=se>\&#34;</span><span class=s>:1796236,</span><span class=se>\&#34;</span><span class=s>name</span><span class=se>\&#34;</span><span class=s>:</span><span class=se>\&#34;</span><span class=s>Shanghai</span><span class=se>\&#34;</span><span class=s>,</span><span class=se>\&#34;</span><span class=s>cod</span><span class=se>\&#34;</span><span class=s>:200}&#34;</span><span class=p>;</span></span></span></code></pre></div><br><ol start=4><li>OpenWeatherMapì—ì„œ ì‹¤ì‹œê°„ìœ¼ë¡œ ë°›ëŠ” String í˜•ì‹ì˜ ë°ì´í„° ë³€ìˆ˜ë¡œ ë°”ê¿”ì¤ë‹ˆë‹¤.</li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl><span class=n>String</span> <span class=n>json</span> <span class=o>=</span> <span class=n>http</span><span class=p>.</span><span class=n>getString</span><span class=p>();</span></span></span></code></pre></div><br><ol start=5><li>Timezone ë°˜ì˜ì„ ìœ„í•˜ì—¬, ë¶™ì—¬ë„£ê¸° í•œ Parsing programì˜ ì•„ë˜ ë¶€ë¶„ì— ì•„ë˜ ë‚´ìš©ì„ ì¶”ê°€í•©ë‹ˆë‹¤.</li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl><span class=n>dt</span> <span class=o>=</span> <span class=n>dt</span> <span class=o>+</span> <span class=n>timezone</span><span class=p>;</span>                     <span class=c1>// for GMT+8 -&gt; +28800, for GMT+9 -&gt; +32400
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>sys_sunrise</span> <span class=o>=</span> <span class=n>sys_sunrise</span> <span class=o>+</span> <span class=n>timezone</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=n>sys_sunset</span> <span class=o>=</span> <span class=n>sys_sunset</span> <span class=o>+</span> <span class=n>timezone</span><span class=p>;</span></span></span></code></pre></div><br><ol start=6><li><p>UNIX Timestampë¡œ í‘œê¸°ë˜ëŠ” ì‹œê°„ì„ ì¼ë°˜ì ì¸ ë‚ ì§œ, ì‹œê°„ìœ¼ë¡œ í‘œê¸°ë˜ë„ë¡ ë³€í™˜í•´ì¤ë‹ˆë‹¤. ì´ë¥¼ ìœ„í•´ì„œ timelib.h íŒŒì¼ì„ ì´ìš©í•´ì•¼í•˜ëŠ”ë°, ì´ íŒŒì¼ì€ Time ë¼ì´ë¸ŒëŸ¬ë¦¬(by Michael Margolis)ì— í¬í•¨ë˜ì–´ ìˆì§€ìš”. ê·¸ëŸ¬ë¯€ë¡œ ë¼ì´ë¸ŒëŸ¬ë¦¬ ë§¤ë‹ˆì €ë¥¼ í†µí•´ Timeë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì°¾ì•„ ì„¤ì¹˜í•´ì¤ë‹ˆë‹¤.</p><figure class=center style=width:75%><img src=/image/owm-10.png alt=/image/owm-10.png></figure></li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl><span class=n>year</span><span class=p>(</span><span class=n>dt</span><span class=p>),</span> <span class=n>month</span><span class=p>(</span><span class=n>dt</span><span class=p>),</span> <span class=n>day</span><span class=p>(</span><span class=n>dt</span><span class=p>),</span> <span class=n>hour</span><span class=p>(</span><span class=n>dt</span><span class=p>),</span> <span class=n>minute</span><span class=p>(</span><span class=n>dt</span><span class=p>),</span> <span class=n>second</span><span class=p>(</span><span class=n>dt</span><span class=p>),</span> <span class=n>weekday</span><span class=p>(</span><span class=n>dt</span><span class=p>));</span></span></span></code></pre></div><p>â€‹ ìœ„ì˜ ìŠ¤ì¼€ì¹˜ë¥¼ í†µí•´ì„œ UTCë¥¼ YYYY.MM.DD HH:MM:SS(ìš”ì¼) í˜•íƒœì˜ ë‚ ì§œë¥¼ ë³€í™˜í•˜ë©°, printfë¬¸ì„ í†µí•´ ì¶œë ¥í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><br><h4 id=data-ì¶œë ¥ì—-ì‚¬ìš©í•œ-variables>Data ì¶œë ¥ì— ì‚¬ìš©í•œ variables<a class=anchor href=#data-%ec%b6%9c%eb%a0%a5%ec%97%90-%ec%82%ac%ec%9a%a9%ed%95%9c-variables>#</a></h4><p>JSON í˜•ì‹ì˜ ë°ì´í„°ë¥¼ íŒŒì‹±í• ë•Œ ì‚¬ìš©í•œ ë³€ìˆ˜ë“¤ì…ë‹ˆë‹¤.</p><table><thead><tr><th>ë‚´ìš©</th><th>í˜•ì‹</th><th>ë³€ìˆ˜</th><th>unit</th></tr></thead><tbody><tr><td>UNIX Time(UTC)</td><td>long</td><td>dt</td><td></td></tr><tr><td>Weather ID</td><td>int</td><td>weather_0_id</td><td></td></tr><tr><td>Weather Main</td><td>const char*</td><td>weather_0_main</td><td></td></tr><tr><td>Weather Description</td><td>const char*</td><td>weather_0_description</td><td></td></tr><tr><td>Weather Icon ID</td><td>const char*</td><td>weather_0_icon</td><td></td></tr><tr><td>Temperature</td><td>float</td><td>main_temp</td><td>â„ƒ</td></tr><tr><td>Temperature Max.</td><td>float</td><td>main_temp_max</td><td>â„ƒ</td></tr><tr><td>Temperature Min.</td><td>float</td><td>main_temp_min</td><td>â„ƒ</td></tr><tr><td>Pressure</td><td>int</td><td>main_pressure</td><td>hPa</td></tr><tr><td>Humidity</td><td>int</td><td>main_humidity</td><td>%</td></tr><tr><td>Visibility</td><td>int</td><td>visibility</td><td>m</td></tr><tr><td>Wind Speed</td><td>int</td><td>wind_speed</td><td>m/s</td></tr><tr><td>Wind Degree</td><td>int</td><td>wind_deg</td><td>Âº</td></tr><tr><td>Clouds</td><td>int</td><td>clouds_all</td><td></td></tr><tr><td>Sunrise</td><td>long</td><td>sys_sunrise</td><td></td></tr><tr><td>Sunset</td><td>long</td><td>sys_sunset</td><td></td></tr><tr><td>City ID</td><td>long</td><td>id</td><td></td></tr><tr><td>City name</td><td>const char*</td><td>name</td><td></td></tr><tr><td>Country</td><td>const char*</td><td>sys_country</td><td></td></tr><tr><td>Longitude</td><td>float</td><td>coord_lon</td><td>Âº</td></tr><tr><td>Latitude</td><td>float</td><td>coord_lat</td><td>Âº</td></tr><tr><td>GMT</td><td>int</td><td>timezone (â€»timezone/3600)</td><td>hour</td></tr><tr><td></td><td>int</td><td>sys_type</td><td></td></tr><tr><td></td><td>int</td><td>sys_id</td><td></td></tr><tr><td>Base</td><td>const char*</td><td>base</td><td></td></tr><tr><td>COD</td><td>int</td><td>cod</td><td></td></tr></tbody></table><br><br><h4 id=sketch-ì „ì²´>sketch: ì „ì²´<a class=anchor href=#sketch-%ec%a0%84%ec%b2%b4>#</a></h4><p>ìœ„ì˜ ê³¼ì •ì„ í†µí•´ ë§Œë“¤ì§„ ë¶€ë¶„ ìŠ¤ì¼€ì¹˜ë¥¼ ë³‘í•©í•˜ì—¬ JSON íŒŒì‹±ì„ ìœ„í•œ ì „ì²´ ìŠ¤ì¼€ì¹˜ë¥¼ êµ¬ì„±í•´ë´…ë‹ˆë‹¤.</p><blockquote class=book-hint><p>ArduinoJson ë¼ì´ë¸ŒëŸ¬ë¦¬ì˜ ê²½ìš° version 5ì™€ 6ì˜ ì‚¬ìš© ë¬¸ë²•ì´ ì¡°ê¸ˆ ë‹¤ë¦…ë‹ˆë‹¤. í˜„ì¬ Arduino IDEì—ì„œ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì¶”ê°€ê³¼ì •ì„ í†µí•´ ë‹¤ìš´ë¡œë“œ ë°›ì„ ìˆ˜ ìˆëŠ” ìµœì‹  ë¼ì´ë¸ŒëŸ¬ë¦¬ ë²„ì „ì´ ArduinoJson 6ì´ë¯€ë¡œ, ì´ì— ë§ê²Œ ì‘ì„±í•˜ì—¬ì•¼í•©ë‹ˆë‹¤. (ê¸°ì¡´ì˜ ArduinoJson 5ì— ë§ê²Œ ì‘ì„±ëœ ìŠ¤ì¼€ì¹˜ëŠ” ì»´íŒŒì¼ì´ ë˜ì§€ ì•Šìœ¼ë¯€ë¡œ, <a href=https://arduinojson.org/v6/doc/upgrade/>Migrating from version 5 to 6</a> ë¬¸ì„œë¥¼ ì°¸ê³ í•˜ì—¬ ìŠ¤ì¼€ì¹˜ë¥¼ ë³€ê²½í•´ì•¼ í•©ë‹ˆë‹¤.)</p></blockquote><div class=highlight><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;WiFi.h&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;HTTPClient.h&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;ArduinoJson.h&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;TimeLib.h&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span> 
</span></span><span class=line><span class=cl><span class=k>const</span> <span class=kt>char</span><span class=o>*</span> <span class=n>ssid</span>     <span class=o>=</span> <span class=s>&#34;your ssid&#34;</span><span class=p>;</span>                  <span class=c1>// ì—°ê²°í•  SSID
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>const</span> <span class=kt>char</span><span class=o>*</span> <span class=n>password</span> <span class=o>=</span> <span class=s>&#34;your password&#34;</span><span class=p>;</span>              <span class=c1>// ì—°ê²°í•  SSIDì˜ ë¹„ë°€ë²ˆí˜¸
</span></span></span><span class=line><span class=cl><span class=c1></span> 
</span></span><span class=line><span class=cl><span class=k>const</span> <span class=n>String</span> <span class=n>endpoint</span> <span class=o>=</span> <span class=s>&#34;https://api.openweathermap.org&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>const</span> <span class=n>String</span> <span class=n>ver</span> <span class=o>=</span> <span class=s>&#34;/data/2.5/weather?q=&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>const</span> <span class=n>String</span> <span class=n>city</span> <span class=o>=</span> <span class=s>&#34;Shanghai,CN&#34;</span><span class=p>;</span>                 <span class=c1>// City,Country (ë„ì–´ì“°ê¸° ê¸ˆì§€)
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>const</span> <span class=n>String</span> <span class=n>appid</span> <span class=o>=</span> <span class=s>&#34;&amp;units=metric&amp;APPID=&#34;</span><span class=p>;</span>       <span class=c1>// Units: metric
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>const</span> <span class=n>String</span> <span class=n>key</span> <span class=o>=</span> <span class=s>&#34;1bf3d5e1bd2e5934aadd86..........&#34;</span><span class=p>;</span>    <span class=c1>// API Key
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=kt>unsigned</span> <span class=kt>long</span> <span class=n>offset_days</span> <span class=o>=</span> <span class=mi>3</span><span class=p>;</span>     <span class=c1>// 3 days for convert unix timestamp to datetime
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=nf>setup</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl> 
</span></span><span class=line><span class=cl>  <span class=n>Serial</span><span class=p>.</span><span class=n>begin</span><span class=p>(</span><span class=mi>115200</span><span class=p>);</span>
</span></span><span class=line><span class=cl> 
</span></span><span class=line><span class=cl>  <span class=n>WiFi</span><span class=p>.</span><span class=n>begin</span><span class=p>(</span><span class=n>ssid</span><span class=p>,</span> <span class=n>password</span><span class=p>);</span>
</span></span><span class=line><span class=cl> 
</span></span><span class=line><span class=cl>  <span class=k>while</span> <span class=p>(</span><span class=n>WiFi</span><span class=p>.</span><span class=n>status</span><span class=p>()</span> <span class=o>!=</span> <span class=n>WL_CONNECTED</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>delay</span><span class=p>(</span><span class=mi>1000</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>Serial</span><span class=p>.</span><span class=n>println</span><span class=p>(</span><span class=s>&#34;Connecting to WiFi..&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl> 
</span></span><span class=line><span class=cl>  <span class=n>Serial</span><span class=p>.</span><span class=n>println</span><span class=p>(</span><span class=s>&#34;Connected to the WiFi network&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl> 
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=nf>loop</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=p>((</span><span class=n>WiFi</span><span class=p>.</span><span class=n>status</span><span class=p>()</span> <span class=o>==</span> <span class=n>WL_CONNECTED</span><span class=p>))</span> <span class=p>{</span>      <span class=c1>// Check the current connection status
</span></span></span><span class=line><span class=cl><span class=c1></span> 
</span></span><span class=line><span class=cl>    <span class=n>HTTPClient</span> <span class=n>http</span><span class=p>;</span>
</span></span><span class=line><span class=cl> 
</span></span><span class=line><span class=cl>    <span class=n>http</span><span class=p>.</span><span class=n>begin</span><span class=p>(</span><span class=n>endpoint</span> <span class=o>+</span> <span class=n>ver</span> <span class=o>+</span> <span class=n>city</span> <span class=o>+</span> <span class=n>appid</span> <span class=o>+</span> <span class=n>key</span><span class=p>);</span> <span class=c1>// Specify the URL
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kt>int</span> <span class=n>httpCode</span> <span class=o>=</span> <span class=n>http</span><span class=p>.</span><span class=n>GET</span><span class=p>();</span>                       <span class=c1>// Make the request
</span></span></span><span class=line><span class=cl><span class=c1></span> 
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=p>(</span><span class=n>httpCode</span> <span class=o>&gt;</span> <span class=mi>0</span><span class=p>)</span> <span class=p>{</span>                              <span class=c1>// Check for the returning code
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=c1>// ë°ì´í„° íŒŒì‹±
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=k>const</span> <span class=n>size_t</span> <span class=n>capacity</span> <span class=o>=</span> <span class=n>JSON_ARRAY_SIZE</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span> <span class=o>+</span> <span class=n>JSON_OBJECT_SIZE</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span> <span class=o>+</span> <span class=mi>2</span><span class=o>*</span><span class=n>JSON_OBJECT_SIZE</span><span class=p>(</span><span class=mi>2</span><span class=p>)</span> <span class=o>+</span> <span class=n>JSON_OBJECT_SIZE</span><span class=p>(</span><span class=mi>4</span><span class=p>)</span> <span class=o>+</span> <span class=mi>2</span><span class=o>*</span><span class=n>JSON_OBJECT_SIZE</span><span class=p>(</span><span class=mi>5</span><span class=p>)</span> <span class=o>+</span> <span class=n>JSON_OBJECT_SIZE</span><span class=p>(</span><span class=mi>13</span><span class=p>)</span> <span class=o>+</span> <span class=mi>270</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=n>DynamicJsonDocument</span> <span class=n>doc</span><span class=p>(</span><span class=n>capacity</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>      <span class=n>String</span> <span class=n>json</span> <span class=o>=</span> <span class=n>http</span><span class=p>.</span><span class=n>getString</span><span class=p>();</span>                <span class=c1>// get JSON format data
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>      <span class=n>deserializeJson</span><span class=p>(</span><span class=n>doc</span><span class=p>,</span> <span class=n>json</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>      <span class=kt>float</span> <span class=n>coord_lon</span> <span class=o>=</span> <span class=n>doc</span><span class=p>[</span><span class=s>&#34;coord&#34;</span><span class=p>][</span><span class=s>&#34;lon&#34;</span><span class=p>];</span> <span class=c1>// 121.49
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=kt>float</span> <span class=n>coord_lat</span> <span class=o>=</span> <span class=n>doc</span><span class=p>[</span><span class=s>&#34;coord&#34;</span><span class=p>][</span><span class=s>&#34;lat&#34;</span><span class=p>];</span> <span class=c1>// 31.23
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>      <span class=n>JsonObject</span> <span class=n>weather_0</span> <span class=o>=</span> <span class=n>doc</span><span class=p>[</span><span class=s>&#34;weather&#34;</span><span class=p>][</span><span class=mi>0</span><span class=p>];</span>
</span></span><span class=line><span class=cl>      <span class=kt>int</span> <span class=n>weather_0_id</span> <span class=o>=</span> <span class=n>weather_0</span><span class=p>[</span><span class=s>&#34;id&#34;</span><span class=p>];</span> <span class=c1>// 804
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=k>const</span> <span class=kt>char</span><span class=o>*</span> <span class=n>weather_0_main</span> <span class=o>=</span> <span class=n>weather_0</span><span class=p>[</span><span class=s>&#34;main&#34;</span><span class=p>];</span> <span class=c1>// &#34;Clouds&#34;
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=k>const</span> <span class=kt>char</span><span class=o>*</span> <span class=n>weather_0_description</span> <span class=o>=</span> <span class=n>weather_0</span><span class=p>[</span><span class=s>&#34;description&#34;</span><span class=p>];</span> <span class=c1>// &#34;overcast clouds&#34;
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=k>const</span> <span class=kt>char</span><span class=o>*</span> <span class=n>weather_0_icon</span> <span class=o>=</span> <span class=n>weather_0</span><span class=p>[</span><span class=s>&#34;icon&#34;</span><span class=p>];</span> <span class=c1>// &#34;04d&#34;
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>      <span class=cm>/*
</span></span></span><span class=line><span class=cl><span class=cm>      JsonObject weather_1 = weather[1];
</span></span></span><span class=line><span class=cl><span class=cm>      int weather_1_id = weather_1[&#34;id&#34;]; // 701
</span></span></span><span class=line><span class=cl><span class=cm>      const char* weather_1_main = weather_1[&#34;main&#34;]; // &#34;Mist&#34;
</span></span></span><span class=line><span class=cl><span class=cm>      const char* weather_1_description = weather_1[&#34;description&#34;]; // &#34;mist&#34;
</span></span></span><span class=line><span class=cl><span class=cm>      const char* weather_1_icon = weather_1[&#34;icon&#34;]; // &#34;50n&#34;
</span></span></span><span class=line><span class=cl><span class=cm>
</span></span></span><span class=line><span class=cl><span class=cm>      JsonObject weather_2 = weather[2];
</span></span></span><span class=line><span class=cl><span class=cm>      int weather_2_id = weather_2[&#34;id&#34;]; // 741
</span></span></span><span class=line><span class=cl><span class=cm>      const char* weather_2_main = weather_2[&#34;main&#34;]; // &#34;Fog&#34;
</span></span></span><span class=line><span class=cl><span class=cm>      const char* weather_2_description = weather_2[&#34;description&#34;]; // &#34;fog&#34;
</span></span></span><span class=line><span class=cl><span class=cm>      const char* weather_2_icon = weather_2[&#34;icon&#34;]; // &#34;50n&#34;
</span></span></span><span class=line><span class=cl><span class=cm>      */</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>      <span class=k>const</span> <span class=kt>char</span><span class=o>*</span> <span class=n>base</span> <span class=o>=</span> <span class=n>doc</span><span class=p>[</span><span class=s>&#34;base&#34;</span><span class=p>];</span> <span class=c1>// &#34;stations&#34;
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>      <span class=n>JsonObject</span> <span class=n>main</span> <span class=o>=</span> <span class=n>doc</span><span class=p>[</span><span class=s>&#34;main&#34;</span><span class=p>];</span>
</span></span><span class=line><span class=cl>      <span class=kt>float</span> <span class=n>main_temp</span> <span class=o>=</span> <span class=n>main</span><span class=p>[</span><span class=s>&#34;temp&#34;</span><span class=p>];</span> <span class=c1>// 293.02
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=kt>int</span> <span class=n>main_pressure</span> <span class=o>=</span> <span class=n>main</span><span class=p>[</span><span class=s>&#34;pressure&#34;</span><span class=p>];</span> <span class=c1>// 1027
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=kt>int</span> <span class=n>main_humidity</span> <span class=o>=</span> <span class=n>main</span><span class=p>[</span><span class=s>&#34;humidity&#34;</span><span class=p>];</span> <span class=c1>// 55
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=kt>float</span> <span class=n>main_temp_min</span> <span class=o>=</span> <span class=n>main</span><span class=p>[</span><span class=s>&#34;temp_min&#34;</span><span class=p>];</span> <span class=c1>// 289.82
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=kt>float</span> <span class=n>main_temp_max</span> <span class=o>=</span> <span class=n>main</span><span class=p>[</span><span class=s>&#34;temp_max&#34;</span><span class=p>];</span> <span class=c1>// 298.71
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>      <span class=kt>int</span> <span class=n>visibility</span> <span class=o>=</span> <span class=n>doc</span><span class=p>[</span><span class=s>&#34;visibility&#34;</span><span class=p>];</span> <span class=c1>// 10000
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>      <span class=kt>int</span> <span class=n>wind_speed</span> <span class=o>=</span> <span class=n>doc</span><span class=p>[</span><span class=s>&#34;wind&#34;</span><span class=p>][</span><span class=s>&#34;speed&#34;</span><span class=p>];</span> <span class=c1>// 3
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=kt>int</span> <span class=n>wind_deg</span> <span class=o>=</span> <span class=n>doc</span><span class=p>[</span><span class=s>&#34;wind&#34;</span><span class=p>][</span><span class=s>&#34;deg&#34;</span><span class=p>];</span> <span class=c1>// 60
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>      <span class=kt>int</span> <span class=n>clouds_all</span> <span class=o>=</span> <span class=n>doc</span><span class=p>[</span><span class=s>&#34;clouds&#34;</span><span class=p>][</span><span class=s>&#34;all&#34;</span><span class=p>];</span> <span class=c1>// 94
</span></span></span><span class=line><span class=cl><span class=c1></span>      
</span></span><span class=line><span class=cl>      <span class=kt>long</span> <span class=n>dt</span> <span class=o>=</span> <span class=n>doc</span><span class=p>[</span><span class=s>&#34;dt&#34;</span><span class=p>];</span> <span class=c1>// 1574303919
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>      <span class=n>JsonObject</span> <span class=n>sys</span> <span class=o>=</span> <span class=n>doc</span><span class=p>[</span><span class=s>&#34;sys&#34;</span><span class=p>];</span>
</span></span><span class=line><span class=cl>      <span class=kt>int</span> <span class=n>sys_type</span> <span class=o>=</span> <span class=n>sys</span><span class=p>[</span><span class=s>&#34;type&#34;</span><span class=p>];</span> <span class=c1>// 1
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=kt>int</span> <span class=n>sys_id</span> <span class=o>=</span> <span class=n>sys</span><span class=p>[</span><span class=s>&#34;id&#34;</span><span class=p>];</span> <span class=c1>// 9659
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=c1>//float sys_message = sys[&#34;message&#34;]; // Internal parameter (0.0226)
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=k>const</span> <span class=kt>char</span><span class=o>*</span> <span class=n>sys_country</span> <span class=o>=</span> <span class=n>sys</span><span class=p>[</span><span class=s>&#34;country&#34;</span><span class=p>];</span> <span class=c1>// &#34;CN&#34;
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=kt>long</span> <span class=n>sys_sunrise</span> <span class=o>=</span> <span class=n>sys</span><span class=p>[</span><span class=s>&#34;sunrise&#34;</span><span class=p>];</span> <span class=c1>// 1574288762
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=kt>long</span> <span class=n>sys_sunset</span> <span class=o>=</span> <span class=n>sys</span><span class=p>[</span><span class=s>&#34;sunset&#34;</span><span class=p>];</span> <span class=c1>// 1574326426
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>      <span class=kt>int</span> <span class=n>timezone</span> <span class=o>=</span> <span class=n>doc</span><span class=p>[</span><span class=s>&#34;timezone&#34;</span><span class=p>];</span> <span class=c1>// 28800
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=kt>long</span> <span class=n>id</span> <span class=o>=</span> <span class=n>doc</span><span class=p>[</span><span class=s>&#34;id&#34;</span><span class=p>];</span> <span class=c1>// 1796236
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=k>const</span> <span class=kt>char</span><span class=o>*</span> <span class=n>name</span> <span class=o>=</span> <span class=n>doc</span><span class=p>[</span><span class=s>&#34;name&#34;</span><span class=p>];</span> <span class=c1>// &#34;Shanghai&#34;
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=kt>int</span> <span class=n>cod</span> <span class=o>=</span> <span class=n>doc</span><span class=p>[</span><span class=s>&#34;cod&#34;</span><span class=p>];</span> <span class=c1>// 200
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>      <span class=n>dt</span> <span class=o>=</span> <span class=n>dt</span> <span class=o>+</span> <span class=n>timezone</span><span class=p>;</span>                <span class=c1>// for GMT+8 -&gt; +28800, for GMT+9 -&gt; +32400
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=n>sys_sunrise</span> <span class=o>=</span> <span class=n>sys_sunrise</span> <span class=o>+</span> <span class=n>timezone</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=n>sys_sunset</span> <span class=o>=</span> <span class=n>sys_sunset</span> <span class=o>+</span> <span class=n>timezone</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>      <span class=c1>//int main_sea_level = main[&#34;sea_level&#34;]; // Atmospheric pressure hPa on the sea level
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=c1>//int main_grnd_level = main[&#34;grnd_level&#34;]; // Atmospheric pressure hPa on the ground level     
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=c1>//int rain_1h = doc[&#34;rain&#34;][&#34;1h&#34;]; // Rain volume for the last 1 hour, mm
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=c1>//int rain_3h = doc[&#34;rain&#34;][&#34;3h&#34;]; // Rain volume for the last 3 hour, mm
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=c1>//int snow_1h = doc[&#34;snow&#34;][&#34;1h&#34;]; // Snow volume for the last 1 hour, mm
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=c1>//int snow_3h = doc[&#34;snow&#34;][&#34;3h&#34;]; // Snow volume for the last 3 hour, mm
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>      <span class=c1>//ë°ì´í„° ì¶œë ¥
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=n>Serial</span><span class=p>.</span><span class=n>print</span><span class=p>(</span><span class=s>&#34;UNIX Time of Weather: &#34;</span><span class=p>);</span> <span class=n>Serial</span><span class=p>.</span><span class=n>println</span><span class=p>(</span><span class=n>dt</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=n>Serial</span><span class=p>.</span><span class=n>printf</span><span class=p>(</span><span class=s>&#34;Time of Weather: %4d-%02d-%02d %02d:%02d:%02d(%1d)</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>,</span> <span class=n>year</span><span class=p>(</span><span class=n>dt</span><span class=p>),</span> <span class=n>month</span><span class=p>(</span><span class=n>dt</span><span class=p>),</span> <span class=n>day</span><span class=p>(</span><span class=n>dt</span><span class=p>),</span> <span class=n>hour</span><span class=p>(</span><span class=n>dt</span><span class=p>),</span> <span class=n>minute</span><span class=p>(</span><span class=n>dt</span><span class=p>),</span> <span class=n>second</span><span class=p>(</span><span class=n>dt</span><span class=p>),</span> <span class=n>weekday</span><span class=p>(</span><span class=n>dt</span><span class=p>));</span>
</span></span><span class=line><span class=cl>      <span class=n>Serial</span><span class=p>.</span><span class=n>print</span><span class=p>(</span><span class=s>&#34;Weather ID: &#34;</span><span class=p>);</span> <span class=n>Serial</span><span class=p>.</span><span class=n>println</span><span class=p>(</span><span class=n>weather_0_id</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=n>Serial</span><span class=p>.</span><span class=n>print</span><span class=p>(</span><span class=s>&#34;Weather Main: &#34;</span><span class=p>);</span> <span class=n>Serial</span><span class=p>.</span><span class=n>println</span><span class=p>(</span><span class=n>weather_0_main</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=n>Serial</span><span class=p>.</span><span class=n>print</span><span class=p>(</span><span class=s>&#34;Weather Description: &#34;</span><span class=p>);</span> <span class=n>Serial</span><span class=p>.</span><span class=n>println</span><span class=p>(</span><span class=n>weather_0_description</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=n>Serial</span><span class=p>.</span><span class=n>print</span><span class=p>(</span><span class=s>&#34;Weather Icon: &#34;</span><span class=p>);</span> <span class=n>Serial</span><span class=p>.</span><span class=n>println</span><span class=p>(</span><span class=n>weather_0_icon</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=n>Serial</span><span class=p>.</span><span class=n>print</span><span class=p>(</span><span class=s>&#34;Temperature(â„ƒ): &#34;</span><span class=p>);</span> <span class=n>Serial</span><span class=p>.</span><span class=n>println</span><span class=p>(</span><span class=n>main_temp</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=n>Serial</span><span class=p>.</span><span class=n>print</span><span class=p>(</span><span class=s>&#34;Temperature Max(â„ƒ): &#34;</span><span class=p>);</span> <span class=n>Serial</span><span class=p>.</span><span class=n>println</span><span class=p>(</span><span class=n>main_temp_max</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=n>Serial</span><span class=p>.</span><span class=n>print</span><span class=p>(</span><span class=s>&#34;Temperature Min(â„ƒ): &#34;</span><span class=p>);</span> <span class=n>Serial</span><span class=p>.</span><span class=n>println</span><span class=p>(</span><span class=n>main_temp_min</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=n>Serial</span><span class=p>.</span><span class=n>print</span><span class=p>(</span><span class=s>&#34;Pressure(hPa): &#34;</span><span class=p>);</span> <span class=n>Serial</span><span class=p>.</span><span class=n>println</span><span class=p>(</span><span class=n>main_pressure</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=n>Serial</span><span class=p>.</span><span class=n>print</span><span class=p>(</span><span class=s>&#34;Humidity(%): &#34;</span><span class=p>);</span> <span class=n>Serial</span><span class=p>.</span><span class=n>println</span><span class=p>(</span><span class=n>main_humidity</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=n>Serial</span><span class=p>.</span><span class=n>print</span><span class=p>(</span><span class=s>&#34;Visibility(m): &#34;</span><span class=p>);</span> <span class=n>Serial</span><span class=p>.</span><span class=n>println</span><span class=p>(</span><span class=n>visibility</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=n>Serial</span><span class=p>.</span><span class=n>print</span><span class=p>(</span><span class=s>&#34;Wind Speed(m/s): &#34;</span><span class=p>);</span> <span class=n>Serial</span><span class=p>.</span><span class=n>println</span><span class=p>(</span><span class=n>wind_speed</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=n>Serial</span><span class=p>.</span><span class=n>print</span><span class=p>(</span><span class=s>&#34;Wind Degree(Âº): &#34;</span><span class=p>);</span> <span class=n>Serial</span><span class=p>.</span><span class=n>println</span><span class=p>(</span><span class=n>wind_deg</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=n>Serial</span><span class=p>.</span><span class=n>print</span><span class=p>(</span><span class=s>&#34;Clouds: &#34;</span><span class=p>);</span> <span class=n>Serial</span><span class=p>.</span><span class=n>println</span><span class=p>(</span><span class=n>clouds_all</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=n>Serial</span><span class=p>.</span><span class=n>printf</span><span class=p>(</span><span class=s>&#34;Sunrise: %02d:%02d:%02d</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>,</span> <span class=n>hour</span><span class=p>(</span><span class=n>sys_sunrise</span><span class=p>),</span> <span class=n>minute</span><span class=p>(</span><span class=n>sys_sunrise</span><span class=p>),</span> <span class=n>second</span><span class=p>(</span><span class=n>sys_sunrise</span><span class=p>));</span>
</span></span><span class=line><span class=cl>      <span class=n>Serial</span><span class=p>.</span><span class=n>printf</span><span class=p>(</span><span class=s>&#34;Sunset:  %02d:%02d:%02d</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>,</span> <span class=n>hour</span><span class=p>(</span><span class=n>sys_sunset</span><span class=p>),</span> <span class=n>minute</span><span class=p>(</span><span class=n>sys_sunset</span><span class=p>),</span> <span class=n>second</span><span class=p>(</span><span class=n>sys_sunset</span><span class=p>));</span>
</span></span><span class=line><span class=cl>      <span class=n>Serial</span><span class=p>.</span><span class=n>print</span><span class=p>(</span><span class=s>&#34;City/Country: &#34;</span><span class=p>);</span> <span class=n>Serial</span><span class=p>.</span><span class=n>print</span><span class=p>(</span><span class=n>name</span><span class=p>);</span> <span class=n>Serial</span><span class=p>.</span><span class=n>print</span><span class=p>(</span><span class=s>&#34;/&#34;</span><span class=p>);</span> <span class=n>Serial</span><span class=p>.</span><span class=n>println</span><span class=p>(</span><span class=n>sys_country</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=n>Serial</span><span class=p>.</span><span class=n>print</span><span class=p>(</span><span class=s>&#34;longitude/latidude: &#34;</span><span class=p>);</span> <span class=n>Serial</span><span class=p>.</span><span class=n>print</span><span class=p>(</span><span class=n>coord_lon</span><span class=p>);</span> <span class=n>Serial</span><span class=p>.</span><span class=n>print</span><span class=p>(</span><span class=s>&#34;/&#34;</span><span class=p>);</span> <span class=n>Serial</span><span class=p>.</span><span class=n>println</span><span class=p>(</span><span class=n>coord_lat</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=n>Serial</span><span class=p>.</span><span class=n>print</span><span class=p>(</span><span class=s>&#34;Timezone: GMT+&#34;</span><span class=p>);</span> <span class=n>Serial</span><span class=p>.</span><span class=n>println</span><span class=p>(</span><span class=n>timezone</span><span class=o>/</span><span class=mi>3600</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>      <span class=cm>/*
</span></span></span><span class=line><span class=cl><span class=cm>      Serial.print(&#34;Sea Level(hPa): &#34;); Serial.println(main_sea_level);
</span></span></span><span class=line><span class=cl><span class=cm>      Serial.print(&#34;Ground Level(hPa): &#34;); Serial.println(main_grnd_level);
</span></span></span><span class=line><span class=cl><span class=cm>      Serial.print(&#34;Rain 1h(mm): &#34;); Serial.println(rain_1h);
</span></span></span><span class=line><span class=cl><span class=cm>      Serial.print(&#34;Rain 3h(mm): &#34;); Serial.println(rain_3h);
</span></span></span><span class=line><span class=cl><span class=cm>      Serial.print(&#34;Snow 1h(mm): &#34;); Serial.println(snow_1h);
</span></span></span><span class=line><span class=cl><span class=cm>      Serial.print(&#34;Snow 3h(mm): &#34;); Serial.println(snow_3h);
</span></span></span><span class=line><span class=cl><span class=cm>      */</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl> 
</span></span><span class=line><span class=cl>    <span class=k>else</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=n>Serial</span><span class=p>.</span><span class=n>println</span><span class=p>(</span><span class=s>&#34;Error on HTTP request&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl> 
</span></span><span class=line><span class=cl>    <span class=n>http</span><span class=p>.</span><span class=n>end</span><span class=p>();</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl> 
</span></span><span class=line><span class=cl>  <span class=n>delay</span><span class=p>(</span><span class=mi>30000</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div><br><h4 id=ì¶œë ¥-data-1>ì¶œë ¥ Data<a class=anchor href=#%ec%b6%9c%eb%a0%a5-data-1>#</a></h4><figure class=center style=width:75%><img src=/image/owm-03.png alt=/image/owm-03.png></figure><br><br><h3 id=weather-condition-code>Weather Condition Code<a class=anchor href=#weather-condition-code>#</a></h3><h4 id=group-2xx-thunderstorm>Group 2xx: Thunderstorm<a class=anchor href=#group-2xx-thunderstorm>#</a></h4><table><thead><tr><th>ID</th><th>Main</th><th>Description</th><th>Icon</th></tr></thead><tbody><tr><td>200</td><td>Thunderstorm</td><td>thunderstorm with light rain</td><td><figure class=center style=width:50%><img src=http://openweathermap.org/img/wn/11d@2x.png alt=img></figure>11d</td></tr><tr><td>201</td><td>Thunderstorm</td><td>thunderstorm with rain</td><td><figure class=center style=width:50%><img src=http://openweathermap.org/img/wn/11d@2x.png alt=img></figure>11d</td></tr><tr><td>202</td><td>Thunderstorm</td><td>thunderstorm with heavy rain</td><td><figure class=center style=width:50%><img src=http://openweathermap.org/img/wn/11d@2x.png alt=img></figure>11d</td></tr><tr><td>210</td><td>Thunderstorm</td><td>light thunderstorm</td><td><figure class=center style=width:50%><img src=http://openweathermap.org/img/wn/11d@2x.png alt=img></figure>11d</td></tr><tr><td>211</td><td>Thunderstorm</td><td>thunderstorm</td><td><figure class=center style=width:50%><img src=http://openweathermap.org/img/wn/11d@2x.png alt=img></figure>11d</td></tr><tr><td>212</td><td>Thunderstorm</td><td>heavy thunderstorm</td><td><figure class=center style=width:50%><img src=http://openweathermap.org/img/wn/11d@2x.png alt=img></figure>11d</td></tr><tr><td>221</td><td>Thunderstorm</td><td>ragged thunderstorm</td><td><figure class=center style=width:50%><img src=http://openweathermap.org/img/wn/11d@2x.png alt=img></figure>11d</td></tr><tr><td>230</td><td>Thunderstorm</td><td>thunderstorm with light drizzle</td><td><figure class=center style=width:50%><img src=http://openweathermap.org/img/wn/11d@2x.png alt=img></figure>11d</td></tr><tr><td>231</td><td>Thunderstorm</td><td>thunderstorm with drizzle</td><td><figure class=center style=width:50%><img src=http://openweathermap.org/img/wn/11d@2x.png alt=img></figure>11d</td></tr><tr><td>232</td><td>Thunderstorm</td><td>thunderstorm with heavy drizzle</td><td><figure class=center style=width:50%><img src=http://openweathermap.org/img/wn/11d@2x.png alt=img></figure>11d</td></tr></tbody></table><br><h4 id=group-3xx-drizzle>Group 3xx: Drizzle<a class=anchor href=#group-3xx-drizzle>#</a></h4><table><thead><tr><th>ID</th><th>Main</th><th>Description</th><th>Icon</th></tr></thead><tbody><tr><td>300</td><td>Drizzle</td><td>light intensity drizzle</td><td><figure class=center style=width:50%><img src=http://openweathermap.org/img/wn/09d@2x.png alt=img></figure>09d</td></tr><tr><td>301</td><td>Drizzle</td><td>drizzle</td><td><figure class=center style=width:50%><img src=http://openweathermap.org/img/wn/09d@2x.png alt=img></figure>09d</td></tr><tr><td>302</td><td>Drizzle</td><td>heavy intensity drizzle</td><td><figure class=center style=width:50%><img src=http://openweathermap.org/img/wn/09d@2x.png alt=img></figure>09d</td></tr><tr><td>310</td><td>Drizzle</td><td>light intensity drizzle rain</td><td><figure class=center style=width:50%><img src=http://openweathermap.org/img/wn/09d@2x.png alt=img></figure>09d</td></tr><tr><td>311</td><td>Drizzle</td><td>drizzle rain</td><td><figure class=center style=width:50%><img src=http://openweathermap.org/img/wn/09d@2x.png alt=img></figure>09d</td></tr><tr><td>312</td><td>Drizzle</td><td>heavy intensity drizzle rain</td><td><figure class=center style=width:50%><img src=http://openweathermap.org/img/wn/09d@2x.png alt=img></figure>09d</td></tr><tr><td>313</td><td>Drizzle</td><td>shower rain and drizzle</td><td><figure class=center style=width:50%><img src=http://openweathermap.org/img/wn/09d@2x.png alt=img></figure>09d</td></tr><tr><td>314</td><td>Drizzle</td><td>heavy shower rain and drizzle</td><td><figure class=center style=width:50%><img src=http://openweathermap.org/img/wn/09d@2x.png alt=img></figure>09d</td></tr><tr><td>321</td><td>Drizzle</td><td>shower drizzle</td><td><figure class=center style=width:50%><img src=http://openweathermap.org/img/wn/09d@2x.png alt=img></figure>09d</td></tr></tbody></table><br><h4 id=group-5xx-rain>Group 5xx: Rain<a class=anchor href=#group-5xx-rain>#</a></h4><table><thead><tr><th>ID</th><th>Main</th><th>Description</th><th>Icon</th></tr></thead><tbody><tr><td>500</td><td>Rain</td><td>light rain</td><td><figure class=center style=width:50%><img src=http://openweathermap.org/img/wn/10d@2x.png alt=img></figure>10d</td></tr><tr><td>501</td><td>Rain</td><td>moderate rain</td><td><figure class=center style=width:50%><img src=http://openweathermap.org/img/wn/10d@2x.png alt=img></figure>10d</td></tr><tr><td>502</td><td>Rain</td><td>heavy intensity rain</td><td><figure class=center style=width:50%><img src=http://openweathermap.org/img/wn/10d@2x.png alt=img></figure>10d</td></tr><tr><td>503</td><td>Rain</td><td>very heavy rain</td><td><figure class=center style=width:50%><img src=http://openweathermap.org/img/wn/10d@2x.png alt=img></figure>10d</td></tr><tr><td>504</td><td>Rain</td><td>extreme rain</td><td><figure class=center style=width:50%><img src=http://openweathermap.org/img/wn/10d@2x.png alt=img></figure>10d</td></tr><tr><td>511</td><td>Rain</td><td>freezing rain</td><td><figure class=center style=width:50%><img src=http://openweathermap.org/img/wn/13d@2x.png alt=img></figure>13d</td></tr><tr><td>520</td><td>Rain</td><td>light intensity shower rain</td><td><figure class=center style=width:50%><img src=http://openweathermap.org/img/wn/09d@2x.png alt=img></figure>09d</td></tr><tr><td>521</td><td>Rain</td><td>shower rain</td><td><figure class=center style=width:50%><img src=http://openweathermap.org/img/wn/09d@2x.png alt=img></figure>09d</td></tr><tr><td>522</td><td>Rain</td><td>heavy intensity shower rain</td><td><figure class=center style=width:50%><img src=http://openweathermap.org/img/wn/09d@2x.png alt=img></figure>09d</td></tr><tr><td>531</td><td>Rain</td><td>ragged shower rain</td><td><figure class=center style=width:50%><img src=http://openweathermap.org/img/wn/09d@2x.png alt=img></figure>09d</td></tr></tbody></table><br><h4 id=group-6xx-snow>Group 6xx: Snow<a class=anchor href=#group-6xx-snow>#</a></h4><table><thead><tr><th>ID</th><th>Main</th><th>Description</th><th>Icon</th></tr></thead><tbody><tr><td>600</td><td>Snow</td><td>light snow</td><td><figure class=center style=width:50%><img src=http://openweathermap.org/img/wn/13d@2x.png alt=img></figure>13d</td></tr><tr><td>601</td><td>Snow</td><td>Snow</td><td><figure class=center style=width:50%><img src=http://openweathermap.org/img/wn/13d@2x.png alt=img></figure>13d</td></tr><tr><td>602</td><td>Snow</td><td>Heavy snow</td><td><figure class=center style=width:50%><img src=http://openweathermap.org/img/wn/13d@2x.png alt=img></figure>13d</td></tr><tr><td>611</td><td>Snow</td><td>Sleet</td><td><figure class=center style=width:50%><img src=http://openweathermap.org/img/wn/13d@2x.png alt=img></figure>13d</td></tr><tr><td>612</td><td>Snow</td><td>Light shower sleet</td><td><figure class=center style=width:50%><img src=http://openweathermap.org/img/wn/13d@2x.png alt=img></figure>13d</td></tr><tr><td>613</td><td>Snow</td><td>Shower sleet</td><td><figure class=center style=width:50%><img src=http://openweathermap.org/img/wn/13d@2x.png alt=img></figure>13d</td></tr><tr><td>615</td><td>Snow</td><td>Light rain and snow</td><td><figure class=center style=width:50%><img src=http://openweathermap.org/img/wn/13d@2x.png alt=img></figure>13d</td></tr><tr><td>616</td><td>Snow</td><td>Rain and snow</td><td><figure class=center style=width:50%><img src=http://openweathermap.org/img/wn/13d@2x.png alt=img></figure>13d</td></tr><tr><td>620</td><td>Snow</td><td>Light shower snow</td><td><figure class=center style=width:50%><img src=http://openweathermap.org/img/wn/13d@2x.png alt=img></figure>13d</td></tr><tr><td>621</td><td>Snow</td><td>Shower snow</td><td><figure class=center style=width:50%><img src=http://openweathermap.org/img/wn/13d@2x.png alt=img></figure>13d</td></tr><tr><td>622</td><td>Snow</td><td>Heavy shower snow</td><td><figure class=center style=width:50%><img src=http://openweathermap.org/img/wn/13d@2x.png alt=img></figure>13d</td></tr></tbody></table><br><h4 id=group-7xx-atmosphere>Group 7xx: Atmosphere<a class=anchor href=#group-7xx-atmosphere>#</a></h4><table><thead><tr><th>ID</th><th>Main</th><th>Description</th><th>Icon</th></tr></thead><tbody><tr><td>701</td><td>Mist</td><td>mist</td><td><figure class=center style=width:50%><img src=http://openweathermap.org/img/wn/50d@2x.png alt=img></figure>50d</td></tr><tr><td>711</td><td>Smoke</td><td>Smoke</td><td><figure class=center style=width:50%><img src=http://openweathermap.org/img/wn/50d@2x.png alt=img></figure>50d</td></tr><tr><td>721</td><td>Haze</td><td>Haze</td><td><figure class=center style=width:50%><img src=http://openweathermap.org/img/wn/50d@2x.png alt=img></figure>50d</td></tr><tr><td>731</td><td>Dust</td><td>sand/ dust whirls</td><td><figure class=center style=width:50%><img src=http://openweathermap.org/img/wn/50d@2x.png alt=img></figure>50d</td></tr><tr><td>741</td><td>Fog</td><td>fog</td><td><figure class=center style=width:50%><img src=http://openweathermap.org/img/wn/50d@2x.png alt=img></figure>50d</td></tr><tr><td>751</td><td>Sand</td><td>sand</td><td><figure class=center style=width:50%><img src=http://openweathermap.org/img/wn/50d@2x.png alt=img></figure>50d</td></tr><tr><td>761</td><td>Dust</td><td>dust</td><td><figure class=center style=width:50%><img src=http://openweathermap.org/img/wn/50d@2x.png alt=img></figure>50d</td></tr><tr><td>762</td><td>Ash</td><td>volcanic ash</td><td><figure class=center style=width:50%><img src=http://openweathermap.org/img/wn/50d@2x.png alt=img></figure>50d</td></tr><tr><td>771</td><td>Squall</td><td>squalls</td><td><figure class=center style=width:50%><img src=http://openweathermap.org/img/wn/50d@2x.png alt=img></figure>50d</td></tr><tr><td>781</td><td>Tornado</td><td>tornado</td><td><figure class=center style=width:50%><img src=http://openweathermap.org/img/wn/50d@2x.png alt=img></figure>50d</td></tr></tbody></table><br><h4 id=group-800-clear>Group 800: Clear<a class=anchor href=#group-800-clear>#</a></h4><table><thead><tr><th>ID</th><th>Main</th><th>Description</th><th>Icon</th></tr></thead><tbody><tr><td>800</td><td>Clear</td><td>clear sky</td><td><figure class=center style=width:50%><img src=http://openweathermap.org/img/wn/01d@2x.png alt=img></figure>01n</td></tr></tbody></table><br><h4 id=group-80x-clouds>Group 80x: Clouds<a class=anchor href=#group-80x-clouds>#</a></h4><table><thead><tr><th>ID</th><th>Main</th><th>Description</th><th>Icon</th></tr></thead><tbody><tr><td>801</td><td>Clouds</td><td>few clouds: 11-25%</td><td><figure class=center style=width:50%><img src=http://openweathermap.org/img/wn/02d@2x.png alt=img></figure>02n</td></tr><tr><td>802</td><td>Clouds</td><td>scattered clouds: 25-50%</td><td><figure class=center style=width:50%><img src=http://openweathermap.org/img/wn/03d@2x.png alt=img></figure>03n</td></tr><tr><td>803</td><td>Clouds</td><td>broken clouds: 51-84%</td><td><figure class=center style=width:50%><img src=http://openweathermap.org/img/wn/04d@2x.png alt=img></figure>04n</td></tr><tr><td>804</td><td>Clouds</td><td>overcast clouds: 85-100%</td><td><figure class=center style=width:50%><img src=http://openweathermap.org/img/wn/04d@2x.png alt=img></figure>04n</td></tr></tbody></table><br><h4 id=icon-ì¶œë ¥ë°©ë²•>ICON ì¶œë ¥ë°©ë²•<a class=anchor href=#icon-%ec%b6%9c%eb%a0%a5%eb%b0%a9%eb%b2%95>#</a></h4><p>Weather ID 801ì— í•´ë‹¹í•˜ëŠ” ì•„ì´ì½˜ codeê°€ 02dì´ë¯€ë¡œ URLì„ ë‹¤ìŒê³¼ ê°™ì´ ì§€ì •í•˜ë©´</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl>http://openweathermap.org/img/wn/10d.png</span></span></code></pre></div><figure class=center style=width:10%><img src=http://openweathermap.org/img/wn/10d.png alt=http://openweathermap.org/img/wn/10d.png></figure><p>ICONí¬ê¸°ë¥¼ í¬ê²Œ ì¶œë ¥í•˜ê³  ì‹¶ì€ ê²½ìš°ì—ëŠ” ì•„ì´ì½˜ codeì— <strong>@2x</strong>ë¥¼ ë§ë¶™ì…ë‹ˆë‹¤.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl>http://openweathermap.org/img/wn/10d@2x.png</span></span></code></pre></div><figure class=center style=width:10%><img src=http://openweathermap.org/img/wn/10d@2x.png alt=http://openweathermap.org/img/wn/10d@2x.png></figure><br><br><h3 id=1602-lcdì—-ë‚ ì”¨-ì •ë³´-ì¶œë ¥í•˜ê¸°>1602 LCDì— ë‚ ì”¨ ì •ë³´ ì¶œë ¥í•˜ê¸°<a class=anchor href=#1602-lcd%ec%97%90-%eb%82%a0%ec%94%a8-%ec%a0%95%eb%b3%b4-%ec%b6%9c%eb%a0%a5%ed%95%98%ea%b8%b0>#</a></h3><p>ì—¬ëŸ¬ê°€ì§€ ë‚ ì”¨ ì •ë³´ ì¤‘ì—ì„œ í˜„ì¬ ì˜¨ë„ë¥¼ 1602 LCD(I2C)ì— ì¶œë ¥í•´ë³´ê² ìŠµë‹ˆë‹¤.</p><br><h4 id=ë¼ì´ë¸ŒëŸ¬ë¦¬-ì„¤ì¹˜í•˜ê¸°>ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ì¹˜í•˜ê¸°<a class=anchor href=#%eb%9d%bc%ec%9d%b4%eb%b8%8c%eb%9f%ac%eb%a6%ac-%ec%84%a4%ec%b9%98%ed%95%98%ea%b8%b0>#</a></h4><p><strong>ìŠ¤ì¼€ì¹˜</strong>> <strong>ë¼ì´ë¸ŒëŸ¬ë¦¬ í¬í•¨í•˜ê¸°</strong>> <strong>ë¼ì´ë¸ŒëŸ¬ë¦¬ ê´€ë¦¬</strong></p><ul><li>LiquidCrystal I2C (by Frank de Brabander) ê²€ìƒ‰í•˜ì—¬ ì„¤ì¹˜</li></ul><br><h4 id=schematic>schematic<a class=anchor href=#schematic>#</a></h4><figure class=center style=width:75%><img src=/image/owm-06.png alt=/image/owm-06.png></figure><br><h4 id=sketch-1>sketch<a class=anchor href=#sketch-1>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;WiFi.h&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;HTTPClient.h&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;ArduinoJson.h&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;TimeLib.h&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span>
</span></span><span class=line><span class=cl><span class=k>const</span> <span class=kt>char</span><span class=o>*</span> <span class=n>ssid</span>     <span class=o>=</span> <span class=s>&#34;your ssid&#34;</span><span class=p>;</span>                  <span class=c1>// ì—°ê²°í•  SSID
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>const</span> <span class=kt>char</span><span class=o>*</span> <span class=n>password</span> <span class=o>=</span> <span class=s>&#34;your password&#34;</span><span class=p>;</span>              <span class=c1>// ì—°ê²°í•  SSIDì˜ ë¹„ë°€ë²ˆí˜¸
</span></span></span><span class=line><span class=cl><span class=c1></span> 
</span></span><span class=line><span class=cl><span class=k>const</span> <span class=n>String</span> <span class=n>endpoint</span> <span class=o>=</span> <span class=s>&#34;https://api.openweathermap.org&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>const</span> <span class=n>String</span> <span class=n>ver</span> <span class=o>=</span> <span class=s>&#34;/data/2.5/weather?q=&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>const</span> <span class=n>String</span> <span class=n>city</span> <span class=o>=</span> <span class=s>&#34;Shanghai,CN&#34;</span><span class=p>;</span>                 <span class=c1>// City,Country (ë„ì–´ì“°ê¸° ê¸ˆì§€)
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>const</span> <span class=n>String</span> <span class=n>appid</span> <span class=o>=</span> <span class=s>&#34;&amp;units=metric&amp;APPID=&#34;</span><span class=p>;</span>       <span class=c1>// Units: metric
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>const</span> <span class=n>String</span> <span class=n>key</span> <span class=o>=</span> <span class=s>&#34;1bf3d5e1bd2e5934aadd86..........&#34;</span><span class=p>;</span>    <span class=c1>// API Key
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=kt>unsigned</span> <span class=kt>long</span> <span class=n>offset_days</span> <span class=o>=</span> <span class=mi>3</span><span class=p>;</span>                            <span class=c1>// 3 days for convert unix timestamp to datetime
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kt>float</span> <span class=n>main_temp</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// set the LCD
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=cp>#include</span> <span class=cpf>&lt;LiquidCrystal_I2C.h&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=n>lcdColumns</span> <span class=o>=</span> <span class=mi>16</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=n>lcdRows</span> <span class=o>=</span> <span class=mi>2</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// set LCD address, number of columns and rows
</span></span></span><span class=line><span class=cl><span class=c1>// if you don&#39;t know your display address, run an I2C scanner sketch
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>LiquidCrystal_I2C</span> <span class=nf>lcd</span><span class=p>(</span><span class=mh>0x27</span><span class=p>,</span> <span class=n>lcdColumns</span><span class=p>,</span> <span class=n>lcdRows</span><span class=p>);</span>  
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=nf>setup</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl> 
</span></span><span class=line><span class=cl>  <span class=n>Serial</span><span class=p>.</span><span class=n>begin</span><span class=p>(</span><span class=mi>115200</span><span class=p>);</span>
</span></span><span class=line><span class=cl> 
</span></span><span class=line><span class=cl>  <span class=n>WiFi</span><span class=p>.</span><span class=n>begin</span><span class=p>(</span><span class=n>ssid</span><span class=p>,</span> <span class=n>password</span><span class=p>);</span>
</span></span><span class=line><span class=cl> 
</span></span><span class=line><span class=cl>  <span class=k>while</span> <span class=p>(</span><span class=n>WiFi</span><span class=p>.</span><span class=n>status</span><span class=p>()</span> <span class=o>!=</span> <span class=n>WL_CONNECTED</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>delay</span><span class=p>(</span><span class=mi>1000</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>Serial</span><span class=p>.</span><span class=n>println</span><span class=p>(</span><span class=s>&#34;Connecting to WiFi..&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl> 
</span></span><span class=line><span class=cl>  <span class=n>Serial</span><span class=p>.</span><span class=n>println</span><span class=p>(</span><span class=s>&#34;Connected to the WiFi network&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=c1>// initialize LCD
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=n>lcd</span><span class=p>.</span><span class=n>init</span><span class=p>();</span>
</span></span><span class=line><span class=cl>  <span class=c1>// turn on LCD backlight                      
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=n>lcd</span><span class=p>.</span><span class=n>backlight</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl> 
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=nf>loop</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=p>((</span><span class=n>WiFi</span><span class=p>.</span><span class=n>status</span><span class=p>()</span> <span class=o>==</span> <span class=n>WL_CONNECTED</span><span class=p>))</span> <span class=p>{</span>            <span class=c1>// Check the current connection status
</span></span></span><span class=line><span class=cl><span class=c1></span> 
</span></span><span class=line><span class=cl>    <span class=n>HTTPClient</span> <span class=n>http</span><span class=p>;</span>
</span></span><span class=line><span class=cl> 
</span></span><span class=line><span class=cl>    <span class=n>http</span><span class=p>.</span><span class=n>begin</span><span class=p>(</span><span class=n>endpoint</span> <span class=o>+</span> <span class=n>ver</span> <span class=o>+</span> <span class=n>city</span> <span class=o>+</span> <span class=n>appid</span> <span class=o>+</span> <span class=n>key</span><span class=p>);</span> <span class=c1>// Specify the URL
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kt>int</span> <span class=n>httpCode</span> <span class=o>=</span> <span class=n>http</span><span class=p>.</span><span class=n>GET</span><span class=p>();</span>                       <span class=c1>// Make the request
</span></span></span><span class=line><span class=cl><span class=c1></span> 
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=p>(</span><span class=n>httpCode</span> <span class=o>&gt;</span> <span class=mi>0</span><span class=p>)</span> <span class=p>{</span>                              <span class=c1>// Check for the returning code
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=c1>// ë°ì´í„° íŒŒì‹±
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=k>const</span> <span class=n>size_t</span> <span class=n>capacity</span> <span class=o>=</span> <span class=n>JSON_ARRAY_SIZE</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span> <span class=o>+</span> <span class=n>JSON_OBJECT_SIZE</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span> <span class=o>+</span> <span class=mi>2</span><span class=o>*</span><span class=n>JSON_OBJECT_SIZE</span><span class=p>(</span><span class=mi>2</span><span class=p>)</span> <span class=o>+</span> <span class=n>JSON_OBJECT_SIZE</span><span class=p>(</span><span class=mi>4</span><span class=p>)</span> <span class=o>+</span> <span class=mi>2</span><span class=o>*</span><span class=n>JSON_OBJECT_SIZE</span><span class=p>(</span><span class=mi>5</span><span class=p>)</span> <span class=o>+</span> <span class=n>JSON_OBJECT_SIZE</span><span class=p>(</span><span class=mi>13</span><span class=p>)</span> <span class=o>+</span> <span class=mi>270</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=n>DynamicJsonDocument</span> <span class=n>doc</span><span class=p>(</span><span class=n>capacity</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>      <span class=n>String</span> <span class=n>json</span> <span class=o>=</span> <span class=n>http</span><span class=p>.</span><span class=n>getString</span><span class=p>();</span>                <span class=c1>// get JSON format data
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>      <span class=n>deserializeJson</span><span class=p>(</span><span class=n>doc</span><span class=p>,</span> <span class=n>json</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>      <span class=kt>float</span> <span class=n>coord_lon</span> <span class=o>=</span> <span class=n>doc</span><span class=p>[</span><span class=s>&#34;coord&#34;</span><span class=p>][</span><span class=s>&#34;lon&#34;</span><span class=p>];</span> <span class=c1>// 121.49
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=kt>float</span> <span class=n>coord_lat</span> <span class=o>=</span> <span class=n>doc</span><span class=p>[</span><span class=s>&#34;coord&#34;</span><span class=p>][</span><span class=s>&#34;lat&#34;</span><span class=p>];</span> <span class=c1>// 31.23
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>      <span class=n>JsonObject</span> <span class=n>weather_0</span> <span class=o>=</span> <span class=n>doc</span><span class=p>[</span><span class=s>&#34;weather&#34;</span><span class=p>][</span><span class=mi>0</span><span class=p>];</span>
</span></span><span class=line><span class=cl>      <span class=kt>int</span> <span class=n>weather_0_id</span> <span class=o>=</span> <span class=n>weather_0</span><span class=p>[</span><span class=s>&#34;id&#34;</span><span class=p>];</span> <span class=c1>// 804
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=k>const</span> <span class=kt>char</span><span class=o>*</span> <span class=n>weather_0_main</span> <span class=o>=</span> <span class=n>weather_0</span><span class=p>[</span><span class=s>&#34;main&#34;</span><span class=p>];</span> <span class=c1>// &#34;Clouds&#34;
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=k>const</span> <span class=kt>char</span><span class=o>*</span> <span class=n>weather_0_description</span> <span class=o>=</span> <span class=n>weather_0</span><span class=p>[</span><span class=s>&#34;description&#34;</span><span class=p>];</span> <span class=c1>// &#34;overcast clouds&#34;
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=k>const</span> <span class=kt>char</span><span class=o>*</span> <span class=n>weather_0_icon</span> <span class=o>=</span> <span class=n>weather_0</span><span class=p>[</span><span class=s>&#34;icon&#34;</span><span class=p>];</span> <span class=c1>// &#34;04d&#34;
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>      <span class=cm>/*
</span></span></span><span class=line><span class=cl><span class=cm>      JsonObject weather_1 = weather[1];
</span></span></span><span class=line><span class=cl><span class=cm>      int weather_1_id = weather_1[&#34;id&#34;]; // 701
</span></span></span><span class=line><span class=cl><span class=cm>      const char* weather_1_main = weather_1[&#34;main&#34;]; // &#34;Mist&#34;
</span></span></span><span class=line><span class=cl><span class=cm>      const char* weather_1_description = weather_1[&#34;description&#34;]; // &#34;mist&#34;
</span></span></span><span class=line><span class=cl><span class=cm>      const char* weather_1_icon = weather_1[&#34;icon&#34;]; // &#34;50n&#34;
</span></span></span><span class=line><span class=cl><span class=cm>
</span></span></span><span class=line><span class=cl><span class=cm>      JsonObject weather_2 = weather[2];
</span></span></span><span class=line><span class=cl><span class=cm>      int weather_2_id = weather_2[&#34;id&#34;]; // 741
</span></span></span><span class=line><span class=cl><span class=cm>      const char* weather_2_main = weather_2[&#34;main&#34;]; // &#34;Fog&#34;
</span></span></span><span class=line><span class=cl><span class=cm>      const char* weather_2_description = weather_2[&#34;description&#34;]; // &#34;fog&#34;
</span></span></span><span class=line><span class=cl><span class=cm>      const char* weather_2_icon = weather_2[&#34;icon&#34;]; // &#34;50n&#34;
</span></span></span><span class=line><span class=cl><span class=cm>      */</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>      <span class=k>const</span> <span class=kt>char</span><span class=o>*</span> <span class=n>base</span> <span class=o>=</span> <span class=n>doc</span><span class=p>[</span><span class=s>&#34;base&#34;</span><span class=p>];</span> <span class=c1>// &#34;stations&#34;
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>      <span class=n>JsonObject</span> <span class=n>main</span> <span class=o>=</span> <span class=n>doc</span><span class=p>[</span><span class=s>&#34;main&#34;</span><span class=p>];</span>
</span></span><span class=line><span class=cl>      <span class=kt>float</span> <span class=n>main_temp</span> <span class=o>=</span> <span class=n>main</span><span class=p>[</span><span class=s>&#34;temp&#34;</span><span class=p>];</span> <span class=c1>// 293.02
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=kt>int</span> <span class=n>main_pressure</span> <span class=o>=</span> <span class=n>main</span><span class=p>[</span><span class=s>&#34;pressure&#34;</span><span class=p>];</span> <span class=c1>// 1027
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=kt>int</span> <span class=n>main_humidity</span> <span class=o>=</span> <span class=n>main</span><span class=p>[</span><span class=s>&#34;humidity&#34;</span><span class=p>];</span> <span class=c1>// 55
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=kt>float</span> <span class=n>main_temp_min</span> <span class=o>=</span> <span class=n>main</span><span class=p>[</span><span class=s>&#34;temp_min&#34;</span><span class=p>];</span> <span class=c1>// 289.82
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=kt>float</span> <span class=n>main_temp_max</span> <span class=o>=</span> <span class=n>main</span><span class=p>[</span><span class=s>&#34;temp_max&#34;</span><span class=p>];</span> <span class=c1>// 298.71
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>      <span class=kt>int</span> <span class=n>visibility</span> <span class=o>=</span> <span class=n>doc</span><span class=p>[</span><span class=s>&#34;visibility&#34;</span><span class=p>];</span> <span class=c1>// 10000
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>      <span class=kt>int</span> <span class=n>wind_speed</span> <span class=o>=</span> <span class=n>doc</span><span class=p>[</span><span class=s>&#34;wind&#34;</span><span class=p>][</span><span class=s>&#34;speed&#34;</span><span class=p>];</span> <span class=c1>// 3
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=kt>int</span> <span class=n>wind_deg</span> <span class=o>=</span> <span class=n>doc</span><span class=p>[</span><span class=s>&#34;wind&#34;</span><span class=p>][</span><span class=s>&#34;deg&#34;</span><span class=p>];</span> <span class=c1>// 60
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>      <span class=kt>int</span> <span class=n>clouds_all</span> <span class=o>=</span> <span class=n>doc</span><span class=p>[</span><span class=s>&#34;clouds&#34;</span><span class=p>][</span><span class=s>&#34;all&#34;</span><span class=p>];</span> <span class=c1>// 94
</span></span></span><span class=line><span class=cl><span class=c1></span>      
</span></span><span class=line><span class=cl>      <span class=kt>long</span> <span class=n>dt</span> <span class=o>=</span> <span class=n>doc</span><span class=p>[</span><span class=s>&#34;dt&#34;</span><span class=p>];</span> <span class=c1>// 1574303919
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>      <span class=n>JsonObject</span> <span class=n>sys</span> <span class=o>=</span> <span class=n>doc</span><span class=p>[</span><span class=s>&#34;sys&#34;</span><span class=p>];</span>
</span></span><span class=line><span class=cl>      <span class=kt>int</span> <span class=n>sys_type</span> <span class=o>=</span> <span class=n>sys</span><span class=p>[</span><span class=s>&#34;type&#34;</span><span class=p>];</span> <span class=c1>// 1
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=kt>int</span> <span class=n>sys_id</span> <span class=o>=</span> <span class=n>sys</span><span class=p>[</span><span class=s>&#34;id&#34;</span><span class=p>];</span> <span class=c1>// 9659
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=c1>//float sys_message = sys[&#34;message&#34;]; // Internal parameter (0.0226)
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=k>const</span> <span class=kt>char</span><span class=o>*</span> <span class=n>sys_country</span> <span class=o>=</span> <span class=n>sys</span><span class=p>[</span><span class=s>&#34;country&#34;</span><span class=p>];</span> <span class=c1>// &#34;CN&#34;
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=kt>long</span> <span class=n>sys_sunrise</span> <span class=o>=</span> <span class=n>sys</span><span class=p>[</span><span class=s>&#34;sunrise&#34;</span><span class=p>];</span> <span class=c1>// 1574288762
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=kt>long</span> <span class=n>sys_sunset</span> <span class=o>=</span> <span class=n>sys</span><span class=p>[</span><span class=s>&#34;sunset&#34;</span><span class=p>];</span> <span class=c1>// 1574326426
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>      <span class=kt>int</span> <span class=n>timezone</span> <span class=o>=</span> <span class=n>doc</span><span class=p>[</span><span class=s>&#34;timezone&#34;</span><span class=p>];</span> <span class=c1>// 28800
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=kt>long</span> <span class=n>id</span> <span class=o>=</span> <span class=n>doc</span><span class=p>[</span><span class=s>&#34;id&#34;</span><span class=p>];</span> <span class=c1>// 1796236
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=k>const</span> <span class=kt>char</span><span class=o>*</span> <span class=n>name</span> <span class=o>=</span> <span class=n>doc</span><span class=p>[</span><span class=s>&#34;name&#34;</span><span class=p>];</span> <span class=c1>// &#34;Shanghai&#34;
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=kt>int</span> <span class=n>cod</span> <span class=o>=</span> <span class=n>doc</span><span class=p>[</span><span class=s>&#34;cod&#34;</span><span class=p>];</span> <span class=c1>// 200
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>      <span class=n>dt</span> <span class=o>=</span> <span class=n>dt</span> <span class=o>+</span> <span class=n>timezone</span><span class=p>;</span>                     <span class=c1>// for GMT+8 -&gt; +28800, for GMT+9 -&gt; +32400
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=n>sys_sunrise</span> <span class=o>=</span> <span class=n>sys_sunrise</span> <span class=o>+</span> <span class=n>timezone</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=n>sys_sunset</span> <span class=o>=</span> <span class=n>sys_sunset</span> <span class=o>+</span> <span class=n>timezone</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>      <span class=c1>//int main_sea_level = main[&#34;sea_level&#34;]; // Atmospheric pressure hPa on the sea level
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=c1>//int main_grnd_level = main[&#34;grnd_level&#34;]; // Atmospheric pressure hPa on the ground level     
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=c1>//int rain_1h = doc[&#34;rain&#34;][&#34;1h&#34;]; // Rain volume for the last 1 hour, mm
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=c1>//int rain_3h = doc[&#34;rain&#34;][&#34;3h&#34;]; // Rain volume for the last 3 hour, mm
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=c1>//int snow_1h = doc[&#34;snow&#34;][&#34;1h&#34;]; // Snow volume for the last 1 hour, mm
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=c1>//int snow_3h = doc[&#34;snow&#34;][&#34;3h&#34;]; // Snow volume for the last 3 hour, mm
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>      <span class=c1>//ë°ì´í„° ì¶œë ¥
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=n>Serial</span><span class=p>.</span><span class=n>print</span><span class=p>(</span><span class=s>&#34;UNIX Time of Weather: &#34;</span><span class=p>);</span> <span class=n>Serial</span><span class=p>.</span><span class=n>println</span><span class=p>(</span><span class=n>dt</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=n>Serial</span><span class=p>.</span><span class=n>printf</span><span class=p>(</span><span class=s>&#34;Time of Weather: %4d-%02d-%02d %02d:%02d:%02d(%1d)</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>,</span> <span class=n>year</span><span class=p>(</span><span class=n>dt</span><span class=p>),</span> <span class=n>month</span><span class=p>(</span><span class=n>dt</span><span class=p>),</span> <span class=n>day</span><span class=p>(</span><span class=n>dt</span><span class=p>),</span> <span class=n>hour</span><span class=p>(</span><span class=n>dt</span><span class=p>),</span> <span class=n>minute</span><span class=p>(</span><span class=n>dt</span><span class=p>),</span> <span class=n>second</span><span class=p>(</span><span class=n>dt</span><span class=p>),</span> <span class=n>weekday</span><span class=p>(</span><span class=n>dt</span><span class=p>));</span>
</span></span><span class=line><span class=cl>      <span class=n>Serial</span><span class=p>.</span><span class=n>print</span><span class=p>(</span><span class=s>&#34;Weather ID: &#34;</span><span class=p>);</span> <span class=n>Serial</span><span class=p>.</span><span class=n>println</span><span class=p>(</span><span class=n>weather_0_id</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=n>Serial</span><span class=p>.</span><span class=n>print</span><span class=p>(</span><span class=s>&#34;Weather Main: &#34;</span><span class=p>);</span> <span class=n>Serial</span><span class=p>.</span><span class=n>println</span><span class=p>(</span><span class=n>weather_0_main</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=n>Serial</span><span class=p>.</span><span class=n>print</span><span class=p>(</span><span class=s>&#34;Weather Description: &#34;</span><span class=p>);</span> <span class=n>Serial</span><span class=p>.</span><span class=n>println</span><span class=p>(</span><span class=n>weather_0_description</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=n>Serial</span><span class=p>.</span><span class=n>print</span><span class=p>(</span><span class=s>&#34;Weather Icon: &#34;</span><span class=p>);</span> <span class=n>Serial</span><span class=p>.</span><span class=n>println</span><span class=p>(</span><span class=n>weather_0_icon</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=n>Serial</span><span class=p>.</span><span class=n>print</span><span class=p>(</span><span class=s>&#34;Temperature(â„ƒ): &#34;</span><span class=p>);</span> <span class=n>Serial</span><span class=p>.</span><span class=n>println</span><span class=p>(</span><span class=n>main_temp</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=n>Serial</span><span class=p>.</span><span class=n>print</span><span class=p>(</span><span class=s>&#34;Temperature Max(â„ƒ): &#34;</span><span class=p>);</span> <span class=n>Serial</span><span class=p>.</span><span class=n>println</span><span class=p>(</span><span class=n>main_temp_max</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=n>Serial</span><span class=p>.</span><span class=n>print</span><span class=p>(</span><span class=s>&#34;Temperature Min(â„ƒ): &#34;</span><span class=p>);</span> <span class=n>Serial</span><span class=p>.</span><span class=n>println</span><span class=p>(</span><span class=n>main_temp_min</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=n>Serial</span><span class=p>.</span><span class=n>print</span><span class=p>(</span><span class=s>&#34;Pressure(hPa): &#34;</span><span class=p>);</span> <span class=n>Serial</span><span class=p>.</span><span class=n>println</span><span class=p>(</span><span class=n>main_pressure</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=n>Serial</span><span class=p>.</span><span class=n>print</span><span class=p>(</span><span class=s>&#34;Humidity(%): &#34;</span><span class=p>);</span> <span class=n>Serial</span><span class=p>.</span><span class=n>println</span><span class=p>(</span><span class=n>main_humidity</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=n>Serial</span><span class=p>.</span><span class=n>print</span><span class=p>(</span><span class=s>&#34;Visibility(m): &#34;</span><span class=p>);</span> <span class=n>Serial</span><span class=p>.</span><span class=n>println</span><span class=p>(</span><span class=n>visibility</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=n>Serial</span><span class=p>.</span><span class=n>print</span><span class=p>(</span><span class=s>&#34;Wind Speed(m/s): &#34;</span><span class=p>);</span> <span class=n>Serial</span><span class=p>.</span><span class=n>println</span><span class=p>(</span><span class=n>wind_speed</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=n>Serial</span><span class=p>.</span><span class=n>print</span><span class=p>(</span><span class=s>&#34;Wind Degree(Âº): &#34;</span><span class=p>);</span> <span class=n>Serial</span><span class=p>.</span><span class=n>println</span><span class=p>(</span><span class=n>wind_deg</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=n>Serial</span><span class=p>.</span><span class=n>print</span><span class=p>(</span><span class=s>&#34;Clouds: &#34;</span><span class=p>);</span> <span class=n>Serial</span><span class=p>.</span><span class=n>println</span><span class=p>(</span><span class=n>clouds_all</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=n>Serial</span><span class=p>.</span><span class=n>printf</span><span class=p>(</span><span class=s>&#34;Sunrise: %02d:%02d:%02d</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>,</span> <span class=n>hour</span><span class=p>(</span><span class=n>sys_sunrise</span><span class=p>),</span> <span class=n>minute</span><span class=p>(</span><span class=n>sys_sunrise</span><span class=p>),</span> <span class=n>second</span><span class=p>(</span><span class=n>sys_sunrise</span><span class=p>));</span>
</span></span><span class=line><span class=cl>      <span class=n>Serial</span><span class=p>.</span><span class=n>printf</span><span class=p>(</span><span class=s>&#34;Sunset:  %02d:%02d:%02d</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>,</span> <span class=n>hour</span><span class=p>(</span><span class=n>sys_sunset</span><span class=p>),</span> <span class=n>minute</span><span class=p>(</span><span class=n>sys_sunset</span><span class=p>),</span> <span class=n>second</span><span class=p>(</span><span class=n>sys_sunset</span><span class=p>));</span>
</span></span><span class=line><span class=cl>      <span class=n>Serial</span><span class=p>.</span><span class=n>print</span><span class=p>(</span><span class=s>&#34;City/Country: &#34;</span><span class=p>);</span> <span class=n>Serial</span><span class=p>.</span><span class=n>print</span><span class=p>(</span><span class=n>name</span><span class=p>);</span> <span class=n>Serial</span><span class=p>.</span><span class=n>print</span><span class=p>(</span><span class=s>&#34;/&#34;</span><span class=p>);</span> <span class=n>Serial</span><span class=p>.</span><span class=n>println</span><span class=p>(</span><span class=n>sys_country</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=n>Serial</span><span class=p>.</span><span class=n>print</span><span class=p>(</span><span class=s>&#34;longitude/latidude: &#34;</span><span class=p>);</span> <span class=n>Serial</span><span class=p>.</span><span class=n>print</span><span class=p>(</span><span class=n>coord_lon</span><span class=p>);</span> <span class=n>Serial</span><span class=p>.</span><span class=n>print</span><span class=p>(</span><span class=s>&#34;/&#34;</span><span class=p>);</span> <span class=n>Serial</span><span class=p>.</span><span class=n>println</span><span class=p>(</span><span class=n>coord_lat</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=n>Serial</span><span class=p>.</span><span class=n>print</span><span class=p>(</span><span class=s>&#34;Timezone: GMT+&#34;</span><span class=p>);</span> <span class=n>Serial</span><span class=p>.</span><span class=n>println</span><span class=p>(</span><span class=n>timezone</span><span class=o>/</span><span class=mi>3600</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>      <span class=cm>/*
</span></span></span><span class=line><span class=cl><span class=cm>      Serial.print(&#34;Sea Level(hPa): &#34;); Serial.println(main_sea_level);
</span></span></span><span class=line><span class=cl><span class=cm>      Serial.print(&#34;Ground Level(hPa): &#34;); Serial.println(main_grnd_level);
</span></span></span><span class=line><span class=cl><span class=cm>      Serial.print(&#34;Rain 1h(mm): &#34;); Serial.println(rain_1h);
</span></span></span><span class=line><span class=cl><span class=cm>      Serial.print(&#34;Rain 3h(mm): &#34;); Serial.println(rain_3h);
</span></span></span><span class=line><span class=cl><span class=cm>      Serial.print(&#34;Snow 1h(mm): &#34;); Serial.println(snow_1h);
</span></span></span><span class=line><span class=cl><span class=cm>      Serial.print(&#34;Snow 3h(mm): &#34;); Serial.println(snow_3h);
</span></span></span><span class=line><span class=cl><span class=cm>      */</span>
</span></span><span class=line><span class=cl>      <span class=n>lcd</span><span class=p>.</span><span class=n>setCursor</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=n>lcd</span><span class=p>.</span><span class=n>print</span><span class=p>(</span><span class=s>&#34;Temperature : &#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=n>lcd</span><span class=p>.</span><span class=n>setCursor</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>1</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=n>lcd</span><span class=p>.</span><span class=n>print</span><span class=p>(</span><span class=n>main_temp</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl> 
</span></span><span class=line><span class=cl>    <span class=k>else</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=n>Serial</span><span class=p>.</span><span class=n>println</span><span class=p>(</span><span class=s>&#34;Error on HTTP request&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl> 
</span></span><span class=line><span class=cl>    <span class=n>http</span><span class=p>.</span><span class=n>end</span><span class=p>();</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=n>delay</span><span class=p>(</span><span class=mi>30000</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=n>lcd</span><span class=p>.</span><span class=n>setCursor</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>1</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=n>lcd</span><span class=p>.</span><span class=n>print</span><span class=p>(</span><span class=s>&#34;                &#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div><blockquote class=book-hint><p>Arduino IDEì—ì„œ ì»´íŒŒì¼ì‹œ *&ldquo;&ldquo;ê²½ê³ : ë¼ì´ë¸ŒëŸ¬ë¦¬ LiquidCrystal_I2Cê°€ avr ì•„í‚¤í…ì²˜ì—ì„œ ì‹¤í–‰ë˜ë©° esp32ì•„í‚¤í…ì²˜ì—ì„œ ì‹¤í–‰ë˜ëŠ” í˜„ì¬ë³´ë“œì—ì„œëŠ” í˜¸í™˜ë˜ì§€ ì•Šì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.&rdquo;"*ë¼ëŠ” ë©”ì„¸ì§€ê°€ ë‚˜íƒ€ë‚˜ì§€ë§Œ, LCD ì¶œë ¥ì—ëŠ” ë¬¸ì œê°€ ì—†ìŠµë‹ˆë‹¤.</p></blockquote><br><br><h3 id=ê³µê³µë°ì´í„°-í™œìš©í•˜ê¸°>ê³µê³µë°ì´í„° í™œìš©í•˜ê¸°<a class=anchor href=#%ea%b3%b5%ea%b3%b5%eb%8d%b0%ec%9d%b4%ed%84%b0-%ed%99%9c%ec%9a%a9%ed%95%98%ea%b8%b0>#</a></h3><p>ìœ„ì˜ ë°©ë²•ì„ ì‘ìš©í•˜ë©´ êµ­ê°€ë³„, ê´€ë ¨ ì—…ì²´ë³„ë¡œ ì œê³µë˜ëŠ” ì—¬ëŸ¬ê°€ì§€ ê³µê³µë°ì´í„°ë¥¼ í™œìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><ul><li>ëŒ€ê¸°ì§ˆ ê´€ë ¨ ë°ì´í„° : <a href=https://aqicn.org/api/>https://aqicn.org/api/</a></li><li>(í•œêµ­)ê³µê³µë°ì´í„°í¬í„¸ : <a href=https://www.data.go.kr/>https://www.data.go.kr/</a></li><li>(ë¯¸êµ­)ê³µê³µë°ì´í„°í¬í„¸ : <a href=https://www.data.gov/>https://www.data.gov/</a></li></ul><p>ê·¸ë°–ì— í™œìš©ê°€ëŠ¥í•œ ê³µê³µë°ì´í„°ê°€ ì–´ë–¤ ê²ƒì´ ìˆëŠ”ì§€, ì‚´í´ë³´ì„¸ìš”~</p></div></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a href=/posts/arduino-geiger-counter/ class="flex align-center"><img src=/icons/backward.svg class=book-icon alt=Previous title="Arduino, Geiger Counter">
<span>Arduino, Geiger Counter</span></a></div><div><a href=/posts/%EC%97%91%EC%85%80-%EB%8D%B0%EC%9D%B4%ED%84%B0%EC%9C%A0%ED%9A%A8%EC%84%B1%EA%B2%80%EC%82%AC-%EB%8F%99%EC%A0%81%EB%B2%94%EC%9C%84%EC%84%A4%EC%A0%95/ class="flex align-center"><span>ì—‘ì…€, ë°ì´í„° ìœ íš¨ì„± ê²€ì‚¬ì˜ ëª©ë¡ êµ¬ì„±ì‹œ ë™ì  ë²”ìœ„ ì„¤ì •</span>
<img src=/icons/forward.svg class=book-icon alt=Next title="ì—‘ì…€, ë°ì´í„° ìœ íš¨ì„± ê²€ì‚¬ì˜ ëª©ë¡ êµ¬ì„±ì‹œ ë™ì  ë²”ìœ„ ì„¤ì •"></a></div></div><div class=book-comments></div></footer><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><ul><li><a href=#openweathermaporg>OpenWeatherMap.org</a></li><li><a href=#esp32ì—ì„œ-ì‚¬ìš©í•˜ëŠ”-ê²½ìš°>ESP32ì—ì„œ ì‚¬ìš©í•˜ëŠ” ê²½ìš°</a></li><li><a href=#json-parsing>JSON Parsing</a></li><li><a href=#weather-condition-code>Weather Condition Code</a></li><li><a href=#1602-lcdì—-ë‚ ì”¨-ì •ë³´-ì¶œë ¥í•˜ê¸°>1602 LCDì— ë‚ ì”¨ ì •ë³´ ì¶œë ¥í•˜ê¸°</a></li><li><a href=#ê³µê³µë°ì´í„°-í™œìš©í•˜ê¸°>ê³µê³µë°ì´í„° í™œìš©í•˜ê¸°</a></li></ul></li></ul></nav></div></aside></main></body></html>