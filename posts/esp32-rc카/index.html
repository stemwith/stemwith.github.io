<!doctype html><html lang=ko-kr dir=ltr><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="샤시 조립#
샤시 부품#

  
      
          번호
          부품
          사진
          수량
          용도 및 참고사항
      
  
  
      
          1
          전륜 회전축
          








  

  
  

          2
          
      
      
          2
          베어링(대)
          








  

  
  

          2
          
      
      
          3
          스티어링 컵
          








  

  
  

          2
          
      
      
          4
          커플러 고정핀
          








  

  
  

          2
          
      
      
          5
          베어링(중)
          








  

  
  

          2
          
      
      
          6
          (전륜) 육각 커플러
          








  

  
  

          2
          
      
      
          7
          휠
          








  

  
  

          4
          
      
      
          8
          나이록 너트(M4)
          








  

  
  

          2
          
      
      
          9
          십자형 육각 복스
          








  

  
  

          1
          
      
      
          10
          볼 조인트 커넥팅 로드
          








  

  
  

          1
          홀 간격 80.5mm 유지
      
      
          11
          볼 조인트 커넥팅 로드
          








  

  
  

          1
          홀 간격 51mm 유지
      
      
          12
          서보모터MG996R
          








  

  
  

          1
          
      
      
          13
          ㄴ자 서보모터 브라켓
          








  

  
  

          2
          
      
      
          14
          휠 베이스 고정판
          








  

  
  

          2
          
      
      
          15
          서보 혼
          








  

  
  

          1
          (볼트 포함)
      
      
          16
          나이록 너트(M2.5)
          








  

  
  

          1
          
      
      
          17
          샤시 하판
          








  

  
  

          1
          
      
      
          18
          DC엔코더 모터 & 커넥터
          








  

  
  

          2
          
      
      
          19
          모터 브라켓
          








  

  
  

          2
          
      
      
          20
          샤프트
          








  

  
  

          2
          
      
      
          21
          써클립
          








  

  
  

          2
          
      
      
          22
          샤프트 베어링
          








  

  
  

          4
          
      
      
          23
          기어(무두볼트(Set Screw) 포함)
          








  

  
  

          2
          
      
      
          24
          육각 샤프트 커플링 커넥터
          








  

  
  

          2
          
      
      
          25
          범퍼
          








  

  
  

          1
          
      
      
          26
          샤시 상판
          








  

  
  

          1
          
      
      
          27
          락스위치
          








  

  
  

          1
          
      
      
          28
          황동 육각 스터드(M3×22mm)
          








  

  
  

          6
          휠 베이스 고정용 4개, 상판 고정용 2개
      
      
          29
          황동 육각 스터드(M3×16mm)
          








  

  
  

          2
          범퍼 고정용 2개
      
      
          30
          볼트(Pan head, M4×6mm)
          








  

  
  

          6
          모터 브라켓과 샤시 하판 고정용 6개
      
      
          31
          볼트(Bind-Washer head, M3×6mm)
          








  

  
  

          10
          서보모터와 서보모터 브라켓 고정용 4개, 서보모터 브라켓과 샤시하판 고정용 4개, 범퍼 고정용 2개
      
      
          32
          볼트(Bind head, M3×8mm)
          








  

  
  

          14
          육각 스터드 고정용 12개, 범퍼 고정용 2개
      
      
          33
          볼트(Pan head, M2.5×10mm)
          








  

  
  

          7
          커넥팅 로드 연결용 3개, 휠 베이스 연결용 4개
      
      
          34
          볼트(Flat head, M2.5×5mm)
          








  

  
  

          4
          모터와 모터브라켓 고정
      
      
          35
          육각렌치
          








  

  
  

          1
          기어 무두볼트용
      
      
          36
          저항1K or 5.1K
          








  

  
  

          2
          (선택사항) 인코더 풀업저항
      
      
          37
          홀센서 칩SH41F(SOT-23타입)
          
          2
          (선택사항) 홀 센서를 이중채널로 사용할 필요가 있는 경우에, 각 모터마다 1개씩 추가함
      
      
          총
          36종
          
          
          
      
  


전륜 조향 휠 조립#
사진 오른쪽부터 차례대로 8개의 부품을 끼워 휠을 조립한다. (왼쪽휠/오른쪽휠 각각 1개씩, 총 2개 조립)"><meta name=theme-color media="(prefers-color-scheme: light)" content="#ffffff"><meta name=theme-color media="(prefers-color-scheme: dark)" content="#343a40"><meta name=color-scheme content="light dark"><meta property="og:url" content="https://stemwith.github.io/posts/esp32-rc%EC%B9%B4/"><meta property="og:site_name" content="stemwith"><meta property="og:title" content="ESP32, RC카"><meta property="og:description" content="샤시 조립# 샤시 부품# 번호 부품 사진 수량 용도 및 참고사항 1 전륜 회전축 2 2 베어링(대) 2 3 스티어링 컵 2 4 커플러 고정핀 2 5 베어링(중) 2 6 (전륜) 육각 커플러 2 7 휠 4 8 나이록 너트(M4) 2 9 십자형 육각 복스 1 10 볼 조인트 커넥팅 로드 1 홀 간격 80.5mm 유지 11 볼 조인트 커넥팅 로드 1 홀 간격 51mm 유지 12 서보모터
MG996R 1 13 ㄴ자 서보모터 브라켓 2 14 휠 베이스 고정판 2 15 서보 혼 1 (볼트 포함) 16 나이록 너트
(M2.5) 1 17 샤시 하판 1 18 DC엔코더 모터 & 커넥터 2 19 모터 브라켓 2 20 샤프트 2 21 써클립 2 22 샤프트 베어링 4 23 기어
(무두볼트(Set Screw) 포함) 2 24 육각 샤프트 커플링 커넥터 2 25 범퍼 1 26 샤시 상판 1 27 락스위치 1 28 황동 육각 스터드
(M3×22mm) 6 휠 베이스 고정용 4개, 상판 고정용 2개 29 황동 육각 스터드(M3×16mm) 2 범퍼 고정용 2개 30 볼트(Pan head, M4×6mm) 6 모터 브라켓과 샤시 하판 고정용 6개 31 볼트
(Bind-Washer head, M3×6mm) 10 서보모터와 서보모터 브라켓 고정용 4개, 서보모터 브라켓과 샤시하판 고정용 4개, 범퍼 고정용 2개 32 볼트
(Bind head, M3×8mm) 14 육각 스터드 고정용 12개, 범퍼 고정용 2개 33 볼트(Pan head, M2.5×10mm) 7 커넥팅 로드 연결용 3개, 휠 베이스 연결용 4개 34 볼트
(Flat head, M2.5×5mm) 4 모터와 모터브라켓 고정 35 육각렌치 1 기어 무두볼트용 36 저항
1K or 5.1K 2 (선택사항) 인코더 풀업저항 37 홀센서 칩
SH41F(SOT-23타입) 2 (선택사항) 홀 센서를 이중채널로 사용할 필요가 있는 경우에, 각 모터마다 1개씩 추가함 총 36종 전륜 조향 휠 조립# 사진 오른쪽부터 차례대로 8개의 부품을 끼워 휠을 조립한다. (왼쪽휠/오른쪽휠 각각 1개씩, 총 2개 조립)"><meta property="og:locale" content="ko_kr"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-12-02T18:27:53+09:00"><meta property="article:modified_time" content="2021-12-02T18:27:53+09:00"><meta property="article:tag" content="Rc"><title>ESP32, RC카 | stemwith</title><link rel=icon href=/favicon.ico><link rel=manifest href=/manifest.json><link rel=canonical href=https://stemwith.github.io/posts/esp32-rc%EC%B9%B4/><link rel=stylesheet href=/book.min.edacc84919565354dfc39b7e3684e11739048c7cd9356a3036fc1c663b63611d.css integrity="sha256-7azISRlWU1Tfw5t+NoThFzkEjHzZNWowNvwcZjtjYR0=" crossorigin=anonymous><script defer src=/fuse.min.js></script><script defer src=/en.search.min.48a89e4be341d639de74b0f5b5a0b5ad125313b71f6faa18dd992cd4721b044e.js integrity="sha256-SKieS+NB1jnedLD1taC1rRJTE7cfb6oY3Zks1HIbBE4=" crossorigin=anonymous></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-128DRYVCRT"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-128DRYVCRT")}</script></head><body dir=ltr class="book-kind-page book-type-posts"><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav class=book-menu><h2 class=book-brand><a class="flex align-center" href=/><img src=/og_image.png alt=Logo></a></h2><div class="book-search hidden"><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><script>document.querySelector(".book-search").classList.remove("hidden")</script><div class=analytics-container><h4>접속 통계</h4><div class=stat-group><span class=stat-label>오늘</span><p class=stat-value id=ga-today-visitors>👤 ...</p></div><div class=stat-group><span class=stat-label>일일 방문자 (2주)</span><div id=ga-daily-chart></div></div><div class=stat-group><span class=stat-label>계</span><ul class=stat-list><li id=ga-total-visitors>- 방문자: ...</li><li id=ga-total-pageviews>- 페이지뷰: ...</li></ul></div></div></nav><script type=text/javascript>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class="book-header hidden"><div class="flex align-center justify-between"><label for=menu-control><img src=/icons/menu.svg class=book-icon alt=Menu></label><h3>ESP32, RC카</h3><label for=toc-control><img src=/icons/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class=hidden><nav id=TableOfContents><ul><li><ul><li><a href=#샤시-조립>샤시 조립</a></li><li><a href=#esp32-parts>ESP32 Parts</a></li></ul></li></ul></nav></aside></header><article class="markdown book-post"><h1>ESP32, RC카</h1><div class="flex align-center text-small book-post-date"><img src=/icons/calendar.svg class=book-icon alt>
<span>December 2, 2021</span></div><div class=text-small><a href=/categories/esp32/>Esp32</a></div><div class=text-small><a href=/tags/rc/>Rc</a></div><div class="book-post-content markdown-inner"><h3 id=샤시-조립>샤시 조립<a class=anchor href=#%ec%83%a4%ec%8b%9c-%ec%a1%b0%eb%a6%bd>#</a></h3><h4 id=샤시-부품>샤시 부품<a class=anchor href=#%ec%83%a4%ec%8b%9c-%eb%b6%80%ed%92%88>#</a></h4><table><thead><tr><th style=text-align:center>번호</th><th style=text-align:center>부품</th><th style=text-align:center>사진</th><th style=text-align:center>수량</th><th style=text-align:center>용도 및 참고사항</th></tr></thead><tbody><tr><td style=text-align:center>1</td><td style=text-align:center>전륜 회전축</td><td style=text-align:center><figure class=center style=width:75%><img src=/image/r/ESP32-RC-Car-14.png alt=/image/r/ESP32-RC-Car-14.png></figure></td><td style=text-align:center>2</td><td style=text-align:center></td></tr><tr><td style=text-align:center>2</td><td style=text-align:center>베어링(대)</td><td style=text-align:center><figure class=center style=width:75%><img src=/image/r/ESP32-RC-Car-18.png alt=/image/r/ESP32-RC-Car-18.png></figure></td><td style=text-align:center>2</td><td style=text-align:center></td></tr><tr><td style=text-align:center>3</td><td style=text-align:center>스티어링 컵</td><td style=text-align:center><figure class=center style=width:75%><img src=/image/r/ESP32-RC-Car-08.png alt=/image/r/ESP32-RC-Car-08.png></figure></td><td style=text-align:center>2</td><td style=text-align:center></td></tr><tr><td style=text-align:center>4</td><td style=text-align:center>커플러 고정핀</td><td style=text-align:center><figure class=center style=width:75%><img src=/image/r/ESP32-RC-Car-16.png alt=/image/r/ESP32-RC-Car-16.png></figure></td><td style=text-align:center>2</td><td style=text-align:center></td></tr><tr><td style=text-align:center>5</td><td style=text-align:center>베어링(중)</td><td style=text-align:center><figure class=center style=width:75%><img src=/image/r/ESP32-RC-Car-19.png alt=/image/r/ESP32-RC-Car-19.png></figure></td><td style=text-align:center>2</td><td style=text-align:center></td></tr><tr><td style=text-align:center>6</td><td style=text-align:center>(전륜) 육각 커플러</td><td style=text-align:center><figure class=center style=width:80%><img src=/image/r/ESP32-RC-Car-15.png alt=/image/r/ESP32-RC-Car-15.png></figure></td><td style=text-align:center>2</td><td style=text-align:center></td></tr><tr><td style=text-align:center>7</td><td style=text-align:center>휠</td><td style=text-align:center><figure class=center style=width:75%><img src=/image/r/ESP32-RC-Car-01.png alt=/image/r/ESP32-RC-Car-01.png></figure></td><td style=text-align:center>4</td><td style=text-align:center></td></tr><tr><td style=text-align:center>8</td><td style=text-align:center>나이록 너트(M4)</td><td style=text-align:center><figure class=center style=width:75%><img src=/image/r/ESP32-RC-Car-22.png alt=/image/r/ESP32-RC-Car-22.png></figure></td><td style=text-align:center>2</td><td style=text-align:center></td></tr><tr><td style=text-align:center>9</td><td style=text-align:center>십자형 육각 복스</td><td style=text-align:center><figure class=center style=width:75%><img src=/image/r/ESP32-RC-Car-17.png alt=/image/r/ESP32-RC-Car-17.png></figure></td><td style=text-align:center>1</td><td style=text-align:center></td></tr><tr><td style=text-align:center>10</td><td style=text-align:center>볼 조인트 커넥팅 로드</td><td style=text-align:center><figure class=center style=width:75%><img src=/image/r/ESP32-RC-Car-09.png alt=/image/r/ESP32-RC-Car-09.png></figure></td><td style=text-align:center>1</td><td style=text-align:center>홀 간격 80.5mm 유지</td></tr><tr><td style=text-align:center>11</td><td style=text-align:center>볼 조인트 커넥팅 로드</td><td style=text-align:center><figure class=center style=width:75%><img src=/image/r/ESP32-RC-Car-35.png alt=/image/r/ESP32-RC-Car-35.png></figure></td><td style=text-align:center>1</td><td style=text-align:center>홀 간격 51mm 유지</td></tr><tr><td style=text-align:center>12</td><td style=text-align:center>서보모터<br>MG996R</td><td style=text-align:center><figure class=center style=width:75%><img src=/image/r/ESP32-RC-Car-54.png alt=/image/r/ESP32-RC-Car-54.png></figure></td><td style=text-align:center>1</td><td style=text-align:center></td></tr><tr><td style=text-align:center>13</td><td style=text-align:center>ㄴ자 서보모터 브라켓</td><td style=text-align:center><figure class=center style=width:75%><img src=/image/r/ESP32-RC-Car-11.png alt=/image/r/ESP32-RC-Car-11.png></figure></td><td style=text-align:center>2</td><td style=text-align:center></td></tr><tr><td style=text-align:center>14</td><td style=text-align:center>휠 베이스 고정판</td><td style=text-align:center><figure class=center style=width:75%><img src=/image/r/ESP32-RC-Car-12.png alt=/image/r/ESP32-RC-Car-12.png></figure></td><td style=text-align:center>2</td><td style=text-align:center></td></tr><tr><td style=text-align:center>15</td><td style=text-align:center>서보 혼</td><td style=text-align:center><figure class=center style=width:75%><img src=/image/r/ESP32-RC-Car-25.png alt=/image/r/ESP32-RC-Car-25.png></figure></td><td style=text-align:center>1</td><td style=text-align:center>(볼트 포함)</td></tr><tr><td style=text-align:center>16</td><td style=text-align:center>나이록 너트<br>(M2.5)</td><td style=text-align:center><figure class=center style=width:75%><img src=/image/r/ESP32-RC-Car-23.png alt=/image/r/ESP32-RC-Car-23.png></figure></td><td style=text-align:center>1</td><td style=text-align:center></td></tr><tr><td style=text-align:center>17</td><td style=text-align:center>샤시 하판</td><td style=text-align:center><figure class=center style=width:75%><img src=/image/r/ESP32-RC-Car-03.png alt=/image/r/ESP32-RC-Car-03.png></figure></td><td style=text-align:center>1</td><td style=text-align:center></td></tr><tr><td style=text-align:center>18</td><td style=text-align:center>DC엔코더 모터 & 커넥터</td><td style=text-align:center><figure class=center style=width:75%><img src=/image/r/ESP32-RC-Car-04.png alt=/image/r/ESP32-RC-Car-04.png></figure></td><td style=text-align:center>2</td><td style=text-align:center></td></tr><tr><td style=text-align:center>19</td><td style=text-align:center>모터 브라켓</td><td style=text-align:center><figure class=center style=width:67%><img src=/image/r/ESP32-RC-Car-07.png alt=/image/r/ESP32-RC-Car-07.png></figure></td><td style=text-align:center>2</td><td style=text-align:center></td></tr><tr><td style=text-align:center>20</td><td style=text-align:center>샤프트</td><td style=text-align:center><figure class=center style=width:75%><img src=/image/r/ESP32-RC-Car-10.png alt=/image/r/ESP32-RC-Car-10.png></figure></td><td style=text-align:center>2</td><td style=text-align:center></td></tr><tr><td style=text-align:center>21</td><td style=text-align:center>써클립</td><td style=text-align:center><figure class=center style=width:75%><img src=/image/r/ESP32-RC-Car-24.png alt=/image/r/ESP32-RC-Car-24.png></figure></td><td style=text-align:center>2</td><td style=text-align:center></td></tr><tr><td style=text-align:center>22</td><td style=text-align:center>샤프트 베어링</td><td style=text-align:center><figure class=center style=width:75%><img src=/image/r/ESP32-RC-Car-21.png alt=/image/r/ESP32-RC-Car-21.png></figure></td><td style=text-align:center>4</td><td style=text-align:center></td></tr><tr><td style=text-align:center>23</td><td style=text-align:center>기어<br>(무두볼트(Set Screw) 포함)</td><td style=text-align:center><figure class=center style=width:75%><img src=/image/r/ESP32-RC-Car-05.png alt=/image/r/ESP32-RC-Car-05.png></figure></td><td style=text-align:center>2</td><td style=text-align:center></td></tr><tr><td style=text-align:center>24</td><td style=text-align:center>육각 샤프트 커플링 커넥터</td><td style=text-align:center><figure class=center style=width:75%><img src=/image/r/ESP32-RC-Car-06.png alt=/image/r/ESP32-RC-Car-06.png></figure></td><td style=text-align:center>2</td><td style=text-align:center></td></tr><tr><td style=text-align:center>25</td><td style=text-align:center>범퍼</td><td style=text-align:center><figure class=center style=width:75%><img src=/image/r/ESP32-RC-Car-02.png alt=/image/r/ESP32-RC-Car-02.png></figure></td><td style=text-align:center>1</td><td style=text-align:center></td></tr><tr><td style=text-align:center>26</td><td style=text-align:center>샤시 상판</td><td style=text-align:center><figure class=center style=width:75%><img src=/image/r/ESP32-RC-Car-34.png alt=/image/r/ESP32-RC-Car-34.png></figure></td><td style=text-align:center>1</td><td style=text-align:center></td></tr><tr><td style=text-align:center>27</td><td style=text-align:center>락스위치</td><td style=text-align:center><figure class=center style=width:75%><img src=/image/r/ESP32-RC-Car-20.png alt=/image/r/ESP32-RC-Car-20.png></figure></td><td style=text-align:center>1</td><td style=text-align:center></td></tr><tr><td style=text-align:center>28</td><td style=text-align:center>황동 육각 스터드<br>(M3×22mm)</td><td style=text-align:center><figure class=center style=width:75%><img src=/image/r/ESP32-RC-Car-26.png alt=/image/r/ESP32-RC-Car-26.png></figure></td><td style=text-align:center>6</td><td style=text-align:center>휠 베이스 고정용 4개, 상판 고정용 2개</td></tr><tr><td style=text-align:center>29</td><td style=text-align:center>황동 육각 스터드<br>(M3×16mm)</td><td style=text-align:center><figure class=center style=width:75%><img src=/image/r/ESP32-RC-Car-27.png alt=/image/r/ESP32-RC-Car-27.png></figure></td><td style=text-align:center>2</td><td style=text-align:center>범퍼 고정용 2개</td></tr><tr><td style=text-align:center>30</td><td style=text-align:center>볼트<br>(Pan head, M4×6mm)</td><td style=text-align:center><figure class=center style=width:75%><img src=/image/r/ESP32-RC-Car-32.png alt=/image/r/ESP32-RC-Car-32.png></figure></td><td style=text-align:center>6</td><td style=text-align:center>모터 브라켓과 샤시 하판 고정용 6개</td></tr><tr><td style=text-align:center>31</td><td style=text-align:center>볼트<br>(Bind-Washer head, M3×6mm)</td><td style=text-align:center><figure class=center style=width:75%><img src=/image/r/ESP32-RC-Car-28.png alt=/image/r/ESP32-RC-Car-28.png></figure></td><td style=text-align:center>10</td><td style=text-align:center>서보모터와 서보모터 브라켓 고정용 4개, 서보모터 브라켓과 샤시하판 고정용 4개, 범퍼 고정용 2개</td></tr><tr><td style=text-align:center>32</td><td style=text-align:center>볼트<br>(Bind head, M3×8mm)</td><td style=text-align:center><figure class=center style=width:75%><img src=/image/r/ESP32-RC-Car-30.png alt=/image/r/ESP32-RC-Car-30.png></figure></td><td style=text-align:center>14</td><td style=text-align:center>육각 스터드 고정용 12개, 범퍼 고정용 2개</td></tr><tr><td style=text-align:center>33</td><td style=text-align:center>볼트<br>(Pan head, M2.5×10mm)</td><td style=text-align:center><figure class=center style=width:75%><img src=/image/r/ESP32-RC-Car-29.png alt=/image/r/ESP32-RC-Car-29.png></figure></td><td style=text-align:center>7</td><td style=text-align:center>커넥팅 로드 연결용 3개, 휠 베이스 연결용 4개</td></tr><tr><td style=text-align:center>34</td><td style=text-align:center>볼트<br>(Flat head, M2.5×5mm)</td><td style=text-align:center><figure class=center style=width:75%><img src=/image/r/ESP32-RC-Car-31.png alt=/image/r/ESP32-RC-Car-31.png></figure></td><td style=text-align:center>4</td><td style=text-align:center>모터와 모터브라켓 고정</td></tr><tr><td style=text-align:center>35</td><td style=text-align:center>육각렌치</td><td style=text-align:center><figure class=center style=width:75%><img src=/image/r/ESP32-RC-Car-33.png alt=/image/r/ESP32-RC-Car-33.png></figure></td><td style=text-align:center>1</td><td style=text-align:center>기어 무두볼트용</td></tr><tr><td style=text-align:center>36</td><td style=text-align:center>저항<br>1K or 5.1K</td><td style=text-align:center><figure class=center style=width:75%><img src=/image/r/ESP32-RC-Car-13.png alt=/image/r/ESP32-RC-Car-13.png></figure></td><td style=text-align:center>2</td><td style=text-align:center>(선택사항) 인코더 풀업저항</td></tr><tr><td style=text-align:center>37</td><td style=text-align:center>홀센서 칩<br>SH41F(SOT-23타입)</td><td style=text-align:center></td><td style=text-align:center>2</td><td style=text-align:center>(선택사항) 홀 센서를 이중채널로 사용할 필요가 있는 경우에, 각 모터마다 1개씩 추가함</td></tr><tr><td style=text-align:center>총</td><td style=text-align:center>36종</td><td style=text-align:center></td><td style=text-align:center></td><td style=text-align:center></td></tr></tbody></table><br><h4 id=전륜-조향-휠-조립>전륜 조향 휠 조립<a class=anchor href=#%ec%a0%84%eb%a5%9c-%ec%a1%b0%ed%96%a5-%ed%9c%a0-%ec%a1%b0%eb%a6%bd>#</a></h4><p>사진 오른쪽부터 차례대로 8개의 부품을 끼워 휠을 조립한다. (왼쪽휠/오른쪽휠 각각 1개씩, 총 2개 조립)</p><figure class=center style=width:75%><img src=/image/r/ESP32-RC-Car-36.png alt=/image/r/ESP32-RC-Car-36.png></figure><ol><li>먼저 검은색의 스티어링 컵에 큰 베어링을 삽입한다. (상당히 뻑뻑하므로 힘을 강하게 주면서 스티어링컵 안쪽 끝까지 밀어넣어야 한다.)</li></ol><figure class=center style=width:25%><img src=/image/r/ESP32-RC-Car-37.png alt=/image/r/ESP32-RC-Car-37.png></figure><ol start=2><li>베어링이 장착된 스티어링 컵에 회전축을 끼운다. 이때, 회전축 중앙에 있는 작은 구멍이 (고정쇠를 끼울 수 있도록) 보여야 하며, 만약 구멍이 보이지 않으면, 이전 과정에서 베어링을 더 밀어넣어 스티어링 컵에 완전히 밀착시켜야 한다.</li></ol><p><figure class=center style=width:50%><img src=/image/r/ESP32-RC-Car-38.png alt=/image/r/ESP32-RC-Car-38.png></figure><figure class=center style=width:75%><img src=/image/r/ESP32-RC-Car-39.png alt=/image/r/ESP32-RC-Car-39.png></figure></p><ol start=3><li>회전축이 나온 스티어링컵 밑바닥에 중간 크기의 베어링을 끼운다. 역시 뻑뻑하므로 강한 힘을 주어 밀어넣어야 한다.</li></ol><figure class=center style=width:50%><img src=/image/r/ESP32-RC-Car-40.png alt=/image/r/ESP32-RC-Car-40.png></figure><ol start=4><li>회전축 중앙의 작은 구멍에 커플러 고정핀를 끼워 넣는다.</li></ol><figure class=center style=width:50%><img src=/image/r/ESP32-RC-Car-41.png alt=/image/r/ESP32-RC-Car-41.png></figure><ol start=5><li>커플러 고정핀 끼워 넣는 홈이 파인 육각 커플러를 준비한 뒤, 커플러 고정핀이 꼽혀있는 방향을 고려하여 스티어링컵에 끼운다.</li></ol><p><figure class=center style=width:50%><img src=/image/r/ESP32-RC-Car-42.png alt=/image/r/ESP32-RC-Car-42.png></figure><figure class=center style=width:25%><img src=/image/r/ESP32-RC-Car-43.png alt=/image/r/ESP32-RC-Car-43.png></figure></p><ol start=6><li>스티어링컵에 끼운 육각 커플러를, 휠의 안쪽에 끼워 넣으면(이때, 육각 커플러가 휠의 육각 홈 안쪽까지 완전히 밀착되도록 강한 힘을 가하면서 끼운다.) 휠 바깥쪽면에 회전축의 나사산이 나온다.</li></ol><p><figure class=center style=width:50%><img src=/image/r/ESP32-RC-Car-44.png alt=/image/r/ESP32-RC-Car-44.png></figure><figure class=center style=width:50%><img src=/image/r/ESP32-RC-Car-45.png alt=/image/r/ESP32-RC-Car-45.png></figure></p><ol start=7><li>바퀴 바깥쪽으로 빠져나온 회전축 나사를 나이록 너트(M4)를 끼워 고정한다. (십자형 육각 복스로 나이록 너트를 돌릴때 &lsquo;딱딱&rsquo;하는 소리가 몇번 날때까지 돌리면 고정이 된다.)</li></ol><figure class=center style=width:75%><img src=/image/r/ESP32-RC-Car-46.png alt=/image/r/ESP32-RC-Car-46.png></figure><ol start=8><li>동일한 방법으로 하나를 더 만들어 2개의 휠을 완성한다.</li></ol><figure class=center style=width:75%><img src=/image/r/ESP32-RC-Car-47.png alt=/image/r/ESP32-RC-Car-47.png></figure><ol start=9><li>짧은 커넥팅 로드 1개와 긴 커넥팅 로드 1개, M2.5*10mm 나사(Pan head) 3개를 준비한 뒤,</li></ol><figure class=center style=width:75%><img src=/image/r/ESP32-RC-Car-48.png alt=/image/r/ESP32-RC-Car-48.png></figure><ol start=10><li><strong>오른쪽 휠 컵</strong> 암(Arm)에 있는 구멍 2개 중, 끝부분의 구멍(빨간색으로 표시된 부분)에</li></ol><figure class=center style=width:75%><img src=/image/r/ESP32-RC-Car-51.png alt=/image/r/ESP32-RC-Car-51.png></figure><ol start=11><li>준비한 볼트(M2.5*10mm (Pan head)) 1개를 이용하여 긴 커넥팅 로드를 고정한다. 이때, 볼트의 끝 부분을 <strong>구멍 아래쪽에서 윗쪽으로</strong> 넣듯이 하여 고정한다.</li></ol><figure class=center style=width:75%><img src=/image/r/ESP32-RC-Car-49.png alt=/image/r/ESP32-RC-Car-49.png></figure><p>​ 또한, <strong>볼트의 끝부분이 반대편 구멍 바깥쪽으로 튀어나오지 않도록</strong> 조임의 정도를 조절한다.</p><p><figure class=center style=width:75%><img src=/image/r/ESP32-RC-Car-50.png alt=/image/r/ESP32-RC-Car-50.png></figure><figure class=center style=width:50%><img src=/image/r/ESP32-RC-Car-66.png alt=/image/r/ESP32-RC-Car-66.png></figure></p><ol start=12><li><p>같은 방법으로 <strong>왼쪽 휠 컵</strong>의 구멍에 긴 커넥팅 로드의 반대편을 고정한다. (이때, 볼트의 끝부분이 반대편 구멍 바깥쪽으로 튀어나오지 않도록 조임의 정도를 조절한다. )</p></li><li><p><strong>오른쪽 휠 컵</strong>의 구멍 2개 중, 파란색으로 표시된 부분에는 동일한 볼트를 사용하여 짧은 커넥팅 로드를 연결한다. (이때, 볼트의 끝부분이 반대편 구멍 바깥쪽으로 튀어나오지 않도록 조임의 정도를 조절한다. )</p></li></ol><figure class=center style=width:75%><img src=/image/r/ESP32-RC-Car-52.png alt=/image/r/ESP32-RC-Car-52.png></figure><ol start=14><li>전륜 휠 베이스 완성된 모습</li></ol><figure class=center style=width:75%><img src=/image/r/ESP32-RC-Car-53.png alt=/image/r/ESP32-RC-Car-53.png></figure><br><h4 id=조향-서보모터-조립>조향 서보모터 조립<a class=anchor href=#%ec%a1%b0%ed%96%a5-%ec%84%9c%eb%b3%b4%eb%aa%a8%ed%84%b0-%ec%a1%b0%eb%a6%bd>#</a></h4><ol><li>MG996R 서보모터를 준비한 후,</li></ol><figure class=center style=width:75%><img src=/image/r/ESP32-RC-Car-54.png alt=/image/r/ESP32-RC-Car-54.png></figure><ol start=2><li><p>아래 회로도와 스케치를 참고하여, 서보모터의 초기 위치를 90도 위치로 회전시켜 둔다.</p><ul><li><p>schematic</p><figure class=center style=width:75%><img src=/image/SG90.png alt=/image/SG90.png></figure><table><thead><tr><th>MG996R</th><th>갈색</th><th>빨간색</th><th>주황색</th></tr></thead><tbody><tr><td>ESP32</td><td>GND</td><td>5V</td><td>GPIO 15</td></tr></tbody></table></li><li><p>sketch</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-c++ data-lang=c++><span class=line><span class=cl><span class=k>const</span> <span class=kt>int</span> <span class=n>ledPin</span> <span class=o>=</span> <span class=mi>15</span><span class=p>;</span>  <span class=c1>// corresponds to GPIO 15
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=c1>// setting PWM properties
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>const</span> <span class=kt>int</span> <span class=n>ledChannel</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>const</span> <span class=kt>int</span> <span class=n>freq</span> <span class=o>=</span> <span class=mi>50</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>const</span> <span class=kt>int</span> <span class=n>resolution</span> <span class=o>=</span> <span class=mi>16</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=nf>setup</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=c1>// PWM Setup
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=n>ledcSetup</span><span class=p>(</span><span class=n>ledChannel</span><span class=p>,</span> <span class=n>freq</span><span class=p>,</span> <span class=n>resolution</span><span class=p>);</span>  <span class=c1>// PWM CH0, Frequncy 50 Hz, 16bit resolution
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=n>ledcAttachPin</span><span class=p>(</span><span class=n>ledPin</span><span class=p>,</span> <span class=n>ledChannel</span><span class=p>);</span>        <span class=c1>// PWM CH0을 GPIO 15번으로 출력
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=nf>loop</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=n>ledcWrite</span><span class=p>(</span><span class=n>ledChannel</span><span class=p>,</span> <span class=mi>4910</span><span class=p>);</span>              <span class=c1>// 1638 ~ 8192 (90degree = 4910)
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=n>delay</span><span class=p>(</span><span class=mi>500</span><span class=p>);</span>  
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div></li></ul></li><li><p>ㄴ자 서보모터 브라켓, 브라켓 고정용 볼트(Pan-Washer head, M3×6mm) 8개, 서보 혼(고정용 볼트 1개 포함)를 준비한다.</p></li></ol><p><figure class=center style=width:75%><img src=/image/r/ESP32-RC-Car-55.png alt=/image/r/ESP32-RC-Car-55.png></figure><figure class=center style=width:75%><img src=/image/r/ESP32-RC-Car-56.png alt=/image/r/ESP32-RC-Car-56.png></figure></p><ol start=4><li>와셔볼트 4개를 사용하여 ㄴ자 브라켓을 고정하고, 서버 혼도 고정용 볼트를 사용하여 장착한다. (<strong>아래 사진을 잘 보면서 MG996R 스티커의 글씨 방향, ㄴ자 브라켓이 고정된 방향, 서보 혼 방향(현재 사진에 보이는 서보 날개의 위치가 90도가 됨)에 유의하여 장착한다.</strong>)</li></ol><figure class=center style=width:75%><img src=/image/r/ESP32-RC-Car-57.png alt=/image/r/ESP32-RC-Car-57.png></figure><ol start=5><li>샤시 하판에 와셔볼트 4개를 사용하여 서보모터를 고정한다.</li></ol><figure class=center style=width:80%><img src=/image/r/ESP32-RC-Car-58.png alt=/image/r/ESP32-RC-Car-58.png></figure><figure class=center style=width:75%><img src=/image/r/ESP32-RC-Car-59.png alt=/image/r/ESP32-RC-Car-59.png></figure><br><h4 id=샤시-하판에-휠-베이스-고정하기>샤시 하판에 휠 베이스 고정하기<a class=anchor href=#%ec%83%a4%ec%8b%9c-%ed%95%98%ed%8c%90%ec%97%90-%ed%9c%a0-%eb%b2%a0%ec%9d%b4%ec%8a%a4-%ea%b3%a0%ec%a0%95%ed%95%98%ea%b8%b0>#</a></h4><ol><li>준비물: 서보모터가 고정된 샤시 하판, 황동 육각 스터드 M3×22mm 4개, 볼트 M3*8mm 8개, M2.5×10mm 4개, 부채꼴 모양의 휠 베이스 고정판 2개</li></ol><figure class=center style=width:75%><img src=/image/r/ESP32-RC-Car-60.png alt=/image/r/ESP32-RC-Car-60.png></figure><ol start=2><li>(위 1번 사진의) 빨간색으로 표시된 부분에 육각 스터드 4개를 고정한다.</li></ol><figure class=center style=width:75%><img src=/image/r/ESP32-RC-Car-61.png alt=/image/r/ESP32-RC-Car-61.png></figure><ol start=3><li>(위 1번 사진의) 파란색으로 표시된 부분의 구멍에는, 다음 그림과 같이 긴 커넥팅 로드가 붙어있는 쪽의 휠 컵 구멍(아래 사진에서 파란색으로 표시된 부분)을 맞추어 볼트(M2.5×10mm)로 고정시킨다. (이때, 양쪽 휠 컵의 암(Arm) 부분이 차량 전면을 향하도록 한 상태에서 연결해야 한다.)</li></ol><figure class=center style=width:75%><img src=/image/r/ESP32-RC-Car-62.png alt=/image/r/ESP32-RC-Car-62.png></figure><ol start=4><li>고정이 완료된 상태에서 밑면을 보면 다음과 같으며,</li></ol><figure class=center style=width:75%><img src=/image/r/ESP32-RC-Car-63.png alt=/image/r/ESP32-RC-Car-63.png></figure><p>​ 위에서 바라본 모습은 다음과 같다.</p><figure class=center style=width:75%><img src=/image/r/ESP32-RC-Car-64.png alt=/image/r/ESP32-RC-Car-64.png></figure><ol start=5><li><p>(파란색 원으로 표시된 부분) 부채꼴 모양의 휠 베이스 고정판을 양쪽 휠에 있는 육각 스터드와 스티어링 컵의 구멍에 고정한다. (볼트 M3×8mm 8개, M2.5×10mm 4개 사용)</p><p>(빨간색 원으로 표시된 부분) M2.5*10mm 나사와 나이록 너트(M2.5)를 사용하여, 짧은 커넥팅 로드를 서보 혼에 고정한다. 이때, 십자형 육각 복스로 나이록 너트를 돌릴때 &lsquo;딱딱&rsquo;하는 소리가 몇번 날때까지 돌리면 고정이 된다.)</p></li></ol><figure class=center style=width:75%><img src=/image/r/ESP32-RC-Car-65.png alt=/image/r/ESP32-RC-Car-65.png></figure><p>​ 아래 사진은 완성된 전륜 조향 휠 부분을 정면에서 바라본 모습이다.</p><figure class=center style=width:75%><img src=/image/r/ESP32-RC-Car-67.png alt=/image/r/ESP32-RC-Car-67.png></figure><br><h4 id=후륜-모터-파트-조립>후륜 모터 파트 조립<a class=anchor href=#%ed%9b%84%eb%a5%9c-%eb%aa%a8%ed%84%b0-%ed%8c%8c%ed%8a%b8-%ec%a1%b0%eb%a6%bd>#</a></h4><ol><li>25GA370 엔코더 모터에 모터 커넥터를 끼우고, 볼트 (Flat head, M2.5×5mm) 2개를 사용하여 모터 브라켓를 고정한다.</li></ol><figure class=center style=width:75%><img src=/image/r/ESP32-RC-Car-68.png alt=/image/r/ESP32-RC-Car-68.png></figure><ol start=2><li>베어링 2개, 샤프트, 써클립, 기어, 육각 샤프트 커플링 커넥터, 써클립(Circlip)을 준비한다.</li></ol><figure class=center style=width:75%><img src=/image/r/ESP32-RC-Car-69.png alt=/image/r/ESP32-RC-Car-69.png></figure><ol start=3><li>샤프트 끝부분에 있는 홈에 써클립을 끼운다.</li></ol><p><figure class=center style=width:75%><img src=/image/r/ESP32-RC-Car-70.png alt=/image/r/ESP32-RC-Car-70.png></figure><figure class=center style=width:25%><img src=/image/r/ESP32-RC-Car-71.png alt=/image/r/ESP32-RC-Car-71.png></figure></p><ol start=4><li>모터 브라켓 양쪽 끝에 있는 구멍에 베어링을 끼우고, 써클립을 끼운 샤프트를 밀어넣는다.</li></ol><figure class=center style=width:75%><img src=/image/r/ESP32-RC-Car-72.png alt=/image/r/ESP32-RC-Car-72.png></figure><p>​ 샤프트를 끼운 후, 모터를 앞쪽과 뒷쪽에서 보았을때의 모습</p><p><figure class=center style=width:75%><img src=/image/r/ESP32-RC-Car-74.png alt=/image/r/ESP32-RC-Car-74.png></figure><figure class=center style=width:75%><img src=/image/r/ESP32-RC-Car-73.png alt=/image/r/ESP32-RC-Car-73.png></figure></p><ol start=5><li>모터에 부착되어 있는 작은 황동 기어에 흰색 플라스틱으로 된 기어가 맞물려지도록 샤프트에 끼우고, 기어 측면에 있는 작은 무두볼트(Set Screw) 2개를 육각렌치를 사용하여 적절하게 분배하여 조여준다. 이때 <strong>한쪽 무두볼트만 조여서 고정하면 기어에서 무두볼트가 빠지거나 고정이 되지 않을 수 있다.</strong> 이를 고려하여 양쪽의 나사를 적절히 분배하여 조이도록 한다.</li></ol><p><figure class=center style=width:75%><img src=/image/r/ESP32-RC-Car-75.png alt=/image/r/ESP32-RC-Car-75.png></figure><figure class=center style=width:75%><img src=/image/r/ESP32-RC-Car-76.png alt=/image/r/ESP32-RC-Car-76.png></figure></p><ol start=6><li>육각 샤프트 커플링 커넥터를 준비하여 샤프트에 끼운 후, 커넥터 측면의 볼트를 돌려 고정한다. 이때, 고정하는 볼트의 끝부분이 샤프트의 편평한 면에 닿도록 조여준다.</li></ol><p><figure class=center style=width:80%><img src=/image/r/ESP32-RC-Car-77.png alt=/image/r/ESP32-RC-Car-77.png></figure><figure class=center style=width:80%><img src=/image/r/ESP32-RC-Car-78.png alt=/image/r/ESP32-RC-Car-78.png></figure></p><ol start=7><li><p>같은 방법으로 후면 왼쪽 모터도 조립한다.</p></li><li><p>샤시 하판 뒷편 양쪽에 있는 삼각형 형태로 위치한 구멍에, 모터 브라켓을 올려놓고 볼트(Pan head, M4×6mm)를 사용하여 고정한다.</p></li></ol><figure class=center style=width:75%><img src=/image/r/ESP32-RC-Car-79.png alt=/image/r/ESP32-RC-Car-79.png></figure><p>​ 오른쪽 모터를 샤시 후면에 고정한 모습이다. 같은 방법으로 왼쪽 후면 모터도 고정한다.</p><figure class=center style=width:75%><img src=/image/r/ESP32-RC-Car-80.png alt=/image/r/ESP32-RC-Car-80.png></figure><br><h4 id=범퍼-조립>범퍼 조립<a class=anchor href=#%eb%b2%94%ed%8d%bc-%ec%a1%b0%eb%a6%bd>#</a></h4><ol><li>육각 스터드(M3×16mm) 2개와 볼트 (Bind-Washer head, M3×6mm) 4개 준비</li></ol><figure class=center style=width:75%><img src=/image/r/ESP32-RC-Car-81.png alt=/image/r/ESP32-RC-Car-81.png></figure><ol start=2><li>준비된 육각 스터드를 샤시 하판의 맨 앞쪽에 고정한다.</li></ol><figure class=center style=width:75%><img src=/image/r/ESP32-RC-Car-82.png alt=/image/r/ESP32-RC-Car-82.png></figure><ol start=3><li>범퍼를 육각기둥에 끼운 후, 와셔볼트를 사용하여 고정한다.</li></ol><p><figure class=center style=width:80%><img src=/image/r/ESP32-RC-Car-83.png alt=/image/r/ESP32-RC-Car-83.png></figure><figure class=center style=width:80%><img src=/image/r/ESP32-RC-Car-84.png alt=/image/r/ESP32-RC-Car-84.png></figure></p><br><h4 id=샤시-상판-고정>샤시 상판 고정<a class=anchor href=#%ec%83%a4%ec%8b%9c-%ec%83%81%ed%8c%90-%ea%b3%a0%ec%a0%95>#</a></h4><ol><li>육각 스터드(M3×22mm) 2개를 서보모터와 DC엔코더모터 사이에 있는 구멍에 볼트(M3.0×8mm)로 고정한다.</li></ol><figure class=center style=width:75%><img src=/image/r/ESP32-RC-Car-85.png alt=/image/r/ESP32-RC-Car-85.png></figure><p>​ 육각 스터드를 고정한 모습이다.</p><figure class=center style=width:75%><img src=/image/r/ESP32-RC-Car-86.png alt=/image/r/ESP32-RC-Car-86.png></figure><ol start=2><li>샤시 상판의 보호필름을 떼어내고, 육각 스터드 홀에 맟춰 올린 뒤,</li></ol><figure class=center style=width:75%><img src=/image/r/ESP32-RC-Car-87.png alt=/image/r/ESP32-RC-Car-87.png></figure><ol start=3><li>볼트(Bind head, M3.0×8mm) 2개를 사용하여 상판을 고정한다.</li></ol><figure class=center style=width:75%><img src=/image/r/ESP32-RC-Car-88.png alt=/image/r/ESP32-RC-Car-88.png></figure><p>​ 상판의 오른쪽 하단에 락스위치를 꼽아 고정한 뒤에, 배터리의 (+)라인에 직렬로 배선할 수 있도록 준비한다.</p><br><h4 id=후륜-휠-장착>후륜 휠 장착<a class=anchor href=#%ed%9b%84%eb%a5%9c-%ed%9c%a0-%ec%9e%a5%ec%b0%a9>#</a></h4><ol><li>육각 휠 너트 앞쪽에 있던 나사를 풀러낸 뒤,</li></ol><figure class=center style=width:75%><img src=/image/r/ESP32-RC-Car-89.png alt=/image/r/ESP32-RC-Car-89.png></figure><ol start=2><li>바퀴를 끼우고, 풀러냈던 나사로 다시 고정한다.</li></ol><figure class=center style=width:75%><img src=/image/r/ESP32-RC-Car-90.png alt=/image/r/ESP32-RC-Car-90.png></figure><br><h4 id=샤시-완성>샤시 완성<a class=anchor href=#%ec%83%a4%ec%8b%9c-%ec%99%84%ec%84%b1>#</a></h4><figure class=center style=width:75%><img src=/image/r/ESP32-RC-Car-91.png alt=/image/r/ESP32-RC-Car-91.png></figure><figure class=center style=width:75%><img src=/image/r/ESP32-RC-Car-92.png alt=/image/r/ESP32-RC-Car-92.png></figure><figure class=center style=width:75%><img src=/image/r/ESP32-RC-Car-93.png alt=/image/r/ESP32-RC-Car-93.png></figure><br><br><h3 id=esp32-parts>ESP32 Parts<a class=anchor href=#esp32-parts>#</a></h3><p>완성된 샤시의 상판과 하판을 이용하여 ESP32, 브레드보드, 모터드라이버, 배터리, 전원모듈 등을 장작한다.</p><br><h4 id=for-rc-car-esp32--nrf24l01--tb6612fng--25ga370--mg996r>for RC Car (ESP32 + nRF24L01 + TB6612FNG + 25GA370 + MG996R)<a class=anchor href=#for-rc-car-esp32--nrf24l01--tb6612fng--25ga370--mg996r>#</a></h4><h5 id=sketch>sketch<a class=anchor href=#sketch>#</a></h5><p>RC Car에 장착하는 ESP32에 업로드</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;SPI.h&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;RF24.h&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=n>RF24</span> <span class=nf>radio</span><span class=p>(</span><span class=mi>4</span><span class=p>,</span> <span class=mi>5</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>long</span> <span class=kt>long</span> <span class=n>address</span> <span class=o>=</span> <span class=mh>0x1234ABCDEFLL</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>struct</span> <span class=nc>Value</span><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kt>uint16_t</span> <span class=n>value_x</span><span class=p>;</span>   <span class=c1>// servo motor pwm
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=kt>uint16_t</span> <span class=n>value_y</span><span class=p>;</span>   <span class=c1>// DC motor pwm
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>Value</span> <span class=n>data</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=n>angle_x</span> <span class=o>=</span> <span class=mi>90</span><span class=p>;</span>     <span class=c1>// servo initial position (0~180)
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kt>int</span> <span class=n>velo_y</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>       <span class=c1>// DC motor inital velocity
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kt>int</span> <span class=n>direction_y</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>  <span class=c1>// DC motor direction
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>            <span class=c1>// joystick center position calculation counter
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kt>int</span> <span class=n>center_x</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>     <span class=c1>// joystick initial center_x 
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kt>int</span> <span class=n>center_y</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>     <span class=c1>// joystick initial center_y
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kt>int</span> <span class=n>ref_xl</span><span class=p>,</span> <span class=n>ref_xr</span><span class=p>,</span> <span class=n>ref_ya</span><span class=p>,</span> <span class=n>ref_yb</span><span class=p>;</span>    <span class=c1>// Servo &amp; DC rotation reference value from center position value
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=c1>//servo setting
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>const</span> <span class=kt>int</span> <span class=n>PIN_SERVO</span> <span class=o>=</span> <span class=mi>15</span><span class=p>;</span>             <span class=c1>// servo pwm pin
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>const</span> <span class=kt>int</span> <span class=n>CH_SERVO</span> <span class=o>=</span> <span class=mi>2</span><span class=p>;</span>               <span class=c1>// servo pwm channel
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>const</span> <span class=kt>int</span> <span class=n>servoFrequency</span> <span class=o>=</span> <span class=mi>50</span><span class=p>;</span>        <span class=c1>// servo pwm frequency (Hz)
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>const</span> <span class=kt>int</span> <span class=n>servoResolution</span> <span class=o>=</span> <span class=mi>16</span><span class=p>;</span>       <span class=c1>// servo pwm resolution (bit) (12bit: 0~4095)
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=c1>// RecvTime
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kt>unsigned</span> <span class=kt>long</span> <span class=n>lastRecvTime</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=nf>centerData</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>while</span><span class=p>(</span><span class=n>i</span> <span class=o>&lt;</span> <span class=mi>100</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span><span class=p>(</span><span class=n>radio</span><span class=p>.</span><span class=n>available</span><span class=p>()){</span>
</span></span><span class=line><span class=cl>      <span class=n>radio</span><span class=p>.</span><span class=n>read</span><span class=p>(</span><span class=o>&amp;</span><span class=n>data</span><span class=p>,</span> <span class=k>sizeof</span><span class=p>(</span><span class=n>Value</span><span class=p>));</span>
</span></span><span class=line><span class=cl>      <span class=n>center_x</span> <span class=o>=</span> <span class=n>center_x</span> <span class=o>+</span> <span class=n>data</span><span class=p>.</span><span class=n>value_x</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=n>center_y</span> <span class=o>=</span> <span class=n>center_y</span> <span class=o>+</span> <span class=n>data</span><span class=p>.</span><span class=n>value_y</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=n>i</span><span class=o>++</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=n>center_x</span> <span class=o>=</span> <span class=n>center_x</span> <span class=o>/</span> <span class=mi>100</span><span class=p>;</span>         <span class=c1>// x축 조이스틱 센터값 (평균)
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=n>center_y</span> <span class=o>=</span> <span class=n>center_y</span> <span class=o>/</span> <span class=mi>100</span><span class=p>;</span>         <span class=c1>// y축 조이스틱 센터값 (평균)
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>  <span class=n>ref_xl</span> <span class=o>=</span> <span class=n>center_x</span> <span class=o>/</span> <span class=mi>2</span><span class=p>;</span>             <span class=c1>// 좌회전 동작 기준값
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=n>ref_xr</span> <span class=o>=</span> <span class=p>(</span><span class=mi>4095</span> <span class=o>+</span> <span class=n>center_x</span><span class=p>)</span> <span class=o>/</span> <span class=mi>2</span><span class=p>;</span>    <span class=c1>// 우회전 동작 기준값
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=n>ref_ya</span> <span class=o>=</span> <span class=p>(</span><span class=mi>4095</span> <span class=o>+</span> <span class=n>center_y</span><span class=p>)</span> <span class=o>/</span> <span class=mi>2</span><span class=p>;</span>    <span class=c1>// accelator 동작 기준값
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=n>ref_yb</span> <span class=o>=</span> <span class=n>center_y</span> <span class=o>/</span> <span class=mi>2</span><span class=p>;</span>             <span class=c1>// brake 동작 기준값
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=nf>recvData</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>  <span class=k>while</span><span class=p>(</span><span class=n>radio</span><span class=p>.</span><span class=n>available</span><span class=p>()){</span>
</span></span><span class=line><span class=cl>    <span class=n>radio</span><span class=p>.</span><span class=n>read</span><span class=p>(</span><span class=o>&amp;</span><span class=n>data</span><span class=p>,</span> <span class=k>sizeof</span><span class=p>(</span><span class=n>Value</span><span class=p>));</span>
</span></span><span class=line><span class=cl>    <span class=n>lastRecvTime</span> <span class=o>=</span> <span class=n>millis</span><span class=p>();</span>  
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=cm>/*
</span></span></span><span class=line><span class=cl><span class=cm>// TB6612FNG right side &amp; ESP32-WROOM-32D DEVKIT_C V4 left side pin order
</span></span></span><span class=line><span class=cl><span class=cm>const int PIN_PWMA = 32;  
</span></span></span><span class=line><span class=cl><span class=cm>const int PIN_INA1 = 33;
</span></span></span><span class=line><span class=cl><span class=cm>const int PIN_INA2 = 25;
</span></span></span><span class=line><span class=cl><span class=cm>const int PIN_STBY = 26;
</span></span></span><span class=line><span class=cl><span class=cm>const int PIN_INB1 = 27;
</span></span></span><span class=line><span class=cl><span class=cm>const int PIN_INB2 = 14;
</span></span></span><span class=line><span class=cl><span class=cm>const int PIN_PWMB = 12;
</span></span></span><span class=line><span class=cl><span class=cm>*/</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// TB6612FNG right side &amp; ESP32-WROOM-32 left side pin order
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>const</span> <span class=kt>int</span> <span class=n>PIN_PWMA</span> <span class=o>=</span> <span class=mi>33</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>const</span> <span class=kt>int</span> <span class=n>PIN_AIN2</span> <span class=o>=</span> <span class=mi>25</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>const</span> <span class=kt>int</span> <span class=n>PIN_AIN1</span> <span class=o>=</span> <span class=mi>26</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>const</span> <span class=kt>int</span> <span class=n>PIN_STBY</span> <span class=o>=</span> <span class=mi>27</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>const</span> <span class=kt>int</span> <span class=n>PIN_BIN1</span> <span class=o>=</span> <span class=mi>14</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>const</span> <span class=kt>int</span> <span class=n>PIN_BIN2</span> <span class=o>=</span> <span class=mi>12</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>const</span> <span class=kt>int</span> <span class=n>PIN_PWMB</span> <span class=o>=</span> <span class=mi>13</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// channel setting (GPIO pin, channel)
</span></span></span><span class=line><span class=cl><span class=c1>// if STBY(CH0) = LOW, Standby states.
</span></span></span><span class=line><span class=cl><span class=c1>// if STBY(CH0) = HIGH, and INA1&amp;INA2 have different value
</span></span></span><span class=line><span class=cl><span class=c1>// and PWMA has some value, CW or CCW rotation is made.
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=c1>// Channel      CW   CCW  Stanby Stop Brake1 Brake2 Brake3
</span></span></span><span class=line><span class=cl><span class=c1>// PIN_STBY (0) HIGH HIGH LOW    HIGH  HIGH  HIGH   HIGH
</span></span></span><span class=line><span class=cl><span class=c1>// PIN_INA1 (1) HIGH LOW  *      LOW   HIGH  LOW    HIGH
</span></span></span><span class=line><span class=cl><span class=c1>// PIN_INA2 (2) LOW  HIGH *      LOW   HIGH  HIGH   LOW
</span></span></span><span class=line><span class=cl><span class=c1>// CH_PWMA  (3) PWM  PWM  *      HIGH  *     LOW    LOW
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=c1>// PWM Channel setup
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>const</span> <span class=kt>int</span> <span class=n>CH_PWMA</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>const</span> <span class=kt>int</span> <span class=n>CH_PWMB</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=c1>// PWM frequency and bit resolution setup
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>const</span> <span class=kt>int</span> <span class=n>pwmFrequency</span> <span class=o>=</span> <span class=mi>10000</span><span class=p>;</span>  <span class=c1>// Hz
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>const</span> <span class=kt>int</span> <span class=n>bitResolution</span> <span class=o>=</span> <span class=mi>8</span><span class=p>;</span>     <span class=c1>// pwm value: 0~255
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=c1>// led setup
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>const</span> <span class=kt>int</span> <span class=n>PIN_LED</span> <span class=o>=</span> <span class=mi>2</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=n>ledstate</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=nf>setup</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=c1>// put your setup code here, to run once:
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=n>Serial</span><span class=p>.</span><span class=n>begin</span><span class=p>(</span><span class=mi>115200</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=n>radio</span><span class=p>.</span><span class=n>begin</span><span class=p>();</span>
</span></span><span class=line><span class=cl>  <span class=n>radio</span><span class=p>.</span><span class=n>openReadingPipe</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=n>address</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=n>radio</span><span class=p>.</span><span class=n>setPALevel</span><span class=p>(</span><span class=n>RF24_PA_LOW</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=n>radio</span><span class=p>.</span><span class=n>startListening</span><span class=p>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=c1>// Servo PWM Setup
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=n>ledcSetup</span><span class=p>(</span><span class=n>CH_SERVO</span><span class=p>,</span> <span class=n>servoFrequency</span><span class=p>,</span> <span class=n>servoResolution</span><span class=p>);</span>  <span class=c1>// PWM CH2, Frequncy 50 Hz, 12bit resolution
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=n>ledcAttachPin</span><span class=p>(</span><span class=n>PIN_SERVO</span><span class=p>,</span> <span class=n>CH_SERVO</span><span class=p>);</span>                    <span class=c1>// PWM CH2을 GPIO 15번으로 출력
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>  <span class=c1>// center value
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=n>centerData</span><span class=p>();</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=n>pinMode</span><span class=p>(</span><span class=n>PIN_LED</span><span class=p>,</span> <span class=n>OUTPUT</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=c1>// tb6612fng setting
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=n>pinMode</span><span class=p>(</span><span class=n>PIN_STBY</span><span class=p>,</span> <span class=n>OUTPUT</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=n>pinMode</span><span class=p>(</span><span class=n>PIN_AIN1</span><span class=p>,</span> <span class=n>OUTPUT</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=n>pinMode</span><span class=p>(</span><span class=n>PIN_AIN2</span><span class=p>,</span> <span class=n>OUTPUT</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=n>pinMode</span><span class=p>(</span><span class=n>PIN_PWMA</span><span class=p>,</span> <span class=n>OUTPUT</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=n>pinMode</span><span class=p>(</span><span class=n>PIN_BIN1</span><span class=p>,</span> <span class=n>OUTPUT</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=n>pinMode</span><span class=p>(</span><span class=n>PIN_BIN2</span><span class=p>,</span> <span class=n>OUTPUT</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=n>pinMode</span><span class=p>(</span><span class=n>PIN_PWMB</span><span class=p>,</span> <span class=n>OUTPUT</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=c1>// motor output(PWM) setting (channel, frequency, bit)
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=n>ledcSetup</span><span class=p>(</span><span class=n>CH_PWMA</span><span class=p>,</span> <span class=n>pwmFrequency</span><span class=p>,</span> <span class=n>bitResolution</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=n>ledcSetup</span><span class=p>(</span><span class=n>CH_PWMB</span><span class=p>,</span> <span class=n>pwmFrequency</span><span class=p>,</span> <span class=n>bitResolution</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=n>ledcAttachPin</span><span class=p>(</span><span class=n>PIN_PWMA</span><span class=p>,</span> <span class=n>CH_PWMA</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=n>ledcAttachPin</span><span class=p>(</span><span class=n>PIN_PWMB</span><span class=p>,</span> <span class=n>CH_PWMB</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=nf>loop</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=n>ledstate</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=kt>unsigned</span> <span class=kt>long</span> <span class=n>now</span> <span class=o>=</span> <span class=n>millis</span><span class=p>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>if</span><span class=p>(</span> <span class=n>now</span> <span class=o>-</span> <span class=n>lastRecvTime</span> <span class=o>&gt;</span> <span class=mi>5</span><span class=p>){</span>    <span class=c1>// 5ms 마다 서보출력
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>recvData</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=n>rotate_xy</span><span class=p>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>move</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=n>velo_y</span><span class=p>,</span> <span class=n>direction_y</span><span class=p>);</span>               <span class=c1>// motor A(right wheels), velo_y speed, moving direction
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>move</span><span class=p>(</span><span class=mi>2</span><span class=p>,</span> <span class=n>velo_y</span><span class=p>,</span> <span class=n>direction_y</span><span class=p>);</span>               <span class=c1>// motor B(left wheels), velo_y speed, moving direction
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>    <span class=k>if</span><span class=p>(</span><span class=n>ledstate</span> <span class=o>&gt;</span> <span class=mi>0</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=n>digitalWrite</span><span class=p>(</span><span class=n>PIN_LED</span><span class=p>,</span> <span class=n>HIGH</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=k>else</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=n>digitalWrite</span><span class=p>(</span><span class=n>PIN_LED</span><span class=p>,</span> <span class=n>LOW</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=nf>move</span><span class=p>(</span><span class=kt>int</span> <span class=n>motor</span><span class=p>,</span> <span class=kt>int</span> <span class=n>speed</span><span class=p>,</span> <span class=kt>int</span> <span class=n>direction</span><span class=p>)</span> <span class=p>{</span>   <span class=c1>//Move specific motor at speed and direction
</span></span></span><span class=line><span class=cl><span class=c1>//motor: A(Right) -&gt; 1, B(Left) -&gt; 2
</span></span></span><span class=line><span class=cl><span class=c1>//speed: 0 is off, and 255 is full speed
</span></span></span><span class=line><span class=cl><span class=c1>//direction: 0 clockwise, 1 counter-clockwise
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>  <span class=n>digitalWrite</span><span class=p>(</span><span class=n>PIN_STBY</span><span class=p>,</span> <span class=n>HIGH</span><span class=p>);</span>         <span class=c1>// move
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>  <span class=n>boolean</span> <span class=n>inPin1</span> <span class=o>=</span> <span class=n>HIGH</span><span class=p>;</span>                <span class=c1>// Defalut(direction=0) - Clockwise
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=n>boolean</span> <span class=n>inPin2</span> <span class=o>=</span> <span class=n>LOW</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>if</span><span class=p>(</span><span class=n>direction</span> <span class=o>==</span> <span class=mi>1</span><span class=p>)</span> <span class=p>{</span>                  <span class=c1>// Count-clockwise
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>inPin1</span> <span class=o>=</span> <span class=n>LOW</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>inPin2</span> <span class=o>=</span> <span class=n>HIGH</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>if</span><span class=p>(</span><span class=n>motor</span> <span class=o>==</span> <span class=mi>1</span><span class=p>){</span>                       <span class=c1>// if motor == 1, right wheel
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>digitalWrite</span><span class=p>(</span><span class=n>PIN_AIN1</span><span class=p>,</span> <span class=n>inPin1</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>digitalWrite</span><span class=p>(</span><span class=n>PIN_AIN2</span><span class=p>,</span> <span class=n>inPin2</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>ledcWrite</span><span class=p>(</span><span class=n>CH_PWMA</span><span class=p>,</span> <span class=n>speed</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=k>else</span> <span class=p>{</span>                                <span class=c1>// if motor is not 1, left wheel
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>digitalWrite</span><span class=p>(</span><span class=n>PIN_BIN1</span><span class=p>,</span> <span class=n>inPin1</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>digitalWrite</span><span class=p>(</span><span class=n>PIN_BIN2</span><span class=p>,</span> <span class=n>inPin2</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>ledcWrite</span><span class=p>(</span><span class=n>CH_PWMB</span><span class=p>,</span> <span class=n>speed</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=nf>stop</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=n>digitalWrite</span><span class=p>(</span><span class=n>PIN_STBY</span><span class=p>,</span> <span class=n>LOW</span><span class=p>);</span>         <span class=c1>// stand-by = stop
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=nf>rotate_xy</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=n>Serial</span><span class=p>.</span><span class=n>print</span><span class=p>(</span><span class=s>&#34;x: &#34;</span><span class=p>);</span> <span class=n>Serial</span><span class=p>.</span><span class=n>print</span><span class=p>(</span><span class=n>data</span><span class=p>.</span><span class=n>value_x</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=n>Serial</span><span class=p>.</span><span class=n>print</span><span class=p>(</span><span class=s>&#34;, y: &#34;</span><span class=p>);</span> <span class=n>Serial</span><span class=p>.</span><span class=n>println</span><span class=p>(</span><span class=n>data</span><span class=p>.</span><span class=n>value_y</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=c1>//x축 서보 구동 조건 설정
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=k>if</span><span class=p>(</span><span class=n>data</span><span class=p>.</span><span class=n>value_x</span> <span class=o>&lt;</span> <span class=n>ref_xl</span><span class=p>)</span> <span class=p>{</span>     
</span></span><span class=line><span class=cl>    <span class=k>if</span><span class=p>(</span><span class=n>angle_x</span> <span class=o>&gt;</span> <span class=mi>55</span><span class=p>)</span> <span class=p>{</span>                 <span class=c1>// servo 55~125 degree
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=n>angle_x</span><span class=o>--</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=k>else</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=n>angle_x</span> <span class=o>=</span> <span class=mi>55</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=n>ledstate</span><span class=o>++</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=k>else</span> <span class=k>if</span><span class=p>(</span><span class=n>data</span><span class=p>.</span><span class=n>value_x</span> <span class=o>&gt;</span> <span class=n>ref_xr</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span><span class=p>(</span><span class=n>angle_x</span> <span class=o>&lt;</span> <span class=mi>125</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=n>angle_x</span><span class=o>++</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=k>else</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=n>angle_x</span> <span class=o>=</span> <span class=mi>125</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=n>ledstate</span><span class=o>++</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=k>else</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span><span class=p>(</span><span class=n>angle_x</span> <span class=o>&lt;</span> <span class=mi>90</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=n>angle_x</span><span class=o>++</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=k>else</span> <span class=k>if</span><span class=p>(</span><span class=n>angle_x</span> <span class=o>&gt;</span> <span class=mi>90</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=n>angle_x</span><span class=o>--</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=k>else</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=n>angle_x</span> <span class=o>=</span> <span class=mi>90</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=c1>//servo_x.write(angle_x);
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=n>servoWrite</span><span class=p>(</span><span class=n>CH_SERVO</span><span class=p>,</span> <span class=n>angle_x</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=n>delay</span><span class=p>(</span><span class=mi>5</span><span class=p>);</span>                    <span class=c1>// delay를 더 줄이면 서보 모터 기어에 무리가 감
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>  <span class=c1>//y축 DC 구동 조건 설정
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=k>if</span><span class=p>(</span><span class=n>data</span><span class=p>.</span><span class=n>value_y</span> <span class=o>&gt;</span> <span class=n>ref_ya</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span><span class=p>(</span><span class=n>direction_y</span> <span class=o>==</span> <span class=mi>0</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=k>if</span><span class=p>(</span><span class=n>velo_y</span> <span class=o>&lt;</span> <span class=mi>255</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>velo_y</span><span class=o>++</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=k>else</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>velo_y</span> <span class=o>=</span> <span class=mi>255</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span><span class=p>(</span><span class=n>direction_y</span> <span class=o>==</span> <span class=mi>1</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=k>if</span><span class=p>(</span><span class=n>velo_y</span> <span class=o>&gt;</span> <span class=mi>0</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>velo_y</span><span class=o>--</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=k>else</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>direction_y</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=n>velo_y</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=n>ledstate</span><span class=o>++</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=k>else</span> <span class=k>if</span><span class=p>(</span><span class=n>data</span><span class=p>.</span><span class=n>value_y</span> <span class=o>&lt;</span> <span class=n>ref_yb</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span><span class=p>(</span><span class=n>direction_y</span> <span class=o>==</span> <span class=mi>1</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=k>if</span><span class=p>(</span><span class=n>velo_y</span> <span class=o>&lt;</span> <span class=mi>255</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>velo_y</span><span class=o>++</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=k>else</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>velo_y</span> <span class=o>=</span> <span class=mi>255</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span><span class=p>(</span><span class=n>direction_y</span> <span class=o>==</span> <span class=mi>0</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=k>if</span><span class=p>(</span><span class=n>velo_y</span> <span class=o>&gt;</span> <span class=mi>0</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>velo_y</span><span class=o>--</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=k>else</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>direction_y</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=n>velo_y</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=n>ledstate</span><span class=o>++</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=k>else</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span><span class=p>(</span><span class=n>velo_y</span> <span class=o>&gt;</span> <span class=mi>0</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=n>velo_y</span><span class=o>--</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=k>else</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=n>velo_y</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// deg는 0~180도 까지
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kt>void</span> <span class=nf>servoWrite</span><span class=p>(</span><span class=kt>int</span> <span class=n>ch</span><span class=p>,</span> <span class=kt>int</span> <span class=n>deg</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kt>int</span> <span class=n>servoPWM</span> <span class=o>=</span> <span class=n>map</span><span class=p>(</span><span class=n>deg</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>180</span><span class=p>,</span> <span class=mi>2720</span><span class=p>,</span> <span class=mi>8191</span><span class=p>);</span>  <span class=c1>// 16bit (PWM 4.15% ~ 12.5%)
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>ledcWrite</span><span class=p>(</span><span class=n>ch</span><span class=p>,</span> <span class=n>servoPWM</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div><br><h5 id=schematic>schematic<a class=anchor href=#schematic>#</a></h5><figure class=center style=width:100%><img src=/image/r/ESP32-RC-Car-94.png alt=/image/r/ESP32-RC-Car-94.png></figure><br><h5 id=16p--4p-jumper-block-사용>16P & 4P jumper block 사용<a class=anchor href=#16p--4p-jumper-block-%ec%82%ac%ec%9a%a9>#</a></h5><p>RC카를 제작해보면 프레임 조립 후 여러가지 구동을 위한 부품을 넣어야 하는데, 큰 브레드보드를 장착하기에는 공간이 좁아 조립이 어려울 수 있다. 그러므로 브레드보드를 제거하고 16P & 4P의 점퍼 블록을 사용해 RC카에 장착해본다.</p><br><p>16P 점퍼블록과 4P 점퍼블록, 그리고 2개의 와이어핀을 준비한다.</p><figure class=center style=width:50%><img src=/image/so1.png alt=/image/so1.png></figure><br><p>2개의 와이어핀을 4P 점퍼블록의 중앙에 꼽아넣음으로써, 4개의 핀소켓이 모두 연결되어 있는 상태가 되도록 만든다. (1개의 와이어만 넣어도 연결은 되지만, 헐거워 고정이 안되기 때문에 2개를 사용하는 것임)</p><figure class=center style=width:33%><img src=/image/so2.png alt=/image/so2.png></figure><br><p>16P 점퍼블록을 사용하여 ESP32 DevkitC V4 보드와 TB6612FNG 모터드라이브를 다음과 같이 연결한다.</p><table><thead><tr><th><figure class=center style=width:75%><img src=/image/so3.png alt=/image/so3.png></figure></th><th>32 - PWMA<br>33 - AIN2<br>25 - AIN1<br>26 - NC<br>27 - BIN1<br>14 - BIN2<br>12 - PWMB<br>GND - GND<br></th></tr></thead><tbody></tbody></table><br><p>ESP32의 5V핀에는 4P 점퍼블록을 꼽아, 5V핀을 3개 사용할 수 있도록 만들어준다. 제작 후 위에서 바라본 모습은 다음과 같다.</p><figure class=center style=width:50%><img src=/image/so4.png alt=/image/so4.png></figure><br><br><h4 id=for-remote-controller-esp32--nrf24l01--dual-joystick>for Remote Controller (ESP32 + nRF24L01 + Dual Joystick)<a class=anchor href=#for-remote-controller-esp32--nrf24l01--dual-joystick>#</a></h4><h5 id=sketch-1>sketch<a class=anchor href=#sketch-1>#</a></h5><ul><li>리모트 컨트롤러로 사용할 TTGO T-energy(ESP32)에 업로드한다.</li><li>TTGO T-energy를 컴퓨터와 연결하여 사용할 경우에는 반드시 18650 배터리를 제거하거나 스위치를 OFF상태로 두어야 한다.</li><li>그러므로 <strong>스케치 업로드 시에는 안전한 사용을 위해 18650 배터리를 제거</strong>한 뒤 아래의 스케치를 업로드하도록 한다.</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;SPI.h&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;RF24.h&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=n>RF24</span> <span class=nf>radio</span><span class=p>(</span><span class=mi>4</span><span class=p>,</span> <span class=mi>5</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>long</span> <span class=kt>long</span> <span class=n>address</span> <span class=o>=</span> <span class=mh>0x1234ABCDEFLL</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// for no interference, two joysticks must be used with each other ADC!  
</span></span></span><span class=line><span class=cl><span class=c1>// one joystick use ADC1: GPIO 36,39,32,33,34,35
</span></span></span><span class=line><span class=cl><span class=c1>// the other must use ADC2: GPIO 4,0,2,15,13,12,14,27,25,26
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>const</span> <span class=kt>int</span> <span class=n>Jstick_x_pin</span> <span class=o>=</span> <span class=mi>25</span><span class=p>;</span>           <span class=c1>// Left_Right GPIO25
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>const</span> <span class=kt>int</span> <span class=n>Jstick_y_pin</span> <span class=o>=</span> <span class=mi>32</span><span class=p>;</span>           <span class=c1>// Forward_Back GPIO32
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=k>struct</span> <span class=nc>Value</span><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kt>uint16_t</span> <span class=n>value_x</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=kt>uint16_t</span> <span class=n>value_y</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>Value</span> <span class=n>data</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=nf>setup</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=n>Serial</span><span class=p>.</span><span class=n>begin</span><span class=p>(</span><span class=mi>115200</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=n>radio</span><span class=p>.</span><span class=n>begin</span><span class=p>();</span>
</span></span><span class=line><span class=cl>  <span class=n>radio</span><span class=p>.</span><span class=n>openWritingPipe</span><span class=p>(</span><span class=n>address</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=n>radio</span><span class=p>.</span><span class=n>setPALevel</span><span class=p>(</span><span class=n>RF24_PA_MIN</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=n>radio</span><span class=p>.</span><span class=n>stopListening</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=nf>loop</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=n>data</span><span class=p>.</span><span class=n>value_x</span> <span class=o>=</span> <span class=n>Jstick</span><span class=p>(</span><span class=n>Jstick_x_pin</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=n>delay</span><span class=p>(</span><span class=mi>10</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=n>data</span><span class=p>.</span><span class=n>value_y</span> <span class=o>=</span> <span class=n>Jstick</span><span class=p>(</span><span class=n>Jstick_y_pin</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=n>delay</span><span class=p>(</span><span class=mi>10</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=n>radio</span><span class=p>.</span><span class=n>write</span><span class=p>(</span><span class=o>&amp;</span><span class=n>data</span><span class=p>,</span> <span class=k>sizeof</span><span class=p>(</span><span class=n>Value</span><span class=p>));</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=c1>//Serial.print(&#34;x: &#34;); Serial.print(data.value_x);
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=c1>//Serial.print(&#34;, y: &#34;); Serial.println(data.value_y);
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>uint16_t</span> <span class=nf>Jstick</span><span class=p>(</span><span class=kt>int</span> <span class=n>Jstick_Pin</span><span class=p>){</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=n>analogRead</span><span class=p>(</span><span class=n>Jstick_Pin</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div><br><h5 id=schematic-1>schematic<a class=anchor href=#schematic-1>#</a></h5><figure class=center style=width:100%><img src=/image/r/ESP32-RC-Car-95.png alt=/image/r/ESP32-RC-Car-95.png></figure><br><ul><li>TTGO T-energy 에는 5V 단자가 1개 있음.</li><li>2개의 조이스틱에 5V가 각각 입력되어야 하므로, TTGO T-energy의 5V 단자를 2개로 분기할 수 있는 Y자형 케이블을 제작하여 사용하도록 한다.</li></ul><figure class=center style=width:75%><img src=/image/r/ESP32-RC-Car-96.png alt=/image/r/ESP32-RC-Car-96.png></figure><p>​ 위 형태는 (오른쪽) 1개의 (F)단자를 (왼쪽) 3개의 (F)단자로 분기하는 형태의 케이블이다.</p><p>​ 이를 참고하여 1개의 단자를 2개의 단자로 나눠주는 케이블을 제작하면 된다.</p></div></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div></div><div><a href=/posts/stem-%EC%95%8C%EC%BD%94%EC%98%AC-%EB%9E%A8%ED%94%84-%EB%B0%9B%EC%B9%A8%EB%8C%80/ class="flex align-center"><span>알코올 램프 안전 손잡이 받침대 3D프린팅</span>
<img src=/icons/forward.svg class=book-icon alt=Next title="알코올 램프 안전 손잡이 받침대 3D프린팅"></a></div></div><div class=book-comments></div></footer><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><ul><li><a href=#샤시-조립>샤시 조립</a></li><li><a href=#esp32-parts>ESP32 Parts</a></li></ul></li></ul></nav></div></aside></main></body></html>