<!doctype html><html lang=ko-kr dir=ltr><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content='ESP32ì—ì„œ Blynkë¡œ ì„¼ì„œê°’ ë³´ë‚´ê¸°#
Blynk Appì˜ GAUGE ìœ„ì ¯ì„ ì‚¬ìš©í•˜ì—¬ ESP32ì— ì—°ê²°ëœ Potentiometerì˜ ì €í•­ê°’ì„ ì½ì–´ Blynk Appì— ì „ì••(V), ì €í•­(ã€) ê°’ì„ í‘œì‹œí•´ë³¸ë‹¤. (ESP32 â†’ Blynk App)

ESP32ì˜ Potentiometer ê°’ì„ ì½ê¸° ìœ„í•´ BLYNK_READ(Vpin)ì„ ì‚¬ìš©í•œë‹¤.
ìƒˆë¡œìš´ í”„ë¡œì íŠ¸ë¥¼ ë§Œë“œëŠ” ê²½ìš°, ìƒˆë¡œìš´ auth tokenì„ ë°›ì•„ì„œ ì‚¬ìš©í•´ì•¼ í•œë‹¤.


schematic#









  

  
  


sketch#
#define BLYNK_PRINT Serial
#define BLYNK_USE_DIRECT_CONNECT

#include <BlynkSimpleEsp32_BLE.h>
#include <BLEDevice.h>
#include <BLEServer.h>

// You should get Auth Token in the Blynk App.
// Go to the Project Settings (nut icon).
char auth[] = "WUAeS6P57T3XNaIGyLK1-OUv........";

// Potentiometer Pin
#define PIN_POTENTIOMETER A0                       // Potentiometer GPIO 36

// Resist, Voltage
int value_Potentiometer; 
int value_R;
float value_V;

void setup()
{
  // Debug console
  Serial.begin(115200);
  Serial.println("Waiting for connections...");

  // for Blynk 
  Blynk.setDeviceName("Blynk-t");
  Blynk.begin(auth);
}

void loop()
{
  value_Potentiometer = analogRead(PIN_POTENTIOMETER);  // 12bit ADC (0~4095)
  value_V = map(value_Potentiometer, 0, 4095, 3300, 0); // 0~3300mV
  value_R = map(value_V, 0, 3300, 10000, 0);            // 0~10kâ„¦
  
  Blynk.run();
  
  Serial.print("Resist : "); Serial.print(value_R); Serial.println("â„¦");
  Serial.print("Voltage: "); Serial.print(value_V); Serial.println("mV");
  
  delay(1000);
}

BLYNK_READ(V1)           // ESP32 -> widget virtual pin1
{
  Blynk.virtualWrite(V1, value_R);
}

BLYNK_READ(V2)           // ESP32 -> widget virtual pin1
{
  Blynk.virtualWrite(V2, value_V);
}
Blynkì—ì„œ 2ê°œì˜ Gaugeë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ BLYNK)READ(Vpin)ì„ 2ë²ˆ ì‚¬ìš©í•œë‹¤.
Blynk.virtualWrite(Vpin, value)ë¥¼ í†µí•´ Blynk Appì˜ Gauge ìœ„ì ¯ì—ì„œ ì§€ì •í•œ virtual pinì— valueê°’ì„ í‘œì‹œí•œë‹¤.



Blynk ì„¤ì •#

ìƒˆë¡œìš´ í”„ë¡œì íŠ¸ë¥¼ ìƒì„±í•œë‹¤.

NAME : ESP32_Potentiometer
CHOOSE DEVICE : ESP32 Dev Board
CONNECTION TYPE : BLE












  

  
  



ì´ë©”ì¼ë¡œ ë°œì†¡ëœ í† í°ì„ ë³µì‚¬í•œë‹¤.










  

  
  



+ë²„íŠ¼ì„ ëˆŒëŸ¬ ìœ„ì ¯ì„ ì¶”ê°€í•  ìˆ˜ ìˆëŠ” í™”ë©´ìœ¼ë¡œ ì§„ì…í•œë‹¤.










  

  
  



ë¨¼ì € BLE ìœ„ì ¯ì„ ì„ íƒí•˜ì—¬ ESP32ì™€ Blynkê°„ì˜ í†µì‹  ë°©ë²•ì„ ì§€ì •í•œë‹¤.










  

  
  



ë¸”ë£¨íˆ¬ìŠ¤ ëª¨ì–‘ì˜ ìœ„ì ¯ ë²„íŠ¼ì„ ëˆŒëŸ¬ Blynkì™€ì˜ í†µì‹ ì„ ì¤€ë¹„í•œë‹¤.










  

  
  



Connect BLE device










  

  
  



ì—°ê²°í•˜ê³ ì í•˜ëŠ” BLE ì¥ë¹„ë¥¼ ì„ íƒí•˜ë©´,










  

  
  



ì—°ê²° í™•ì¸!










  

  
  



+ë²„íŠ¼ì„ ëˆŒëŸ¬ ì¶œë ¥ ìœ„ì ¯ 2ê°œë¥¼ ì¶”ê°€í•œë‹¤. (Gauge, Labeled value)










  

  
  



ë¨¼ì € Gauge ìœ„ì ¯ì„ ì„ íƒí•œë‹¤.










  

  
  



Gauge ìœ„ì ¯ì´ ì¶”ê°€ë˜ë©´ ìœ¡ê°í˜• ëª¨ì–‘ì˜ ì•„ì´ì½˜ì„ ëˆŒëŸ¬ GAUGE Setting í™”ë©´ìœ¼ë¡œ ì§„ì…í•œë‹¤.










  

  
  











  

  
  



ì„¤ì •í™”ë©´ì—ì„œ ë‹¤ìŒ 4ê°€ì§€ë¥¼ ì„¤ì •í•œë‹¤.

NAME : ì €í•­
INPUT : V1, 0~1000
LABEL : (ë‹¨ìœ„ë¥¼ í‘œì‹œí•˜ê¸° ìœ„í•´) x10 Ohm ì„ ì ëŠ”ë‹¤.
READING RATE : 1sec (PUSH ìœ„ì ¯ì€ ì‹¤í–‰ë˜ì§€ ì•ŠìŒ)












  

  
  



Labeled Value ìœ„ì ¯ì„ ì¶”ê°€í•˜ê³ , ë‹¤ìŒê³¼ ê°™ì´ ì„¤ì •í•œë‹¤.

NAME : ì €í•­
INPUT : V2, 0~3300
LABEL : (ë‹¨ìœ„ë¥¼ í‘œì‹œí•˜ê¸° ìœ„í•´) mV ë¥¼ ì ëŠ”ë‹¤.
READING RATE : 1sec (PUSH ìœ„ì ¯ì€ ì‹¤í–‰ë˜ì§€ ì•ŠìŒ)












  

  
  



ìƒë‹¨ì˜ ë’¤ë¡œê°€ê¸° í™”ì‚´í‘œë¥¼ ëˆŒëŸ¬ í”„ë¡œì íŠ¸ ë°”íƒ•í™”ë©´ìœ¼ë¡œ ëŒì•„ê°„ë‹¤.










  

  
  



ì—¬ê¸°ì„œ í”Œë ˆì´ë²„íŠ¼ì„ ëˆ„ë¥´ë©´,










  

  
  


ì €í•­ê³¼ ì „ì••ì˜ ì¸¡ì •ì´ ì‹œì‘ëœë‹¤. (ì‹œë¦¬ì–¼ ëª¨ë‹ˆí„°ì—ì„œë„ ê´€ì°° ê°€ëŠ¥)'><meta name=theme-color media="(prefers-color-scheme: light)" content="#ffffff"><meta name=theme-color media="(prefers-color-scheme: dark)" content="#343a40"><meta name=color-scheme content="light dark"><meta property="og:url" content="https://stemwith.github.io/posts/esp32-ble-blynk-gauge/"><meta property="og:site_name" content="stemwith"><meta property="og:title" content="esp32 BLE, Blynk Gauge"><meta property="og:description" content='ESP32ì—ì„œ Blynkë¡œ ì„¼ì„œê°’ ë³´ë‚´ê¸°# Blynk Appì˜ GAUGE ìœ„ì ¯ì„ ì‚¬ìš©í•˜ì—¬ ESP32ì— ì—°ê²°ëœ Potentiometerì˜ ì €í•­ê°’ì„ ì½ì–´ Blynk Appì— ì „ì••(V), ì €í•­(ã€) ê°’ì„ í‘œì‹œí•´ë³¸ë‹¤. (ESP32 â†’ Blynk App)
ESP32ì˜ Potentiometer ê°’ì„ ì½ê¸° ìœ„í•´ BLYNK_READ(Vpin)ì„ ì‚¬ìš©í•œë‹¤. ìƒˆë¡œìš´ í”„ë¡œì íŠ¸ë¥¼ ë§Œë“œëŠ” ê²½ìš°, ìƒˆë¡œìš´ auth tokenì„ ë°›ì•„ì„œ ì‚¬ìš©í•´ì•¼ í•œë‹¤. schematic# sketch# #define BLYNK_PRINT Serial #define BLYNK_USE_DIRECT_CONNECT #include <BlynkSimpleEsp32_BLE.h> #include <BLEDevice.h> #include <BLEServer.h> // You should get Auth Token in the Blynk App. // Go to the Project Settings (nut icon). char auth[] = "WUAeS6P57T3XNaIGyLK1-OUv........"; // Potentiometer Pin #define PIN_POTENTIOMETER A0 // Potentiometer GPIO 36 // Resist, Voltage int value_Potentiometer; int value_R; float value_V; void setup() { // Debug console Serial.begin(115200); Serial.println("Waiting for connections..."); // for Blynk Blynk.setDeviceName("Blynk-t"); Blynk.begin(auth); } void loop() { value_Potentiometer = analogRead(PIN_POTENTIOMETER); // 12bit ADC (0~4095) value_V = map(value_Potentiometer, 0, 4095, 3300, 0); // 0~3300mV value_R = map(value_V, 0, 3300, 10000, 0); // 0~10kâ„¦ Blynk.run(); Serial.print("Resist : "); Serial.print(value_R); Serial.println("â„¦"); Serial.print("Voltage: "); Serial.print(value_V); Serial.println("mV"); delay(1000); } BLYNK_READ(V1) // ESP32 -> widget virtual pin1 { Blynk.virtualWrite(V1, value_R); } BLYNK_READ(V2) // ESP32 -> widget virtual pin1 { Blynk.virtualWrite(V2, value_V); } Blynkì—ì„œ 2ê°œì˜ Gaugeë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ BLYNK)READ(Vpin)ì„ 2ë²ˆ ì‚¬ìš©í•œë‹¤. Blynk.virtualWrite(Vpin, value)ë¥¼ í†µí•´ Blynk Appì˜ Gauge ìœ„ì ¯ì—ì„œ ì§€ì •í•œ virtual pinì— valueê°’ì„ í‘œì‹œí•œë‹¤. Blynk ì„¤ì •# ìƒˆë¡œìš´ í”„ë¡œì íŠ¸ë¥¼ ìƒì„±í•œë‹¤. NAME : ESP32_Potentiometer CHOOSE DEVICE : ESP32 Dev Board CONNECTION TYPE : BLE ì´ë©”ì¼ë¡œ ë°œì†¡ëœ í† í°ì„ ë³µì‚¬í•œë‹¤. +ë²„íŠ¼ì„ ëˆŒëŸ¬ ìœ„ì ¯ì„ ì¶”ê°€í•  ìˆ˜ ìˆëŠ” í™”ë©´ìœ¼ë¡œ ì§„ì…í•œë‹¤. ë¨¼ì € BLE ìœ„ì ¯ì„ ì„ íƒí•˜ì—¬ ESP32ì™€ Blynkê°„ì˜ í†µì‹  ë°©ë²•ì„ ì§€ì •í•œë‹¤. ë¸”ë£¨íˆ¬ìŠ¤ ëª¨ì–‘ì˜ ìœ„ì ¯ ë²„íŠ¼ì„ ëˆŒëŸ¬ Blynkì™€ì˜ í†µì‹ ì„ ì¤€ë¹„í•œë‹¤. Connect BLE device ì—°ê²°í•˜ê³ ì í•˜ëŠ” BLE ì¥ë¹„ë¥¼ ì„ íƒí•˜ë©´, ì—°ê²° í™•ì¸! +ë²„íŠ¼ì„ ëˆŒëŸ¬ ì¶œë ¥ ìœ„ì ¯ 2ê°œë¥¼ ì¶”ê°€í•œë‹¤. (Gauge, Labeled value) ë¨¼ì € Gauge ìœ„ì ¯ì„ ì„ íƒí•œë‹¤. Gauge ìœ„ì ¯ì´ ì¶”ê°€ë˜ë©´ ìœ¡ê°í˜• ëª¨ì–‘ì˜ ì•„ì´ì½˜ì„ ëˆŒëŸ¬ GAUGE Setting í™”ë©´ìœ¼ë¡œ ì§„ì…í•œë‹¤. ì„¤ì •í™”ë©´ì—ì„œ ë‹¤ìŒ 4ê°€ì§€ë¥¼ ì„¤ì •í•œë‹¤. NAME : ì €í•­ INPUT : V1, 0~1000 LABEL : (ë‹¨ìœ„ë¥¼ í‘œì‹œí•˜ê¸° ìœ„í•´) x10 Ohm ì„ ì ëŠ”ë‹¤. READING RATE : 1sec (PUSH ìœ„ì ¯ì€ ì‹¤í–‰ë˜ì§€ ì•ŠìŒ) Labeled Value ìœ„ì ¯ì„ ì¶”ê°€í•˜ê³ , ë‹¤ìŒê³¼ ê°™ì´ ì„¤ì •í•œë‹¤. NAME : ì €í•­ INPUT : V2, 0~3300 LABEL : (ë‹¨ìœ„ë¥¼ í‘œì‹œí•˜ê¸° ìœ„í•´) mV ë¥¼ ì ëŠ”ë‹¤. READING RATE : 1sec (PUSH ìœ„ì ¯ì€ ì‹¤í–‰ë˜ì§€ ì•ŠìŒ) ìƒë‹¨ì˜ ë’¤ë¡œê°€ê¸° í™”ì‚´í‘œë¥¼ ëˆŒëŸ¬ í”„ë¡œì íŠ¸ ë°”íƒ•í™”ë©´ìœ¼ë¡œ ëŒì•„ê°„ë‹¤. ì—¬ê¸°ì„œ í”Œë ˆì´ë²„íŠ¼ì„ ëˆ„ë¥´ë©´, ì €í•­ê³¼ ì „ì••ì˜ ì¸¡ì •ì´ ì‹œì‘ëœë‹¤. (ì‹œë¦¬ì–¼ ëª¨ë‹ˆí„°ì—ì„œë„ ê´€ì°° ê°€ëŠ¥)'><meta property="og:locale" content="ko_kr"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2019-10-23T21:33:48+09:00"><meta property="article:modified_time" content="2019-10-23T21:33:48+09:00"><meta property="article:tag" content="Iot"><title>esp32 BLE, Blynk Gauge | stemwith</title><link rel=icon href=/favicon.ico><link rel=manifest href=/manifest.json><link rel=canonical href=https://stemwith.github.io/posts/esp32-ble-blynk-gauge/><link rel=stylesheet href=/book.min.edacc84919565354dfc39b7e3684e11739048c7cd9356a3036fc1c663b63611d.css integrity="sha256-7azISRlWU1Tfw5t+NoThFzkEjHzZNWowNvwcZjtjYR0=" crossorigin=anonymous><script defer src=/fuse.min.js></script><script defer src=/en.search.min.48a89e4be341d639de74b0f5b5a0b5ad125313b71f6faa18dd992cd4721b044e.js integrity="sha256-SKieS+NB1jnedLD1taC1rRJTE7cfb6oY3Zks1HIbBE4=" crossorigin=anonymous></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-128DRYVCRT"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-128DRYVCRT")}</script></head><body dir=ltr class="book-kind-page book-type-posts"><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav class=book-menu><h2 class=book-brand><a class="flex align-center" href=/><img src=/og_image.png alt=Logo></a></h2><div class="book-search hidden"><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><script>document.querySelector(".book-search").classList.remove("hidden")</script><div class=analytics-container><h4>ì ‘ì† í†µê³„</h4><div class=stat-group><span class=stat-label>ì˜¤ëŠ˜</span><p class=stat-value id=ga-today-visitors>ğŸ‘¤ ...</p></div><div class=stat-group><span class=stat-label>ì¼ì¼ ë°©ë¬¸ì (2ì£¼)</span><div id=ga-daily-chart></div></div><div class=stat-group><span class=stat-label>ê³„</span><ul class=stat-list><li id=ga-total-visitors>- ë°©ë¬¸ì: ...</li><li id=ga-total-pageviews>- í˜ì´ì§€ë·°: ...</li></ul></div></div></nav><script type=text/javascript>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class="book-header hidden"><div class="flex align-center justify-between"><label for=menu-control><img src=/icons/menu.svg class=book-icon alt=Menu></label><h3>esp32 BLE, Blynk Gauge</h3><label for=toc-control><img src=/icons/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class=hidden><nav id=TableOfContents><ul><li><ul><li><a href=#esp32ì—ì„œ-blynkë¡œ-ì„¼ì„œê°’-ë³´ë‚´ê¸°>ESP32ì—ì„œ Blynkë¡œ ì„¼ì„œê°’ ë³´ë‚´ê¸°</a></li><li><a href=#blynk-ì„¤ì •>Blynk ì„¤ì •</a></li></ul></li></ul></nav></aside></header><article class="markdown book-post"><h1>esp32 BLE, Blynk Gauge</h1><div class="flex align-center text-small book-post-date"><img src=/icons/calendar.svg class=book-icon alt>
<span>October 23, 2019</span></div><div class=text-small><a href=/categories/esp32/>Esp32</a></div><div class=text-small><a href=/tags/iot/>Iot</a></div><div class="book-post-content markdown-inner"><h3 id=esp32ì—ì„œ-blynkë¡œ-ì„¼ì„œê°’-ë³´ë‚´ê¸°>ESP32ì—ì„œ Blynkë¡œ ì„¼ì„œê°’ ë³´ë‚´ê¸°<a class=anchor href=#esp32%ec%97%90%ec%84%9c-blynk%eb%a1%9c-%ec%84%bc%ec%84%9c%ea%b0%92-%eb%b3%b4%eb%82%b4%ea%b8%b0>#</a></h3><p>Blynk Appì˜ GAUGE ìœ„ì ¯ì„ ì‚¬ìš©í•˜ì—¬ ESP32ì— ì—°ê²°ëœ Potentiometerì˜ ì €í•­ê°’ì„ ì½ì–´ Blynk Appì— ì „ì••(V), ì €í•­(ã€) ê°’ì„ í‘œì‹œí•´ë³¸ë‹¤. (ESP32 â†’ Blynk App)</p><ul><li>ESP32ì˜ Potentiometer ê°’ì„ ì½ê¸° ìœ„í•´ BLYNK_READ(Vpin)ì„ ì‚¬ìš©í•œë‹¤.</li><li>ìƒˆë¡œìš´ í”„ë¡œì íŠ¸ë¥¼ ë§Œë“œëŠ” ê²½ìš°, ìƒˆë¡œìš´ auth tokenì„ ë°›ì•„ì„œ ì‚¬ìš©í•´ì•¼ í•œë‹¤.</li></ul><br><h4 id=schematic>schematic<a class=anchor href=#schematic>#</a></h4><figure class=center style=width:75%><img src=/image/blynk-adc-01.png alt=/image/blynk-adc-01.png></figure><br><h4 id=sketch>sketch<a class=anchor href=#sketch>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-C data-lang=C><span class=line><span class=cl><span class=cp>#define BLYNK_PRINT Serial
</span></span></span><span class=line><span class=cl><span class=cp>#define BLYNK_USE_DIRECT_CONNECT
</span></span></span><span class=line><span class=cl><span class=cp></span>
</span></span><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;BlynkSimpleEsp32_BLE.h&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;BLEDevice.h&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;BLEServer.h&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span>
</span></span><span class=line><span class=cl><span class=c1>// You should get Auth Token in the Blynk App.
</span></span></span><span class=line><span class=cl><span class=c1>// Go to the Project Settings (nut icon).
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kt>char</span> <span class=n>auth</span><span class=p>[]</span> <span class=o>=</span> <span class=s>&#34;WUAeS6P57T3XNaIGyLK1-OUv........&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Potentiometer Pin
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=cp>#define PIN_POTENTIOMETER A0                       </span><span class=c1>// Potentiometer GPIO 36
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=c1>// Resist, Voltage
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kt>int</span> <span class=n>value_Potentiometer</span><span class=p>;</span> 
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=n>value_R</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kt>float</span> <span class=n>value_V</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=nf>setup</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=c1>// Debug console
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=n>Serial</span><span class=p>.</span><span class=nf>begin</span><span class=p>(</span><span class=mi>115200</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=n>Serial</span><span class=p>.</span><span class=nf>println</span><span class=p>(</span><span class=s>&#34;Waiting for connections...&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=c1>// for Blynk 
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=n>Blynk</span><span class=p>.</span><span class=nf>setDeviceName</span><span class=p>(</span><span class=s>&#34;Blynk-t&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=n>Blynk</span><span class=p>.</span><span class=nf>begin</span><span class=p>(</span><span class=n>auth</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=nf>loop</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=n>value_Potentiometer</span> <span class=o>=</span> <span class=nf>analogRead</span><span class=p>(</span><span class=n>PIN_POTENTIOMETER</span><span class=p>);</span>  <span class=c1>// 12bit ADC (0~4095)
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=n>value_V</span> <span class=o>=</span> <span class=nf>map</span><span class=p>(</span><span class=n>value_Potentiometer</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>4095</span><span class=p>,</span> <span class=mi>3300</span><span class=p>,</span> <span class=mi>0</span><span class=p>);</span> <span class=c1>// 0~3300mV
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=n>value_R</span> <span class=o>=</span> <span class=nf>map</span><span class=p>(</span><span class=n>value_V</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>3300</span><span class=p>,</span> <span class=mi>10000</span><span class=p>,</span> <span class=mi>0</span><span class=p>);</span>            <span class=c1>// 0~10kâ„¦
</span></span></span><span class=line><span class=cl><span class=c1></span>  
</span></span><span class=line><span class=cl>  <span class=n>Blynk</span><span class=p>.</span><span class=nf>run</span><span class=p>();</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=n>Serial</span><span class=p>.</span><span class=nf>print</span><span class=p>(</span><span class=s>&#34;Resist : &#34;</span><span class=p>);</span> <span class=n>Serial</span><span class=p>.</span><span class=nf>print</span><span class=p>(</span><span class=n>value_R</span><span class=p>);</span> <span class=n>Serial</span><span class=p>.</span><span class=nf>println</span><span class=p>(</span><span class=s>&#34;â„¦&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=n>Serial</span><span class=p>.</span><span class=nf>print</span><span class=p>(</span><span class=s>&#34;Voltage: &#34;</span><span class=p>);</span> <span class=n>Serial</span><span class=p>.</span><span class=nf>print</span><span class=p>(</span><span class=n>value_V</span><span class=p>);</span> <span class=n>Serial</span><span class=p>.</span><span class=nf>println</span><span class=p>(</span><span class=s>&#34;mV&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=nf>delay</span><span class=p>(</span><span class=mi>1000</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nf>BLYNK_READ</span><span class=p>(</span><span class=n>V1</span><span class=p>)</span>           <span class=c1>// ESP32 -&gt; widget virtual pin1
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=n>Blynk</span><span class=p>.</span><span class=nf>virtualWrite</span><span class=p>(</span><span class=n>V1</span><span class=p>,</span> <span class=n>value_R</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nf>BLYNK_READ</span><span class=p>(</span><span class=n>V2</span><span class=p>)</span>           <span class=c1>// ESP32 -&gt; widget virtual pin1
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=n>Blynk</span><span class=p>.</span><span class=nf>virtualWrite</span><span class=p>(</span><span class=n>V2</span><span class=p>,</span> <span class=n>value_V</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div><ul><li>Blynkì—ì„œ 2ê°œì˜ Gaugeë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ BLYNK)READ(Vpin)ì„ 2ë²ˆ ì‚¬ìš©í•œë‹¤.</li><li>Blynk.virtualWrite(Vpin, value)ë¥¼ í†µí•´ Blynk Appì˜ Gauge ìœ„ì ¯ì—ì„œ ì§€ì •í•œ virtual pinì— valueê°’ì„ í‘œì‹œí•œë‹¤.</li></ul><br><br><h3 id=blynk-ì„¤ì •>Blynk ì„¤ì •<a class=anchor href=#blynk-%ec%84%a4%ec%a0%95>#</a></h3><ol><li>ìƒˆë¡œìš´ í”„ë¡œì íŠ¸ë¥¼ ìƒì„±í•œë‹¤.<ul><li>NAME : ESP32_Potentiometer</li><li>CHOOSE DEVICE : ESP32 Dev Board</li><li>CONNECTION TYPE : BLE</li></ul></li></ol><figure class=center style=width:33%><img src=/image/blynk-adc-02.png alt=/image/blynk-adc-02.png></figure><br><ol start=2><li>ì´ë©”ì¼ë¡œ ë°œì†¡ëœ í† í°ì„ ë³µì‚¬í•œë‹¤.</li></ol><figure class=center style=width:33%><img src=/image/blynk-adc-03.png alt=/image/blynk-adc-03.png></figure><br><ol start=3><li>+ë²„íŠ¼ì„ ëˆŒëŸ¬ ìœ„ì ¯ì„ ì¶”ê°€í•  ìˆ˜ ìˆëŠ” í™”ë©´ìœ¼ë¡œ ì§„ì…í•œë‹¤.</li></ol><figure class=center style=width:33%><img src=/image/blynk-adc-04.png alt=/image/blynk-adc-04.png></figure><br><ol start=4><li>ë¨¼ì € BLE ìœ„ì ¯ì„ ì„ íƒí•˜ì—¬ ESP32ì™€ Blynkê°„ì˜ í†µì‹  ë°©ë²•ì„ ì§€ì •í•œë‹¤.</li></ol><figure class=center style=width:33%><img src=/image/blynk-adc-05.png alt=/image/blynk-adc-05.png></figure><br><ol start=5><li>ë¸”ë£¨íˆ¬ìŠ¤ ëª¨ì–‘ì˜ ìœ„ì ¯ ë²„íŠ¼ì„ ëˆŒëŸ¬ Blynkì™€ì˜ í†µì‹ ì„ ì¤€ë¹„í•œë‹¤.</li></ol><figure class=center style=width:33%><img src=/image/blynk-adc-06.png alt=/image/blynk-adc-06.png></figure><br><ol start=6><li>Connect BLE device</li></ol><figure class=center style=width:33%><img src=/image/blynk-adc-07.png alt=/image/blynk-adc-07.png></figure><br><ol start=7><li>ì—°ê²°í•˜ê³ ì í•˜ëŠ” BLE ì¥ë¹„ë¥¼ ì„ íƒí•˜ë©´,</li></ol><figure class=center style=width:33%><img src=/image/blynk-adc-08.png alt=/image/blynk-adc-08.png></figure><br><ol start=8><li>ì—°ê²° í™•ì¸!</li></ol><figure class=center style=width:33%><img src=/image/blynk-adc-09.png alt=/image/blynk-adc-09.png></figure><br><ol start=9><li>+ë²„íŠ¼ì„ ëˆŒëŸ¬ ì¶œë ¥ ìœ„ì ¯ 2ê°œë¥¼ ì¶”ê°€í•œë‹¤. (Gauge, Labeled value)</li></ol><figure class=center style=width:33%><img src=/image/blynk-adc-10.png alt=/image/blynk-adc-10.png></figure><br><ol start=10><li>ë¨¼ì € Gauge ìœ„ì ¯ì„ ì„ íƒí•œë‹¤.</li></ol><figure class=center style=width:33%><img src=/image/blynk-adc-11.png alt=/image/blynk-adc-11.png></figure><br><ol start=11><li>Gauge ìœ„ì ¯ì´ ì¶”ê°€ë˜ë©´ ìœ¡ê°í˜• ëª¨ì–‘ì˜ ì•„ì´ì½˜ì„ ëˆŒëŸ¬ GAUGE Setting í™”ë©´ìœ¼ë¡œ ì§„ì…í•œë‹¤.</li></ol><figure class=center style=width:33%><img src=/image/blynk-adc-12.png alt=/image/blynk-adc-12.png></figure><br><figure class=center style=width:33%><img src=/image/blynk-adc-13.png alt=/image/blynk-adc-13.png></figure><br><ol start=12><li>ì„¤ì •í™”ë©´ì—ì„œ ë‹¤ìŒ 4ê°€ì§€ë¥¼ ì„¤ì •í•œë‹¤.<ul><li>NAME : ì €í•­</li><li>INPUT : V1, 0~1000</li><li>LABEL : (ë‹¨ìœ„ë¥¼ í‘œì‹œí•˜ê¸° ìœ„í•´) x10 Ohm ì„ ì ëŠ”ë‹¤.</li><li>READING RATE : 1sec (PUSH ìœ„ì ¯ì€ ì‹¤í–‰ë˜ì§€ ì•ŠìŒ)</li></ul></li></ol><figure class=center style=width:33%><img src=/image/blynk-adc-14.png alt=/image/blynk-adc-14.png></figure><br><ol start=13><li>Labeled Value ìœ„ì ¯ì„ ì¶”ê°€í•˜ê³ , ë‹¤ìŒê³¼ ê°™ì´ ì„¤ì •í•œë‹¤.<ul><li>NAME : ì €í•­</li><li>INPUT : V2, 0~3300</li><li>LABEL : (ë‹¨ìœ„ë¥¼ í‘œì‹œí•˜ê¸° ìœ„í•´) mV ë¥¼ ì ëŠ”ë‹¤.</li><li>READING RATE : 1sec (PUSH ìœ„ì ¯ì€ ì‹¤í–‰ë˜ì§€ ì•ŠìŒ)</li></ul></li></ol><figure class=center style=width:33%><img src=/image/blynk-adc-15.png alt=/image/blynk-adc-15.png></figure><br><ol start=14><li>ìƒë‹¨ì˜ ë’¤ë¡œê°€ê¸° í™”ì‚´í‘œë¥¼ ëˆŒëŸ¬ í”„ë¡œì íŠ¸ ë°”íƒ•í™”ë©´ìœ¼ë¡œ ëŒì•„ê°„ë‹¤.</li></ol><figure class=center style=width:33%><img src=/image/blynk-adc-16.png alt=/image/blynk-adc-16.png></figure><br><ol start=15><li>ì—¬ê¸°ì„œ í”Œë ˆì´ë²„íŠ¼ì„ ëˆ„ë¥´ë©´,</li></ol><figure class=center style=width:33%><img src=/image/blynk-adc-17.png alt=/image/blynk-adc-17.png></figure><br><p>ì €í•­ê³¼ ì „ì••ì˜ ì¸¡ì •ì´ ì‹œì‘ëœë‹¤. (ì‹œë¦¬ì–¼ ëª¨ë‹ˆí„°ì—ì„œë„ ê´€ì°° ê°€ëŠ¥)</p><figure class=center style=width:33%><img src=/image/blynk-adc-18.png alt=/image/blynk-adc-18.png></figure><br><figure class=center style=width:33%><img src=/image/blynk-adc-19.png alt=/image/blynk-adc-19.png></figure><br><ol start=16><li>ê°€ë³€ ì €í•­ì„ ëŒë¦´ ë•Œë§ˆë‹¤ ì €í•­ê³¼ ì „ì••ì´ ë°”ë€ë‹¤.</li></ol><figure class=center style=width:33%><img src=/image/blynk-adc-20.png alt=/image/blynk-adc-20.png></figure></div></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a href=/posts/arduino-bluetooth-%ED%8E%98%EC%96%B4%EB%A7%81/ class="flex align-center"><img src=/icons/backward.svg class=book-icon alt=Previous title="Arduino, Bluetooth í˜ì–´ë§">
<span>Arduino, Bluetooth í˜ì–´ë§</span></a></div><div><a href=/posts/esp32-ble-blynk-slider-pwm/ class="flex align-center"><span>esp32 BLE, Blynk Slider (PWM)</span>
<img src=/icons/forward.svg class=book-icon alt=Next title="esp32 BLE, Blynk Slider (PWM)"></a></div></div><div class=book-comments></div></footer><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><ul><li><a href=#esp32ì—ì„œ-blynkë¡œ-ì„¼ì„œê°’-ë³´ë‚´ê¸°>ESP32ì—ì„œ Blynkë¡œ ì„¼ì„œê°’ ë³´ë‚´ê¸°</a></li><li><a href=#blynk-ì„¤ì •>Blynk ì„¤ì •</a></li></ul></li></ul></nav></div></aside></main></body></html>