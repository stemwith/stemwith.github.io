<!doctype html><html lang=ko-kr dir=ltr><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="DCëª¨í„° ì‚¬ìš©í•˜ê¸°#
ì•„ë‘ì´ë…¸ì˜ ê²½ìš°ì™€ ë§ˆì°¬ê°€ì§€ë¡œ ESP32ì—ì„œë„ TB6612FNG ëª¨í„°ë“œë¼ì´ë²„ì™€ í•¨ê»˜, ëª¨í„° ë° ì•„ë‘ì´ë…¸ ë‹¨ë…ì‚¬ìš©ì„ ìœ„í•˜ì—¬ 3.7V 18650 2ê°œë¥¼ ì§ë ¬ë¡œ ì—°ê²°í•œ ì™¸ë¶€ì „ì›ì„ ì‚¬ìš©í•œë‹¤.

TB6612FNG#
ê¸°ë³¸ í•€ ë°°ì—´#

  
      
          VMVCCGND(*)AOUT1AOUT2BOUT2BOUT1GND
          








  

  
  

          PWMAAIN2AIN1STBYBIN1BIN2PWMBGND
      
  
  
      
          
          








  

  
  

          
      
  


í•€ ë°°ì—´ì´ ë‹¤ë¥¸ ê²½ìš°#

  
      
          GNDVCCAOUT1AOUT2BOUT2BOUT1VMGND
          








  

  
  

          PWMAAIN2AIN1NC (=STBY)BIN1BIN2PWMBGND
      
  
  
      
          
          








  

  
  

          
      
  


VM (ëª¨í„° ì „ì••) = 15V max
VCC (ë¡œì§ ì „ì••) = 2.7 ~ 5.5V
GND

TB6612FNG ëª¨ë“ˆì„ ì—¬ëŸ¬ê°œ í…ŒìŠ¤íŠ¸í•œ ê²°ê³¼, ê¸°ë³¸ í•€ ë°°ì—´ì„ ê°€ì§„ ëª¨ë“ˆì˜ 3ë²ˆí•€ GNDì— ì—°ê²°í•  ê²½ìš° ì‘ë™ì´ ì•ˆë˜ëŠ” ëª‡ëª‡ ì œí’ˆì´ ìˆì—ˆìŒ
ê·¸ëŸ¬ë¯€ë¡œ 8ë²ˆí•€, 9ë²ˆí•€ì˜ GND ì‚¬ìš©ì„ ê¶Œì¥í•¨


ì¶œë ¥ì „ë¥˜: ì •ì „ë¥˜ 1.2A (3.2A peak)ê¹Œì§€ (ëª¨í„° 2ê°œ ì‚¬ìš©ì‹œ í•©ì‚° ì „ë¥˜ì„)
ëª¨í„° ì œì–´ëª¨ë“œ: CW, CCW, short-brake, STOP, stand-by
ë‘ê°œì˜ ëª¨í„° ì¶œë ¥ì„ ê°œë³„ ì œì–´í•˜ë©°, 100kHzì˜ PWMìœ¼ë¡œ ì†ë„ ì œì–´
ì¨ë©€ ì…§ë‹¤ìš´ ë° ì €ì „ì•• ê°ì§€íšŒë¡œ ë‚´ì¥


Pinì˜ ì‚¬ìš©#
ESP32ì™€ TB6612FNGëª¨ë“ˆì„ ë¸Œë ˆë“œë³´ë“œë¥¼ í†µí•´ ì—°ê²°í•˜ê¸° ì‰½ë„ë¡ í•€ì„ êµ¬ì„±í•œ Pinmapì´ë¯€ë¡œ, í•„ìš”ì— ë”°ë¼ ìˆ˜ì •í•˜ì—¬ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. (ì•„ë˜í‘œëŠ” ì°¸ê³ ë§Œ í•  ê²ƒ!)"><meta name=theme-color media="(prefers-color-scheme: light)" content="#ffffff"><meta name=theme-color media="(prefers-color-scheme: dark)" content="#343a40"><meta name=color-scheme content="light dark"><meta property="og:url" content="https://stemwith.github.io/posts/esp32-dc%EB%AA%A8%ED%84%B0/"><meta property="og:site_name" content="stemwith"><meta property="og:title" content="ESP32, DCëª¨í„°, TB6612FNG"><meta property="og:description" content="DCëª¨í„° ì‚¬ìš©í•˜ê¸°# ì•„ë‘ì´ë…¸ì˜ ê²½ìš°ì™€ ë§ˆì°¬ê°€ì§€ë¡œ ESP32ì—ì„œë„ TB6612FNG ëª¨í„°ë“œë¼ì´ë²„ì™€ í•¨ê»˜, ëª¨í„° ë° ì•„ë‘ì´ë…¸ ë‹¨ë…ì‚¬ìš©ì„ ìœ„í•˜ì—¬ 3.7V 18650 2ê°œë¥¼ ì§ë ¬ë¡œ ì—°ê²°í•œ ì™¸ë¶€ì „ì›ì„ ì‚¬ìš©í•œë‹¤.
TB6612FNG# ê¸°ë³¸ í•€ ë°°ì—´# VMVCCGND(*)AOUT1AOUT2BOUT2BOUT1GND PWMAAIN2AIN1STBYBIN1BIN2PWMBGND í•€ ë°°ì—´ì´ ë‹¤ë¥¸ ê²½ìš°# GNDVCCAOUT1AOUT2BOUT2BOUT1VMGND PWMAAIN2AIN1NC (=STBY)BIN1BIN2PWMBGND VM (ëª¨í„° ì „ì••) = 15V max VCC (ë¡œì§ ì „ì••) = 2.7 ~ 5.5V GND TB6612FNG ëª¨ë“ˆì„ ì—¬ëŸ¬ê°œ í…ŒìŠ¤íŠ¸í•œ ê²°ê³¼, ê¸°ë³¸ í•€ ë°°ì—´ì„ ê°€ì§„ ëª¨ë“ˆì˜ 3ë²ˆí•€ GNDì— ì—°ê²°í•  ê²½ìš° ì‘ë™ì´ ì•ˆë˜ëŠ” ëª‡ëª‡ ì œí’ˆì´ ìˆì—ˆìŒ ê·¸ëŸ¬ë¯€ë¡œ 8ë²ˆí•€, 9ë²ˆí•€ì˜ GND ì‚¬ìš©ì„ ê¶Œì¥í•¨ ì¶œë ¥ì „ë¥˜: ì •ì „ë¥˜ 1.2A (3.2A peak)ê¹Œì§€ (ëª¨í„° 2ê°œ ì‚¬ìš©ì‹œ í•©ì‚° ì „ë¥˜ì„) ëª¨í„° ì œì–´ëª¨ë“œ: CW, CCW, short-brake, STOP, stand-by ë‘ê°œì˜ ëª¨í„° ì¶œë ¥ì„ ê°œë³„ ì œì–´í•˜ë©°, 100kHzì˜ PWMìœ¼ë¡œ ì†ë„ ì œì–´ ì¨ë©€ ì…§ë‹¤ìš´ ë° ì €ì „ì•• ê°ì§€íšŒë¡œ ë‚´ì¥ Pinì˜ ì‚¬ìš©# ESP32ì™€ TB6612FNGëª¨ë“ˆì„ ë¸Œë ˆë“œë³´ë“œë¥¼ í†µí•´ ì—°ê²°í•˜ê¸° ì‰½ë„ë¡ í•€ì„ êµ¬ì„±í•œ Pinmapì´ë¯€ë¡œ, í•„ìš”ì— ë”°ë¼ ìˆ˜ì •í•˜ì—¬ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. (ì•„ë˜í‘œëŠ” ì°¸ê³ ë§Œ í•  ê²ƒ!)"><meta property="og:locale" content="ko_kr"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-11-01T18:27:53+09:00"><meta property="article:modified_time" content="2021-11-01T18:27:53+09:00"><meta property="article:tag" content="Rc"><title>ESP32, DCëª¨í„°, TB6612FNG | stemwith</title><link rel=icon href=/favicon.ico><link rel=manifest href=/manifest.json><link rel=canonical href=https://stemwith.github.io/posts/esp32-dc%EB%AA%A8%ED%84%B0/><link rel=stylesheet href=/book.min.edacc84919565354dfc39b7e3684e11739048c7cd9356a3036fc1c663b63611d.css integrity="sha256-7azISRlWU1Tfw5t+NoThFzkEjHzZNWowNvwcZjtjYR0=" crossorigin=anonymous><script defer src=/fuse.min.js></script><script defer src=/en.search.min.48a89e4be341d639de74b0f5b5a0b5ad125313b71f6faa18dd992cd4721b044e.js integrity="sha256-SKieS+NB1jnedLD1taC1rRJTE7cfb6oY3Zks1HIbBE4=" crossorigin=anonymous></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-128DRYVCRT"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-128DRYVCRT")}</script></head><body dir=ltr class="book-kind-page book-type-posts"><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav class=book-menu><h2 class=book-brand><a class="flex align-center" href=/><img src=/og_image.png alt=Logo></a></h2><div class="book-search hidden"><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><script>document.querySelector(".book-search").classList.remove("hidden")</script><div class=analytics-container><h4>ì ‘ì† í†µê³„</h4><div class=stat-group><span class=stat-label>ì˜¤ëŠ˜</span><p class=stat-value id=ga-today-visitors>ğŸ‘¤ ...</p></div><div class=stat-group><span class=stat-label>ì¼ì¼ ë°©ë¬¸ì (2ì£¼)</span><div id=ga-daily-chart></div></div><div class=stat-group><span class=stat-label>ê³„</span><ul class=stat-list><li id=ga-total-visitors>- ë°©ë¬¸ì: ...</li><li id=ga-total-pageviews>- í˜ì´ì§€ë·°: ...</li></ul></div></div></nav><script type=text/javascript>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class="book-header hidden"><div class="flex align-center justify-between"><label for=menu-control><img src=/icons/menu.svg class=book-icon alt=Menu></label><h3>ESP32, DCëª¨í„°, TB6612FNG</h3><label for=toc-control><img src=/icons/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class=hidden><nav id=TableOfContents><ul><li><ul><li><a href=#dcëª¨í„°-ì‚¬ìš©í•˜ê¸°>DCëª¨í„° ì‚¬ìš©í•˜ê¸°</a></li><li><a href=#ëª¨í„°-1ê°œ-ì»¨íŠ¸ë¡¤í•˜ê¸°>ëª¨í„° 1ê°œ ì»¨íŠ¸ë¡¤í•˜ê¸°</a></li><li><a href=#ëª¨í„°-2ê°œ-ì»¨íŠ¸ë¡¤í•˜ê¸°>ëª¨í„° 2ê°œ ì»¨íŠ¸ë¡¤í•˜ê¸°</a></li><li><a href=#ìŠ¤ì¼€ì¹˜-ìµœì í™”>ìŠ¤ì¼€ì¹˜ ìµœì í™”</a></li></ul></li></ul></nav></aside></header><article class="markdown book-post"><h1>ESP32, DCëª¨í„°, TB6612FNG</h1><div class="flex align-center text-small book-post-date"><img src=/icons/calendar.svg class=book-icon alt>
<span>November 1, 2021</span></div><div class=text-small><a href=/categories/esp32/>Esp32</a></div><div class=text-small><a href=/tags/rc/>Rc</a></div><div class="book-post-content markdown-inner"><h3 id=dcëª¨í„°-ì‚¬ìš©í•˜ê¸°>DCëª¨í„° ì‚¬ìš©í•˜ê¸°<a class=anchor href=#dc%eb%aa%a8%ed%84%b0-%ec%82%ac%ec%9a%a9%ed%95%98%ea%b8%b0>#</a></h3><p>ì•„ë‘ì´ë…¸ì˜ ê²½ìš°ì™€ ë§ˆì°¬ê°€ì§€ë¡œ ESP32ì—ì„œë„ TB6612FNG ëª¨í„°ë“œë¼ì´ë²„ì™€ í•¨ê»˜, ëª¨í„° ë° ì•„ë‘ì´ë…¸ ë‹¨ë…ì‚¬ìš©ì„ ìœ„í•˜ì—¬ 3.7V 18650 2ê°œë¥¼ ì§ë ¬ë¡œ ì—°ê²°í•œ ì™¸ë¶€ì „ì›ì„ ì‚¬ìš©í•œë‹¤.</p><br><h4 id=tb6612fng>TB6612FNG<a class=anchor href=#tb6612fng>#</a></h4><h5 id=ê¸°ë³¸-í•€-ë°°ì—´>ê¸°ë³¸ í•€ ë°°ì—´<a class=anchor href=#%ea%b8%b0%eb%b3%b8-%ed%95%80-%eb%b0%b0%ec%97%b4>#</a></h5><table><thead><tr><th style=text-align:center>VM<br>VCC<br>GND(*)<br>AOUT1<br>AOUT2<br>BOUT2<br>BOUT1<br>GND</th><th style=text-align:center><figure class=center style=width:33%><img src=/image/t/tb6612fng-01.png alt=/image/t/tb6612fng-01.png></figure></th><th style=text-align:center>PWMA<br>AIN2<br>AIN1<br>STBY<br>BIN1<br>BIN2<br>PWMB<br>GND</th></tr></thead><tbody><tr><td style=text-align:center></td><td style=text-align:center><figure class=center style=width:33%><img src=/image/t/tb6612fng-02.png alt=/image/t/tb6612fng-02.png></figure></td><td style=text-align:center></td></tr></tbody></table><br><h5 id=í•€-ë°°ì—´ì´-ë‹¤ë¥¸-ê²½ìš°>í•€ ë°°ì—´ì´ ë‹¤ë¥¸ ê²½ìš°<a class=anchor href=#%ed%95%80-%eb%b0%b0%ec%97%b4%ec%9d%b4-%eb%8b%a4%eb%a5%b8-%ea%b2%bd%ec%9a%b0>#</a></h5><table><thead><tr><th style=text-align:center>GND<br>VCC<br>AOUT1<br>AOUT2<br>BOUT2<br>BOUT1<br>VM<br>GND</th><th style=text-align:center><figure class=center style=width:33%><img src=/image/t/tb6612fng-03.png alt=/image/t/tb6612fng-03.png></figure></th><th style=text-align:center>PWMA<br>AIN2<br>AIN1<br>NC (=STBY)<br>BIN1<br>BIN2<br>PWMB<br>GND</th></tr></thead><tbody><tr><td style=text-align:center></td><td style=text-align:center><figure class=center style=width:33%><img src=/image/t/tb6612fng-04.png alt=/image/t/tb6612fng-04.png></figure></td><td style=text-align:center></td></tr></tbody></table><ul><li>VM (ëª¨í„° ì „ì••) = 15V max</li><li>VCC (ë¡œì§ ì „ì••) = 2.7 ~ 5.5V</li><li><strong>GND</strong><ul><li>TB6612FNG ëª¨ë“ˆì„ ì—¬ëŸ¬ê°œ í…ŒìŠ¤íŠ¸í•œ ê²°ê³¼, ê¸°ë³¸ í•€ ë°°ì—´ì„ ê°€ì§„ ëª¨ë“ˆì˜ <strong>3ë²ˆí•€ GND</strong>ì— ì—°ê²°í•  ê²½ìš° <strong>ì‘ë™ì´ ì•ˆë˜ëŠ”</strong> ëª‡ëª‡ ì œí’ˆì´ ìˆì—ˆìŒ</li><li>ê·¸ëŸ¬ë¯€ë¡œ <strong>8ë²ˆí•€, 9ë²ˆí•€ì˜ GND ì‚¬ìš©ì„ ê¶Œì¥</strong>í•¨</li></ul></li><li>ì¶œë ¥ì „ë¥˜: ì •ì „ë¥˜ 1.2A (3.2A peak)ê¹Œì§€ (ëª¨í„° 2ê°œ ì‚¬ìš©ì‹œ í•©ì‚° ì „ë¥˜ì„)</li><li>ëª¨í„° ì œì–´ëª¨ë“œ: CW, CCW, short-brake, STOP, stand-by</li><li>ë‘ê°œì˜ ëª¨í„° ì¶œë ¥ì„ ê°œë³„ ì œì–´í•˜ë©°, <strong>100kHz</strong>ì˜ PWMìœ¼ë¡œ ì†ë„ ì œì–´</li><li>ì¨ë©€ ì…§ë‹¤ìš´ ë° ì €ì „ì•• ê°ì§€íšŒë¡œ ë‚´ì¥</li></ul><br><h5 id=pinì˜-ì‚¬ìš©>Pinì˜ ì‚¬ìš©<a class=anchor href=#pin%ec%9d%98-%ec%82%ac%ec%9a%a9>#</a></h5><p>ESP32ì™€ TB6612FNGëª¨ë“ˆì„ ë¸Œë ˆë“œë³´ë“œë¥¼ í†µí•´ ì—°ê²°í•˜ê¸° ì‰½ë„ë¡ í•€ì„ êµ¬ì„±í•œ Pinmapì´ë¯€ë¡œ, í•„ìš”ì— ë”°ë¼ ìˆ˜ì •í•˜ì—¬ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. (ì•„ë˜í‘œëŠ” ì°¸ê³ ë§Œ í•  ê²ƒ!)</p><table><thead><tr><th>í•€ë²ˆí˜¸</th><th>TB6612FNG ëª¨í„°ë“œë¼ì´ë¸Œ (ê¸°ë³¸ í•€ ë°°ì—´)</th><th>ESP32 DEVKIT_C V4 ì‚¬ìš©ì‹œ</th><th>ESP32 DEVKIT V1 ì‚¬ìš©ì‹œ</th><th>ì™¸ë¶€ì „ì›</th><th>ëª¨í„° / ì—­í• </th></tr></thead><tbody><tr><td>1</td><td>VM</td><td></td><td></td><td>(+) (DCëª¨í„°ì— ì‚¬ìš©í•˜ëŠ” ì „ì•• ì‚¬ìš©)</td><td></td></tr><tr><td>2</td><td>VCC</td><td>+3.3V</td><td>+3.3V</td><td></td><td></td></tr><tr><td>3</td><td><strong>GND (ì‚¬ìš© ë¹„ì¶”ì²œ)</strong></td><td></td><td></td><td></td><td></td></tr><tr><td>4</td><td>A_OUT1</td><td></td><td></td><td></td><td>ëª¨í„°A</td></tr><tr><td>5</td><td>A_OUT2</td><td></td><td></td><td></td><td>ëª¨í„°A</td></tr><tr><td>6</td><td>B_OUT2</td><td></td><td></td><td></td><td>ëª¨í„°B</td></tr><tr><td>7</td><td>B_OUT1</td><td></td><td></td><td></td><td>ëª¨í„°B</td></tr><tr><td>8</td><td>GND</td><td></td><td></td><td>(-)</td><td></td></tr><tr><td>9</td><td>GND</td><td>GND</td><td>GND</td><td></td><td></td></tr><tr><td>10</td><td>B_PWM</td><td>12</td><td>13</td><td></td><td>ëª¨í„°B ì†ë„ì œì–´</td></tr><tr><td>11</td><td>B_IN2</td><td>14</td><td>12</td><td></td><td>ëª¨í„°B ë°©í–¥ì œì–´</td></tr><tr><td>12</td><td>B_IN1</td><td>27</td><td>14</td><td></td><td>ëª¨í„°B ë°©í–¥ì œì–´</td></tr><tr><td>13</td><td>STBY</td><td>26</td><td>27</td><td></td><td>ëª¨í„° ìƒíƒœì‹ í˜¸</td></tr><tr><td>14</td><td>A_IN1</td><td>25</td><td>26</td><td></td><td>ëª¨í„°A ë°©í–¥ì œì–´</td></tr><tr><td>15</td><td>A_IN2</td><td>33</td><td>25</td><td></td><td>ëª¨í„°A ë°©í–¥ì œì–´</td></tr><tr><td>16</td><td>A_PWM</td><td>32</td><td>33</td><td></td><td>ëª¨í„°A ì†ë„ì œì–´</td></tr></tbody></table><br><table><thead><tr><th>ESP32 DEVKIT V4 ì‚¬ìš©ì‹œ</th><th><figure class=center style=width:75%><img src=/image/t/ESP32-RC-04.png alt=/image/t/ESP32-RC-04.png></figure></th></tr></thead><tbody><tr><td>ESP32 DEVKIT V1 ì‚¬ìš©ì‹œ</td><td><figure class=center style=width:75%><img src=/image/t/ESP32-RC-05.png alt=/image/t/ESP32-RC-05.png></figure></td></tr></tbody></table><br><br><h3 id=ëª¨í„°-1ê°œ-ì»¨íŠ¸ë¡¤í•˜ê¸°>ëª¨í„° 1ê°œ ì»¨íŠ¸ë¡¤í•˜ê¸°<a class=anchor href=#%eb%aa%a8%ed%84%b0-1%ea%b0%9c-%ec%bb%a8%ed%8a%b8%eb%a1%a4%ed%95%98%ea%b8%b0>#</a></h3><table><thead><tr><th>(ê¸°ì–´ë°•ìŠ¤ë¥¼ í¬í•¨í•œ) ì¼ë°˜ DCëª¨í„°</th><th>(ì—”ì½”ë” ëª¨ë“ˆì„ í¬í•¨í•œ) ì—”ì½”ë” DCëª¨í„°</th></tr></thead><tbody><tr><td>ì•„ë‘ì´ë…¸ë¥¼ ì‚¬ìš©í•œ ìŠ¤ë§ˆíŠ¸ì¹´ ì‹¤ìŠµìš©ìœ¼ë¡œ ë§ì´ ì‚¬ìš©ë¨</td><td>Hall sensorë¥¼ í†µí•´ íšŒì „ìˆ˜ë¥¼ ì •ë°€í•˜ê²Œ ì¸¡ì •ê°€ëŠ¥</td></tr><tr><td>(+)ì™€ (-), 2P ë‹¨ìê°€ ìˆìŒ</td><td>5P or 6P ë‹¨ìê°€ ìˆìŒ (ì—¬ê¸°ì„œëŠ” (+)ì™€ (-) 2Pë§Œ ì‚¬ìš©)</td></tr><tr><td><figure class=center style=width:80%><img src=/image/4wd-01.jpg alt=/image/4wd-01.jpg></figure></td><td><figure class=center style=width:75%><img src=/image/t/ESP32-RC-07.png alt=/image/t/ESP32-RC-07.png></figure></td></tr></tbody></table><br><h4 id=schematic>schematic<a class=anchor href=#schematic>#</a></h4><h5 id=esp32ì™€-ì»´í“¨í„°ë¥¼-usbì„ ìœ¼ë¡œ-ì—°ê²°í•˜ì—¬-ì‚¬ìš©í• -ê²½ìš°-ë‹¨-ëª¨í„°-ì™¸ë¶€ì „ì›ì€-ì‚¬ìš©>ESP32ì™€ ì»´í“¨í„°ë¥¼ USBì„ ìœ¼ë¡œ ì—°ê²°í•˜ì—¬ ì‚¬ìš©í•  ê²½ìš° (ë‹¨, ëª¨í„° ì™¸ë¶€ì „ì›ì€ ì‚¬ìš©)<a class=anchor href=#esp32%ec%99%80-%ec%bb%b4%ed%93%a8%ed%84%b0%eb%a5%bc-usb%ec%84%a0%ec%9c%bc%eb%a1%9c-%ec%97%b0%ea%b2%b0%ed%95%98%ec%97%ac-%ec%82%ac%ec%9a%a9%ed%95%a0-%ea%b2%bd%ec%9a%b0-%eb%8b%a8-%eb%aa%a8%ed%84%b0-%ec%99%b8%eb%b6%80%ec%a0%84%ec%9b%90%ec%9d%80-%ec%82%ac%ec%9a%a9>#</a></h5><figure class=center style=width:75%><img src=/image/t/ESP32-RC-01.png alt=/image/t/ESP32-RC-01.png></figure><br><h5 id=esp32ì™€-ì»´í“¨í„°ì˜-ì—°ê²°ì—†ì´-ì™¸ë¶€ì „ì›ì„-ì‚¬ìš©í•˜ì—¬-ë‹¨ë…ìœ¼ë¡œ-ì‚¬ìš©í• -ê²½ìš°>ESP32ì™€ ì»´í“¨í„°ì˜ ì—°ê²°ì—†ì´, ì™¸ë¶€ì „ì›ì„ ì‚¬ìš©í•˜ì—¬ ë‹¨ë…ìœ¼ë¡œ ì‚¬ìš©í•  ê²½ìš°<a class=anchor href=#esp32%ec%99%80-%ec%bb%b4%ed%93%a8%ed%84%b0%ec%9d%98-%ec%97%b0%ea%b2%b0%ec%97%86%ec%9d%b4-%ec%99%b8%eb%b6%80%ec%a0%84%ec%9b%90%ec%9d%84-%ec%82%ac%ec%9a%a9%ed%95%98%ec%97%ac-%eb%8b%a8%eb%8f%85%ec%9c%bc%eb%a1%9c-%ec%82%ac%ec%9a%a9%ed%95%a0-%ea%b2%bd%ec%9a%b0>#</a></h5><ul><li><p>18650 2S ì™¸ë¶€ì „ì›(7.4V)ì„ DCì»¨ë²„í„° ëª¨ë“ˆì— ì—°ê²°</p><ul><li>ì…ë ¥: 8~36V</li><li>ì¶œë ¥: 1.25~32V ë° USB 5V ì¶œë ¥</li><li>75Wë‚´ ì‚¬ìš© ê¶Œì¥, ì „ë¥˜ëŸ‰ ìµœëŒ€ 5A (4.5A ì´ë‚´ ì‚¬ìš© ê¶Œì¥)</li></ul><figure class=center style=width:33%><img src=/image/t/ESP32-RC-03.png alt=/image/t/ESP32-RC-03.png></figure></li><li><p>ì—¬ê¸°ì„œëŠ” ì„œë³´ëª¨í„° ì¶”ê°€ ì—°ê²°ì„ ìœ„í•´ì„œ, ì™¼ìª½ ê°€ë³€ ì €í•­ì„ ì‚¬ìš©í•˜ì—¬ ì¶œë ¥ ì „ì••ì„ 5Vë¡œ ì„¸íŒ…í•˜ì—¬ ì‚¬ìš©</p></li><li><p>USB ì¶œë ¥ë‹¨ìëŠ” ESP32ì˜ microUSB ë‹¨ìì— ì—°ê²°</p></li></ul><figure class=center style=width:75%><img src=/image/t/ESP32-RC-02.png alt=/image/t/ESP32-RC-02.png></figure><br><h4 id=sketch>sketch<a class=anchor href=#sketch>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl><span class=c1>// TB6612FNG right side &amp; ESP32-WROOM-32D DEVKIT_C V4 left side pin order
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>const</span> <span class=kt>int</span> <span class=n>PIN_PWMA</span> <span class=o>=</span> <span class=mi>32</span><span class=p>;</span>  
</span></span><span class=line><span class=cl><span class=k>const</span> <span class=kt>int</span> <span class=n>PIN_AIN1</span> <span class=o>=</span> <span class=mi>33</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>const</span> <span class=kt>int</span> <span class=n>PIN_AIN2</span> <span class=o>=</span> <span class=mi>25</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>const</span> <span class=kt>int</span> <span class=n>PIN_STBY</span> <span class=o>=</span> <span class=mi>26</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>const</span> <span class=kt>int</span> <span class=n>PIN_BIN1</span> <span class=o>=</span> <span class=mi>27</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>const</span> <span class=kt>int</span> <span class=n>PIN_BIN2</span> <span class=o>=</span> <span class=mi>14</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>const</span> <span class=kt>int</span> <span class=n>PIN_PWMB</span> <span class=o>=</span> <span class=mi>12</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=cm>/*
</span></span></span><span class=line><span class=cl><span class=cm>// TB6612FNG right side &amp; ESP32-WROOM-32 left side pin order
</span></span></span><span class=line><span class=cl><span class=cm>const int PIN_PWMA = 33;  
</span></span></span><span class=line><span class=cl><span class=cm>const int PIN_AIN1 = 25;
</span></span></span><span class=line><span class=cl><span class=cm>const int PIN_AIN2 = 26;
</span></span></span><span class=line><span class=cl><span class=cm>const int PIN_STBY = 27;
</span></span></span><span class=line><span class=cl><span class=cm>const int PIN_BIN1 = 14;
</span></span></span><span class=line><span class=cl><span class=cm>const int PIN_BIN2 = 12;
</span></span></span><span class=line><span class=cl><span class=cm>const int PIN_PWMB = 13;
</span></span></span><span class=line><span class=cl><span class=cm>*/</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// PWM Channel setup
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>const</span> <span class=kt>int</span> <span class=n>CH_PWMA</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>const</span> <span class=kt>int</span> <span class=n>CH_PWMB</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=c1>// PWM frequency and bit resolution setup
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>const</span> <span class=kt>int</span> <span class=n>pwmFrequency</span> <span class=o>=</span> <span class=mi>10000</span><span class=p>;</span>  <span class=c1>// Hz
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>const</span> <span class=kt>int</span> <span class=n>bitResolution</span> <span class=o>=</span> <span class=mi>8</span><span class=p>;</span>     <span class=c1>// pwm value: 0~255
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=k>const</span> <span class=kt>int</span> <span class=n>PIN_LED</span> <span class=o>=</span> <span class=mi>2</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=nf>setup</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=c1>// put your setup code here, to run once:
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=n>Serial</span><span class=p>.</span><span class=n>begin</span><span class=p>(</span><span class=mi>115200</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=n>pinMode</span><span class=p>(</span><span class=n>PIN_LED</span><span class=p>,</span> <span class=n>OUTPUT</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=c1>// tb6612fng setting
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=n>pinMode</span><span class=p>(</span><span class=n>PIN_STBY</span><span class=p>,</span><span class=n>OUTPUT</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=n>pinMode</span><span class=p>(</span><span class=n>PIN_AIN1</span><span class=p>,</span><span class=n>OUTPUT</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=n>pinMode</span><span class=p>(</span><span class=n>PIN_AIN2</span><span class=p>,</span><span class=n>OUTPUT</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=n>pinMode</span><span class=p>(</span><span class=n>PIN_PWMA</span><span class=p>,</span><span class=n>OUTPUT</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=n>pinMode</span><span class=p>(</span><span class=n>PIN_BIN1</span><span class=p>,</span><span class=n>OUTPUT</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=n>pinMode</span><span class=p>(</span><span class=n>PIN_BIN2</span><span class=p>,</span><span class=n>OUTPUT</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=n>pinMode</span><span class=p>(</span><span class=n>PIN_PWMB</span><span class=p>,</span><span class=n>OUTPUT</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>   <span class=c1>// motor output(PWM) setting (channel, frequency, bit)
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=n>ledcSetup</span><span class=p>(</span><span class=n>CH_PWMA</span><span class=p>,</span> <span class=n>pwmFrequency</span><span class=p>,</span> <span class=n>bitResolution</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=n>ledcSetup</span><span class=p>(</span><span class=n>CH_PWMB</span><span class=p>,</span> <span class=n>pwmFrequency</span><span class=p>,</span> <span class=n>bitResolution</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=n>ledcAttachPin</span><span class=p>(</span><span class=n>PIN_PWMA</span><span class=p>,</span> <span class=n>CH_PWMA</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=n>ledcAttachPin</span><span class=p>(</span><span class=n>PIN_PWMB</span><span class=p>,</span> <span class=n>CH_PWMB</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=c1>// channel setting (GPIO pin, channel)
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=c1>// if STBY(CH0) = LOW, Standby states.
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=c1>// if STBY(CH0) = HIGH, and INA1&amp;INA2 have different value
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=c1>// and PWMA has some value, CW or CCW rotation is made.
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>  <span class=c1>// Channel      CW   CCW  Stanby Stop Brake1 Brake2 Brake3
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=c1>// PIN_STBY (0) HIGH HIGH LOW    HIGH  HIGH  HIGH   HIGH
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=c1>// PIN_INA1 (1) HIGH LOW  *      LOW   HIGH  LOW    HIGH
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=c1>// PIN_INA2 (2) LOW  HIGH *      LOW   HIGH  HIGH   LOW
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=c1>// CH_PWMA  (3) PWM  PWM  *      HIGH  *     LOW    LOW  
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=nf>loop</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl> 
</span></span><span class=line><span class=cl>  <span class=c1>// Motor A : CW
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=n>digitalWrite</span><span class=p>(</span><span class=n>PIN_STBY</span><span class=p>,</span> <span class=n>HIGH</span><span class=p>);</span> 	<span class=c1>// STBY
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=n>digitalWrite</span><span class=p>(</span><span class=n>PIN_AIN1</span><span class=p>,</span> <span class=n>HIGH</span><span class=p>);</span> 	<span class=c1>// AIN1
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=n>digitalWrite</span><span class=p>(</span><span class=n>PIN_AIN2</span><span class=p>,</span> <span class=n>LOW</span><span class=p>);</span>   	<span class=c1>// AIN2
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=n>ledcWrite</span><span class=p>(</span><span class=n>CH_PWMA</span><span class=p>,</span> <span class=mi>255</span><span class=p>);</span> 			<span class=c1>// PWMA
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=c1>// Motor B : CW
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=n>digitalWrite</span><span class=p>(</span><span class=n>PIN_BIN1</span><span class=p>,</span> <span class=n>HIGH</span><span class=p>);</span> 	<span class=c1>// BIN1
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=n>digitalWrite</span><span class=p>(</span><span class=n>PIN_BIN2</span><span class=p>,</span> <span class=n>LOW</span><span class=p>);</span>   	<span class=c1>// BIN2
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=n>ledcWrite</span><span class=p>(</span><span class=n>CH_PWMB</span><span class=p>,</span> <span class=mi>255</span><span class=p>);</span> 			<span class=c1>// PWMB
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=n>delay</span><span class=p>(</span><span class=mi>3000</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=c1>// Motor : Stand-by
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=n>digitalWrite</span><span class=p>(</span><span class=n>PIN_STBY</span><span class=p>,</span> <span class=n>LOW</span><span class=p>);</span> 		<span class=c1>// STBY
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=c1>//delay(1000);
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>  <span class=c1>//LED Blink
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=n>digitalWrite</span><span class=p>(</span><span class=n>ledPin</span><span class=p>,</span> <span class=n>LOW</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=n>delay</span><span class=p>(</span><span class=mi>3500</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=n>digitalWrite</span><span class=p>(</span><span class=n>ledPin</span><span class=p>,</span> <span class=n>HIGH</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=n>delay</span><span class=p>(</span><span class=mi>500</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=n>digitalWrite</span><span class=p>(</span><span class=n>ledPin</span><span class=p>,</span> <span class=n>LOW</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=c1>// Motor A : CCW
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=n>digitalWrite</span><span class=p>(</span><span class=n>PIN_STBY</span><span class=p>,</span> <span class=n>HIGH</span><span class=p>);</span> 	<span class=c1>// STBY
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=n>digitalWrite</span><span class=p>(</span><span class=n>PIN_AIN1</span><span class=p>,</span> <span class=n>LOW</span><span class=p>);</span> 		<span class=c1>// AIN1
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=n>digitalWrite</span><span class=p>(</span><span class=n>PIN_AIN2</span><span class=p>,</span> <span class=n>HIGH</span><span class=p>);</span>   	<span class=c1>// AIN2
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=n>ledcWrite</span><span class=p>(</span><span class=n>CH_PWMA</span><span class=p>,</span> <span class=mi>255</span><span class=p>);</span> 			<span class=c1>// PWMA
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=c1>// Motor B : CCW
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=n>digitalWrite</span><span class=p>(</span><span class=n>PIN_BIN1</span><span class=p>,</span> <span class=n>LOW</span><span class=p>);</span> 		<span class=c1>// BIN1
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=n>digitalWrite</span><span class=p>(</span><span class=n>PIN_BIN2</span><span class=p>,</span> <span class=n>HIGH</span><span class=p>);</span>   	<span class=c1>// BIN2
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=n>ledcWrite</span><span class=p>(</span><span class=n>CH_PWMB</span><span class=p>,</span> <span class=mi>255</span><span class=p>);</span> 			<span class=c1>// PWMB
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=n>delay</span><span class=p>(</span><span class=mi>3000</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=c1>// Motor : Stand-by
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=n>digitalWrite</span><span class=p>(</span><span class=n>PIN_STBY</span><span class=p>,</span> <span class=n>LOW</span><span class=p>);</span> 		<span class=c1>// STBY
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=c1>//delay(1000);
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>  <span class=c1>//LED Blink
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=n>digitalWrite</span><span class=p>(</span><span class=n>PIN_LED</span><span class=p>,</span> <span class=n>LOW</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=n>delay</span><span class=p>(</span><span class=mi>3500</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=n>digitalWrite</span><span class=p>(</span><span class=n>PIN_LED</span><span class=p>,</span> <span class=n>HIGH</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=n>delay</span><span class=p>(</span><span class=mi>500</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=n>digitalWrite</span><span class=p>(</span><span class=n>PIN_LED</span><span class=p>,</span> <span class=n>LOW</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div><br><h4 id=troubleshooting>Troubleshooting<a class=anchor href=#troubleshooting>#</a></h4><h5 id=ìŠ¤ì¼€ì¹˜-ì¤‘ê°„ì—-ìˆëŠ”-stand-byê°€-ìˆê±°ë‚˜-ì—†ê±°ë‚˜-ë™ì¼í•œ-ìš´ë™ì„-ë³´ì¼-ê²ƒ-ê°™ì§€ë§Œ-ì‹¤ì œë¡œëŠ”-ì™„ì „íˆ-ë‹¤ë¥´ë‹¤>ìŠ¤ì¼€ì¹˜ ì¤‘ê°„ì— ìˆëŠ” stand-byê°€ ìˆê±°ë‚˜ ì—†ê±°ë‚˜ ë™ì¼í•œ ìš´ë™ì„ ë³´ì¼ ê²ƒ ê°™ì§€ë§Œ, ì‹¤ì œë¡œëŠ” ì™„ì „íˆ ë‹¤ë¥´ë‹¤.<a class=anchor href=#%ec%8a%a4%ec%bc%80%ec%b9%98-%ec%a4%91%ea%b0%84%ec%97%90-%ec%9e%88%eb%8a%94-stand-by%ea%b0%80-%ec%9e%88%ea%b1%b0%eb%82%98-%ec%97%86%ea%b1%b0%eb%82%98-%eb%8f%99%ec%9d%bc%ed%95%9c-%ec%9a%b4%eb%8f%99%ec%9d%84-%eb%b3%b4%ec%9d%bc-%ea%b2%83-%ea%b0%99%ec%a7%80%eb%a7%8c-%ec%8b%a4%ec%a0%9c%eb%a1%9c%eb%8a%94-%ec%99%84%ec%a0%84%ed%9e%88-%eb%8b%a4%eb%a5%b4%eb%8b%a4>#</a></h5><ul><li><p>stand-byê°€ ìˆëŠ” ê²½ìš°</p><ul><li>3ì´ˆê°„ CWíšŒì „ í›„ ì •ì§€ â†’ 3.5ì´ˆ ëŒ€ê¸° â†’ 0.5ì´ˆ LEDì¼œì¡Œë‹¤ê°€ êº¼ì§ â†’ 3ì´ˆê°„ CCWíšŒì „ í›„ ì •ì§€â†’ 3.5ì´ˆ ëŒ€ê¸° â†’ 0.5ì´ˆ LEDì¼œì¡Œë‹¤ê°€ êº¼ì§</li></ul></li><li><p>stand-byê°€ ì—†ëŠ” ê²½ìš°:</p><ul><li>ëª¨í„°<ul><li>ëª¨í„°ì˜ delay ì‹œê°„(íšŒì „ì‹œê°„)ì´ 3ì´ˆë¡œ ë˜ì–´ ìˆì–´ë„ stand-by ìƒíƒœë¡œ ë“¤ì–´ê°€ì§€ ì•Šìœ¼ë¯€ë¡œ, <strong>ì‹¤ì œë¡œëŠ” 7ì´ˆê°„ íšŒì „</strong> í›„ ë°©í–¥ì„ ë°”ê¿ˆ</li><li>7ì´ˆê°„ CWíšŒì „ í›„ â†’ (ì •ì§€í•˜ì§€ ì•Šê³ ) ê³§ë°”ë¡œ 7ì´ˆê°„ CCWíšŒì „ (ë°˜ë³µ)</li></ul></li><li>LED<ul><li>êº¼ì§: 6.5ì´ˆê°„ êº¼ì ¸ìˆë‹¤ê°€ (ëª¨í„°ì˜ delay ì‹œê°„ 3ì´ˆ + led low delay ì‹œê°„ 3.5ì´ˆ)</li><li>ì¼œì§: 0.5ì´ˆê°„ ì¼œì§ (ë°˜ë³µ)</li></ul></li></ul></li><li><p>ê·¸ëŸ¬ë¯€ë¡œ, ê° ìƒí™©ì— ë”°ë¼ stand-byë¥¼ ê±¸ì–´ì•¼ í• ì§€, ë§ì•„ì•¼í• ì§€ë¥¼ ê²°ì •í•´ì•¼ í•¨.</p><ul><li>stand-byë¥¼ ê±¸ì§€ ì•Šì€ ìƒíƒœì—ì„œ ë©ˆì¶”ë ¤ë©´ PWMA or PWMBë¥¼ 0ìœ¼ë¡œ ì£¼ë©´ ë¨.</li></ul></li></ul><br><h5 id=íšŒì „-ë°©í–¥ì´-ìƒê°í–ˆë˜-ë°©í–¥ê³¼-ë°˜ëŒ€ë¡œ-íšŒì „í•˜ëŠ”-ê²½ìš°>íšŒì „ ë°©í–¥ì´ (ìƒê°í–ˆë˜ ë°©í–¥ê³¼) ë°˜ëŒ€ë¡œ íšŒì „í•˜ëŠ” ê²½ìš°<a class=anchor href=#%ed%9a%8c%ec%a0%84-%eb%b0%a9%ed%96%a5%ec%9d%b4-%ec%83%9d%ea%b0%81%ed%96%88%eb%8d%98-%eb%b0%a9%ed%96%a5%ea%b3%bc-%eb%b0%98%eb%8c%80%eb%a1%9c-%ed%9a%8c%ec%a0%84%ed%95%98%eb%8a%94-%ea%b2%bd%ec%9a%b0>#</a></h5><p>AIN1í•€ê³¼ AIN2 í•€ì˜ ë²ˆí˜¸ë¥¼ ë°”ê¿”ì¤€ë‹¤. ì¦‰, ìœ„ ìŠ¤ì¼€ì¹˜ì—ì„œ</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl><span class=k>const</span> <span class=kt>int</span> <span class=n>AIN2</span> <span class=o>=</span> <span class=mi>25</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>const</span> <span class=kt>int</span> <span class=n>AIN1</span> <span class=o>=</span> <span class=mi>26</span><span class=p>;</span></span></span></code></pre></div><p>ë¶€ë¶„ì„</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl><span class=k>const</span> <span class=kt>int</span> <span class=n>AIN2</span> <span class=o>=</span> <span class=mi>26</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>const</span> <span class=kt>int</span> <span class=n>AIN1</span> <span class=o>=</span> <span class=mi>25</span><span class=p>;</span></span></span></code></pre></div><p>ë¡œ ë°”ê¿”ì¤€ë‹¤.</p><br><br><h3 id=ëª¨í„°-2ê°œ-ì»¨íŠ¸ë¡¤í•˜ê¸°>ëª¨í„° 2ê°œ ì»¨íŠ¸ë¡¤í•˜ê¸°<a class=anchor href=#%eb%aa%a8%ed%84%b0-2%ea%b0%9c-%ec%bb%a8%ed%8a%b8%eb%a1%a4%ed%95%98%ea%b8%b0>#</a></h3><p><figure class=center style=width:75%><img src=/image/t/ESP32-RC-06.png alt=/image/t/ESP32-RC-06.png></figure><br></p><h4 id=sketch-1>sketch<a class=anchor href=#sketch-1>#</a></h4><p>ìœ„ì˜ &lsquo;&lsquo;ëª¨í„° 1ê°œ ì»¨íŠ¸ë¡¤í•˜ê¸°&rsquo;&rsquo; ìŠ¤ì¼€ì¹˜ì™€ ë™ì¼í•¨.</p><br><br><h3 id=ìŠ¤ì¼€ì¹˜-ìµœì í™”>ìŠ¤ì¼€ì¹˜ ìµœì í™”<a class=anchor href=#%ec%8a%a4%ec%bc%80%ec%b9%98-%ec%b5%9c%ec%a0%81%ed%99%94>#</a></h3><p>move(), stop()ì„ ë§Œë“¤ì–´ì„œ ìŠ¤ì¼€ì¹˜ ìµœì í™”</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-c++ data-lang=c++><span class=line><span class=cl><span class=c1>// TB6612FNG right side &amp; ESP32-WROOM-32D DEVKIT_C V4 left side pin order
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>const</span> <span class=kt>int</span> <span class=n>PIN_PWMA</span> <span class=o>=</span> <span class=mi>32</span><span class=p>;</span>  
</span></span><span class=line><span class=cl><span class=k>const</span> <span class=kt>int</span> <span class=n>PIN_AIN1</span> <span class=o>=</span> <span class=mi>33</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>const</span> <span class=kt>int</span> <span class=n>PIN_AIN2</span> <span class=o>=</span> <span class=mi>25</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>const</span> <span class=kt>int</span> <span class=n>PIN_STBY</span> <span class=o>=</span> <span class=mi>26</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>const</span> <span class=kt>int</span> <span class=n>PIN_BIN1</span> <span class=o>=</span> <span class=mi>27</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>const</span> <span class=kt>int</span> <span class=n>PIN_BIN2</span> <span class=o>=</span> <span class=mi>14</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>const</span> <span class=kt>int</span> <span class=n>PIN_PWMB</span> <span class=o>=</span> <span class=mi>12</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=cm>/*
</span></span></span><span class=line><span class=cl><span class=cm>// TB6612FNG right side &amp; ESP32-WROOM-32 left side pin order
</span></span></span><span class=line><span class=cl><span class=cm>const int PIN_PWMA = 33;  
</span></span></span><span class=line><span class=cl><span class=cm>const int PIN_AIN1 = 25;
</span></span></span><span class=line><span class=cl><span class=cm>const int PIN_AIN2 = 26;
</span></span></span><span class=line><span class=cl><span class=cm>const int PIN_STBY = 27;
</span></span></span><span class=line><span class=cl><span class=cm>const int PIN_BIN1 = 14;
</span></span></span><span class=line><span class=cl><span class=cm>const int PIN_BIN2 = 12;
</span></span></span><span class=line><span class=cl><span class=cm>const int PIN_PWMB = 13;
</span></span></span><span class=line><span class=cl><span class=cm>*/</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// PWM Channel setup
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>const</span> <span class=kt>int</span> <span class=n>CH_PWMA</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>const</span> <span class=kt>int</span> <span class=n>CH_PWMB</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=c1>// PWM frequency and bit resolution setup
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>const</span> <span class=kt>int</span> <span class=n>pwmFrequency</span> <span class=o>=</span> <span class=mi>10000</span><span class=p>;</span>  <span class=c1>// Hz
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>const</span> <span class=kt>int</span> <span class=n>bitResolution</span> <span class=o>=</span> <span class=mi>8</span><span class=p>;</span>     <span class=c1>// pwm value: 0~255
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=k>const</span> <span class=kt>int</span> <span class=n>PIN_LED</span> <span class=o>=</span> <span class=mi>2</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=nf>setup</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=c1>// put your setup code here, to run once:
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=n>Serial</span><span class=p>.</span><span class=n>begin</span><span class=p>(</span><span class=mi>115200</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=n>pinMode</span><span class=p>(</span><span class=n>PIN_LED</span><span class=p>,</span> <span class=n>OUTPUT</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=c1>// tb6612fng setting
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=n>pinMode</span><span class=p>(</span><span class=n>PIN_STBY</span><span class=p>,</span><span class=n>OUTPUT</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=n>pinMode</span><span class=p>(</span><span class=n>PIN_AIN1</span><span class=p>,</span><span class=n>OUTPUT</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=n>pinMode</span><span class=p>(</span><span class=n>PIN_AIN2</span><span class=p>,</span><span class=n>OUTPUT</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=n>pinMode</span><span class=p>(</span><span class=n>PIN_PWMA</span><span class=p>,</span><span class=n>OUTPUT</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=n>pinMode</span><span class=p>(</span><span class=n>PIN_BIN1</span><span class=p>,</span><span class=n>OUTPUT</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=n>pinMode</span><span class=p>(</span><span class=n>PIN_BIN2</span><span class=p>,</span><span class=n>OUTPUT</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=n>pinMode</span><span class=p>(</span><span class=n>PIN_PWMB</span><span class=p>,</span><span class=n>OUTPUT</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>   <span class=c1>// motor output(PWM) setting (channel, frequency, bit)
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=n>ledcSetup</span><span class=p>(</span><span class=n>CH_PWMA</span><span class=p>,</span> <span class=n>pwmFrequency</span><span class=p>,</span> <span class=n>bitResolution</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=n>ledcSetup</span><span class=p>(</span><span class=n>CH_PWMB</span><span class=p>,</span> <span class=n>pwmFrequency</span><span class=p>,</span> <span class=n>bitResolution</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=n>ledcAttachPin</span><span class=p>(</span><span class=n>PIN_PWMA</span><span class=p>,</span> <span class=n>CH_PWMA</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=n>ledcAttachPin</span><span class=p>(</span><span class=n>PIN_PWMB</span><span class=p>,</span> <span class=n>CH_PWMB</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=c1>// channel setting (GPIO pin, channel)
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=c1>// if STBY(CH0) = LOW, Standby states.
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=c1>// if STBY(CH0) = HIGH, and INA1&amp;INA2 have different value
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=c1>// and PWMA has some value, CW or CCW rotation is made.
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>  <span class=c1>// Channel      CW   CCW  Stanby Stop Brake1 Brake2 Brake3
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=c1>// PIN_STBY (0) HIGH HIGH LOW    HIGH  HIGH  HIGH   HIGH
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=c1>// PIN_INA1 (1) HIGH LOW  *      LOW   HIGH  LOW    HIGH
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=c1>// PIN_INA2 (2) LOW  HIGH *      LOW   HIGH  HIGH   LOW
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=c1>// CH_PWMA  (3) PWM  PWM  *      HIGH  *     LOW    LOW  
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=nf>loop</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=n>move</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>128</span><span class=p>,</span> <span class=mi>0</span><span class=p>);</span>               <span class=c1>// motor A(right wheels), half speed, moving forward
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=n>move</span><span class=p>(</span><span class=mi>2</span><span class=p>,</span> <span class=mi>255</span><span class=p>,</span> <span class=mi>0</span><span class=p>);</span>               <span class=c1>// motor B(left wheels), full speed, moving forward
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=n>delay</span><span class=p>(</span><span class=mi>3000</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=n>stop</span><span class=p>();</span>						 <span class=c1>// Motor : Stand-by
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=c1>//delay(1000);
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>  <span class=c1>//LED Blink
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=n>digitalWrite</span><span class=p>(</span><span class=n>ledPin</span><span class=p>,</span> <span class=n>LOW</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=n>delay</span><span class=p>(</span><span class=mi>3500</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=n>digitalWrite</span><span class=p>(</span><span class=n>ledPin</span><span class=p>,</span> <span class=n>HIGH</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=n>delay</span><span class=p>(</span><span class=mi>500</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=n>digitalWrite</span><span class=p>(</span><span class=n>ledPin</span><span class=p>,</span> <span class=n>LOW</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=n>move</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>255</span><span class=p>,</span> <span class=mi>1</span><span class=p>);</span>               <span class=c1>// motor A(right wheels), full speed, moving backward
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=n>move</span><span class=p>(</span><span class=mi>2</span><span class=p>,</span> <span class=mi>128</span><span class=p>,</span> <span class=mi>1</span><span class=p>);</span>               <span class=c1>// motor B(left wheels), half speed, moving backward
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=n>delay</span><span class=p>(</span><span class=mi>3000</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=n>stop</span><span class=p>();</span>						 <span class=c1>// Motor : Stand-by
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=c1>//delay(1000);
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>  <span class=c1>//LED Blink
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=n>digitalWrite</span><span class=p>(</span><span class=n>ledPin</span><span class=p>,</span> <span class=n>LOW</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=n>delay</span><span class=p>(</span><span class=mi>3500</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=n>digitalWrite</span><span class=p>(</span><span class=n>ledPin</span><span class=p>,</span> <span class=n>HIGH</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=n>delay</span><span class=p>(</span><span class=mi>500</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=n>digitalWrite</span><span class=p>(</span><span class=n>ledPin</span><span class=p>,</span> <span class=n>LOW</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=nf>move</span><span class=p>(</span><span class=kt>int</span> <span class=n>motor</span><span class=p>,</span> <span class=kt>int</span> <span class=n>speed</span><span class=p>,</span> <span class=kt>int</span> <span class=n>direction</span><span class=p>)</span> <span class=p>{</span>   <span class=c1>//Move specific motor at speed and direction
</span></span></span><span class=line><span class=cl><span class=c1>//motor: A(Right) -&gt; 1, B(Left) -&gt; 2
</span></span></span><span class=line><span class=cl><span class=c1>//speed: 0 is off, and 255 is full speed
</span></span></span><span class=line><span class=cl><span class=c1>//direction: 0 clockwise, 1 counter-clockwise
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>  <span class=n>digitalWrite</span><span class=p>(</span><span class=n>PIN_STBY</span><span class=p>,</span> <span class=n>HIGH</span><span class=p>);</span>         <span class=c1>// move
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>  <span class=n>boolean</span> <span class=n>inPin1</span> <span class=o>=</span> <span class=n>HIGH</span><span class=p>;</span>            	<span class=c1>// Defalut(direction=0) - Clockwise
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=n>boolean</span> <span class=n>inPin2</span> <span class=o>=</span> <span class=n>LOW</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>if</span><span class=p>(</span><span class=n>direction</span> <span class=o>==</span> <span class=mi>1</span><span class=p>)</span> <span class=p>{</span>             		<span class=c1>// Count-clockwise
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>inPin1</span> <span class=o>=</span> <span class=n>LOW</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>inPin2</span> <span class=o>=</span> <span class=n>HIGH</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>if</span><span class=p>(</span><span class=n>motor</span> <span class=o>==</span> <span class=mi>1</span><span class=p>){</span>                 		<span class=c1>// if motor == 1, right wheel
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>digitalWrite</span><span class=p>(</span><span class=n>PIN_AIN1</span><span class=p>,</span> <span class=n>inPin1</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>digitalWrite</span><span class=p>(</span><span class=n>PIN_AIN2</span><span class=p>,</span> <span class=n>inPin2</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>ledcWrite</span><span class=p>(</span><span class=n>CH_PWMA</span><span class=p>,</span> <span class=n>speed</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>                         		<span class=c1>// if motor is not 1, left wheel
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>digitalWrite</span><span class=p>(</span><span class=n>PIN_BIN1</span><span class=p>,</span> <span class=n>inPin1</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>digitalWrite</span><span class=p>(</span><span class=n>PIN_BIN2</span><span class=p>,</span> <span class=n>inPin2</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>ledcWrite</span><span class=p>(</span><span class=n>CH_PWMB</span><span class=p>,</span> <span class=n>speed</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=nf>stop</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=n>digitalWrite</span><span class=p>(</span><span class=n>PIN_STBY</span><span class=p>,</span> <span class=n>LOW</span><span class=p>);</span>          <span class=c1>// stand-by = stop
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span></span></span></code></pre></div></div></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a href=/posts/stem-%EC%A0%84%EC%9E%90%EA%B8%B0%ED%8C%8C-%EA%B2%80%EC%B6%9C%EA%B8%B0/ class="flex align-center"><img src=/icons/backward.svg class=book-icon alt=Previous title="ì „ìê¸°íŒŒ ê²€ì¶œê¸° ë§Œë“¤ê¸°">
<span>ì „ìê¸°íŒŒ ê²€ì¶œê¸° ë§Œë“¤ê¸°</span></a></div><div><a href=/posts/esp32-nrf24l01/ class="flex align-center"><span>ESP32, nRF24L01 ë¬´ì„ í†µì‹ </span>
<img src=/icons/forward.svg class=book-icon alt=Next title="ESP32, nRF24L01 ë¬´ì„ í†µì‹ "></a></div></div><div class=book-comments></div></footer><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><ul><li><a href=#dcëª¨í„°-ì‚¬ìš©í•˜ê¸°>DCëª¨í„° ì‚¬ìš©í•˜ê¸°</a></li><li><a href=#ëª¨í„°-1ê°œ-ì»¨íŠ¸ë¡¤í•˜ê¸°>ëª¨í„° 1ê°œ ì»¨íŠ¸ë¡¤í•˜ê¸°</a></li><li><a href=#ëª¨í„°-2ê°œ-ì»¨íŠ¸ë¡¤í•˜ê¸°>ëª¨í„° 2ê°œ ì»¨íŠ¸ë¡¤í•˜ê¸°</a></li><li><a href=#ìŠ¤ì¼€ì¹˜-ìµœì í™”>ìŠ¤ì¼€ì¹˜ ìµœì í™”</a></li></ul></li></ul></nav></div></aside></main></body></html>