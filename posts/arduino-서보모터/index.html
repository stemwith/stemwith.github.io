<!doctype html><html lang=ko-kr dir=ltr><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="ì„œë³´ëª¨í„° SG-90#









  

  
  


ëª¨í„°ë“œë¼ì´ë²„, íšŒì „ì„¼ì„œ, ëª¨í„°, ì œì–´íšŒë¡œê°€ ë‚´ì¥ëœ ê¸°ì–´ ë°•ìŠ¤ë¥¼ í¬í•¨í•˜ê³  ìˆëŠ” í˜•íƒœì˜ ëª¨í„°ë¡œ, ìŠ¤í…ëª¨í„°ë³´ë‹¤ í˜ì´ ê°•í•¨
ë³´í†µ ì„ ì´ 3ê°€ë‹¥ì´ë©°, íšŒì „ìˆ˜ì™€ ê°ë„ ë“±ì˜ ì›€ì§ì„ ì œì–´ê°€ ê°€ëŠ¥
ì•„ë‘ì´ë…¸ì—ì„œ ë§ì´ ë‹¤ë£¨ëŠ” SG90 ì œí’ˆì˜ ê²½ìš° 0~180Ëš ì œì–´ê°€ ê°€ëŠ¥
ì•„ë‘ì´ë…¸UNOì˜ USB ì „ë¥˜ëŸ‰ì´ 500mA ì •ë„ê°€ í•œê³„ì´ë¯€ë¡œ ë³„ë„ì˜ ì „ì›ì„ ì‚¬ìš©í•˜ì§€ ì•Šìœ¼ë©´ 1~2ê°œì˜ ì„œë³´ëª¨í„°ë§Œ ì‚¬ìš© ê°€ëŠ¥


ë¼ì´ë¸ŒëŸ¬ë¦¬ ì¶”ê°€í•˜ê¸°#
ì„œë³´ëª¨í„°ë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•œ Servo ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” ì•„ë‘ì´ë…¸ IDEì— ê¸°ë³¸ìœ¼ë¡œ í¬í•¨ë˜ì–´ ìˆë‹¤.

ìŠ¤ì¼€ì¹˜> ë¼ì´ë¸ŒëŸ¬ë¦¬ í¬í•¨í•˜ê¸°> Servo ë¥¼ ì„ íƒí•˜ë©´,
#include <servo.h> ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ ìŠ¤ì¼€ì¹˜ì— ì¶”ê°€ ëœë‹¤.


schematic#









  

  
  


  
      
          SG90
          Brown
          Red
          Orange
      
  
  
      
          Arduino
          GND
          5V
          10
      
  


sketch : ì„œë³´ëª¨í„° 180Âº íšŒì „ ì™•ë³µí•˜ê¸°#
#include <Servo.h>

Servo servomotor;                                // servomotor ì„ ì–¸
int position = 0;

void setup() {
  servomotor.attach(10);                         // servomotor í•€ ì„¤ì •
}

void loop() {
  for(position = 0; position < 180; position++)
  {
    servomotor.write(position);                  // posê°’ì˜ ìœ„ì¹˜ë¡œ ì´ë™
    delay(15);                       
  }                                 
  for(position = 180; position > 0; position--)  // ê°™ì€ ë°©ë²•ìœ¼ë¡œ ì—­íšŒì „
  {
    servomotor.write(position);
    delay(15);
  }
}
servomotor.write(ìˆ«ì)ë¥¼ ì‚¬ìš©í• ë•Œ, ìˆ«ìëŠ” í˜„ì¬ ìœ„ì¹˜ì—ì„œì˜ â€˜íšŒì „ê°â€™ì„ ì˜ë¯¸í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë‹¤!
ì´ˆê¸° ìœ„ì¹˜ë¥¼ 0Âºë¡œ ê¸°ì¤€ì‚¼ì•„, í‘œì‹œëœ ìˆ«ìì˜ ê°ë„ ìœ„ì¹˜ë¡œ ì´ë™í•˜ë¼ëŠ” ì˜ë¯¸ì´ë‹¤. ì˜ˆë¥¼ë“¤ì–´ì„œ servomotor.write(90)ì™€ servomotor.write(30)ì„ ì—°ì†ìœ¼ë¡œ ì‹¤í–‰í•˜ë©´,

90ë„ë¥¼ íšŒì „í•œ ë’¤, ì¶”ê°€ë¡œ 30ë„ë¥¼ íšŒì „í•˜ì—¬ 120ë„ ìœ„ì¹˜ì— ìˆë‹¤ â†’ Ã—
90ë„ì˜ ìœ„ì¹˜ë¡œ íšŒì „í•œ ë’¤, ì—­íšŒì „í•˜ì—¬ (ì²˜ìŒìœ„ì¹˜ë¥¼ ê¸°ì¤€ìœ¼ë¡œ) 30ë„ì˜ ìœ„ì¹˜ë¡œ ì´ë™í•œë‹¤. â†’ â—‹




ë‹¨, servo.h ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ë©´, ìŠ¤ì¼€ì¹˜ ë‚´ì—ì„œ analogWriteë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤ëŠ” ë‹¨ì ë„ ìˆë‹¤.


sketch: ì‹œë¦¬ì–¼ëª¨ë‹ˆí„°ì—ì„œ ê°ë„ê°’ì„ ì…ë ¥ë°›ì•„ íšŒì „ì‹œí‚¤ê¸°#
#include <Servo.h>
Servo servomotor;
int a = 0;

void setup() {
  servomotor.attach(10);
  Serial.begin(9600);                  // Serial í†µì‹ ì„ ì„¤ì •
  while(!Serial);
  Serial.println(&#34;Servor Mortor&#34;);
}

void loop() {
  if(Serial.available()){              // Serial ëª¨ë‹ˆí„°ì°½ì— ì–´ë–¤ ê°’ì´ ë“¤ì–´ì˜¤ë©´ ì‹¤í–‰
    a = Serial.parseInt();             // Serial ëª¨ë‹ˆí„°ì°½ì—ì„œ ë°›ì€ ê°’ì„ aì— ë„˜ê²¨ì¤Œ
    if(a>=0 && a<=180)
    {
      Serial.print(&#34;angle : &#34;);
      Serial.println(a);
      servomotor.write(a);             // aê°’ì— í•´ë‹¹í•˜ëŠ” ê°ë„ì˜ ìœ„ì¹˜ë¡œ ì´ë™
      delay(15);
    }
  }
}

ì„œë³´ëª¨í„° SG-90: ë¼ì´ë¸ŒëŸ¬ë¦¬ ì—†ì´ ì‚¬ìš©í•˜ê¸°#
for SG90 with Arduino#

Frequency of that signal should be 50hz.
Its range is 544-2450 micro seconds for 0-180 degree angle.
Again its a little complex.
For example 0 degree signal will be something like 5 volts for 544 micro seconds and 0 volt for 19465.
highDelay

the time in which we want to keep voltage high on pin 10 and this unit is in micro seconds.


lowDelay

the time in which want to keep voltage zero across pin 10 again this unit is going to be in micro seconds


only HIGH part of signal wont operate servo. we have to send complete HIGH and LOW signal to make servo work.
deg_factor

signal range (2450 - 544) for SG90 divided by 180 which is equal to 10.6 something that we make 11 as an integer.


Loop = 20000;

20000 micro seconds or 20 milli seconds is signal cycle or u can say total signal should be equal to 20 milli seconds including HIGH and LOW input. (50Hz)



int servoPin = 10;        // servo is connected to pin 10.
int initialDelay = 544;
int highDelay, lowDelay;

int deg;
int deg_factor = 10;      
int Loop = 20000;         

void setup() {
  pinMode (servoPin, OUTPUT);
}

void loop() {
  for (deg = 0;deg <= 180; deg++) {
    servoWrite(servoPin, deg);
  }
  for (deg = 180;deg >= 0; deg--) {
    servoWrite(servoPin, deg);
  }
}

void servoWrite(int servo, int duty)
{
  highDelay = initialDelay + (duty * deg_factor); // setting angle

  digitalWrite(servo, HIGH);
  delayMicroseconds(highDelay);
  
  lowDelay = Loop - highDelay;
  digitalWrite(servo, LOW);
  delayMicroseconds(lowDelay);

  delay(500);
}
ì‹œë¦¬ì–¼ ëª¨ë‹ˆí„°ì— ì…ë ¥í•œ ë¬¸ìë¡œ ì„œë³´ëª¨í„° íšŒì „ì‹œí‚¤ê¸°#
int servoPin = 10;        // servo is connected to pin 10.
int initialDelay = 544;
int highDelay, lowDelay;

int deg = 90;             // servo initial degree
int deg_factor = 10;      
int Loop = 20000;         

void setup() {
  Serial.begin(9600);
  pinMode (servoPin, OUTPUT);
}

void loop() {
  servoWrite(servoPin, deg);  
    
  while(Serial.available() > 0) 
  {
    char flag=Serial.read();
    delay(2);
      
    if(flag=='l') {
        deg = deg - 5;
        if(deg < 0) {
            deg = 0;
        }
    }
    
    if(flag=='r') {
        deg = deg + 5;
        if(deg > 180) {
            deg = 180;
        }
    }      
}

void servoWrite(int servo, int duty)
{
  highDelay = initialDelay + (duty * deg_factor); // setting angle

  digitalWrite(servo, HIGH);
  delayMicroseconds(highDelay);
  
  lowDelay = Loop - highDelay;
  digitalWrite(servo, LOW);
  delayMicroseconds(lowDelay);

  delay(500);
}
l ì„ ì…ë ¥í•˜ë©´, 5ë„ ì¢ŒíšŒì „í•˜ë©°, llì„ ì…ë ¥í•˜ë©´ 10ë„ ì¢ŒíšŒì „í•œë‹¤.
r ì„ ì…ë ¥í•˜ë©´, 5ë„ ìš°íšŒì „í•˜ë©°, rrì„ ì…ë ¥í•˜ë©´ 10ë„ ìš°íšŒì „í•œë‹¤.



ì„œë³´ëª¨í„°ì™€ ì¸í„°ëŸ½íŠ¸ ë™ì‹œì— ì‚¬ìš©í•˜ê¸°#
ì„œë³´ëª¨í„°ê°€ 180ë„ íšŒì „í•˜ëŠ” ë™ì•ˆ, ìŠ¤ìœ„ì¹˜ë¥¼ ëˆ„ë¥´ë©´ 13ë²ˆ LEDê°€ í† ê¸€ë˜ë„ë¡ ë§Œë“¤ì–´ë³´ì."><meta name=theme-color media="(prefers-color-scheme: light)" content="#ffffff"><meta name=theme-color media="(prefers-color-scheme: dark)" content="#343a40"><meta name=color-scheme content="light dark"><meta property="og:url" content="https://stemwith.github.io/posts/arduino-%EC%84%9C%EB%B3%B4%EB%AA%A8%ED%84%B0/"><meta property="og:site_name" content="stemwith"><meta property="og:title" content="Arduino, ì„œë³´ëª¨í„°"><meta property="og:description" content="ì„œë³´ëª¨í„° SG-90# ëª¨í„°ë“œë¼ì´ë²„, íšŒì „ì„¼ì„œ, ëª¨í„°, ì œì–´íšŒë¡œê°€ ë‚´ì¥ëœ ê¸°ì–´ ë°•ìŠ¤ë¥¼ í¬í•¨í•˜ê³  ìˆëŠ” í˜•íƒœì˜ ëª¨í„°ë¡œ, ìŠ¤í…ëª¨í„°ë³´ë‹¤ í˜ì´ ê°•í•¨ ë³´í†µ ì„ ì´ 3ê°€ë‹¥ì´ë©°, íšŒì „ìˆ˜ì™€ ê°ë„ ë“±ì˜ ì›€ì§ì„ ì œì–´ê°€ ê°€ëŠ¥ ì•„ë‘ì´ë…¸ì—ì„œ ë§ì´ ë‹¤ë£¨ëŠ” SG90 ì œí’ˆì˜ ê²½ìš° 0~180Ëš ì œì–´ê°€ ê°€ëŠ¥ ì•„ë‘ì´ë…¸UNOì˜ USB ì „ë¥˜ëŸ‰ì´ 500mA ì •ë„ê°€ í•œê³„ì´ë¯€ë¡œ ë³„ë„ì˜ ì „ì›ì„ ì‚¬ìš©í•˜ì§€ ì•Šìœ¼ë©´ 1~2ê°œì˜ ì„œë³´ëª¨í„°ë§Œ ì‚¬ìš© ê°€ëŠ¥ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì¶”ê°€í•˜ê¸°# ì„œë³´ëª¨í„°ë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•œ Servo ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” ì•„ë‘ì´ë…¸ IDEì— ê¸°ë³¸ìœ¼ë¡œ í¬í•¨ë˜ì–´ ìˆë‹¤.
ìŠ¤ì¼€ì¹˜> ë¼ì´ë¸ŒëŸ¬ë¦¬ í¬í•¨í•˜ê¸°> Servo ë¥¼ ì„ íƒí•˜ë©´, #include <servo.h> ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ ìŠ¤ì¼€ì¹˜ì— ì¶”ê°€ ëœë‹¤. schematic# SG90 Brown Red Orange Arduino GND 5V 10 sketch : ì„œë³´ëª¨í„° 180Âº íšŒì „ ì™•ë³µí•˜ê¸°# #include <Servo.h> Servo servomotor; // servomotor ì„ ì–¸ int position = 0; void setup() { servomotor.attach(10); // servomotor í•€ ì„¤ì • } void loop() { for(position = 0; position < 180; position++) { servomotor.write(position); // posê°’ì˜ ìœ„ì¹˜ë¡œ ì´ë™ delay(15); } for(position = 180; position > 0; position--) // ê°™ì€ ë°©ë²•ìœ¼ë¡œ ì—­íšŒì „ { servomotor.write(position); delay(15); } } servomotor.write(ìˆ«ì)ë¥¼ ì‚¬ìš©í• ë•Œ, ìˆ«ìëŠ” í˜„ì¬ ìœ„ì¹˜ì—ì„œì˜ â€˜íšŒì „ê°â€™ì„ ì˜ë¯¸í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë‹¤! ì´ˆê¸° ìœ„ì¹˜ë¥¼ 0Âºë¡œ ê¸°ì¤€ì‚¼ì•„, í‘œì‹œëœ ìˆ«ìì˜ ê°ë„ ìœ„ì¹˜ë¡œ ì´ë™í•˜ë¼ëŠ” ì˜ë¯¸ì´ë‹¤. ì˜ˆë¥¼ë“¤ì–´ì„œ servomotor.write(90)ì™€ servomotor.write(30)ì„ ì—°ì†ìœ¼ë¡œ ì‹¤í–‰í•˜ë©´, 90ë„ë¥¼ íšŒì „í•œ ë’¤, ì¶”ê°€ë¡œ 30ë„ë¥¼ íšŒì „í•˜ì—¬ 120ë„ ìœ„ì¹˜ì— ìˆë‹¤ â†’ Ã— 90ë„ì˜ ìœ„ì¹˜ë¡œ íšŒì „í•œ ë’¤, ì—­íšŒì „í•˜ì—¬ (ì²˜ìŒìœ„ì¹˜ë¥¼ ê¸°ì¤€ìœ¼ë¡œ) 30ë„ì˜ ìœ„ì¹˜ë¡œ ì´ë™í•œë‹¤. â†’ â—‹ ë‹¨, servo.h ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ë©´, ìŠ¤ì¼€ì¹˜ ë‚´ì—ì„œ analogWriteë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤ëŠ” ë‹¨ì ë„ ìˆë‹¤. sketch: ì‹œë¦¬ì–¼ëª¨ë‹ˆí„°ì—ì„œ ê°ë„ê°’ì„ ì…ë ¥ë°›ì•„ íšŒì „ì‹œí‚¤ê¸°# #include <Servo.h> Servo servomotor; int a = 0; void setup() { servomotor.attach(10); Serial.begin(9600); // Serial í†µì‹ ì„ ì„¤ì • while(!Serial); Serial.println(&#34;Servor Mortor&#34;); } void loop() { if(Serial.available()){ // Serial ëª¨ë‹ˆí„°ì°½ì— ì–´ë–¤ ê°’ì´ ë“¤ì–´ì˜¤ë©´ ì‹¤í–‰ a = Serial.parseInt(); // Serial ëª¨ë‹ˆí„°ì°½ì—ì„œ ë°›ì€ ê°’ì„ aì— ë„˜ê²¨ì¤Œ if(a>=0 && a<=180) { Serial.print(&#34;angle : &#34;); Serial.println(a); servomotor.write(a); // aê°’ì— í•´ë‹¹í•˜ëŠ” ê°ë„ì˜ ìœ„ì¹˜ë¡œ ì´ë™ delay(15); } } }
ì„œë³´ëª¨í„° SG-90: ë¼ì´ë¸ŒëŸ¬ë¦¬ ì—†ì´ ì‚¬ìš©í•˜ê¸°# for SG90 with Arduino# Frequency of that signal should be 50hz. Its range is 544-2450 micro seconds for 0-180 degree angle. Again its a little complex. For example 0 degree signal will be something like 5 volts for 544 micro seconds and 0 volt for 19465. highDelay the time in which we want to keep voltage high on pin 10 and this unit is in micro seconds. lowDelay the time in which want to keep voltage zero across pin 10 again this unit is going to be in micro seconds only HIGH part of signal wont operate servo. we have to send complete HIGH and LOW signal to make servo work. deg_factor signal range (2450 - 544) for SG90 divided by 180 which is equal to 10.6 something that we make 11 as an integer. Loop = 20000; 20000 micro seconds or 20 milli seconds is signal cycle or u can say total signal should be equal to 20 milli seconds including HIGH and LOW input. (50Hz) int servoPin = 10; // servo is connected to pin 10. int initialDelay = 544; int highDelay, lowDelay; int deg; int deg_factor = 10; int Loop = 20000; void setup() { pinMode (servoPin, OUTPUT); } void loop() { for (deg = 0;deg <= 180; deg++) { servoWrite(servoPin, deg); } for (deg = 180;deg >= 0; deg--) { servoWrite(servoPin, deg); } } void servoWrite(int servo, int duty) { highDelay = initialDelay + (duty * deg_factor); // setting angle digitalWrite(servo, HIGH); delayMicroseconds(highDelay); lowDelay = Loop - highDelay; digitalWrite(servo, LOW); delayMicroseconds(lowDelay); delay(500); }
ì‹œë¦¬ì–¼ ëª¨ë‹ˆí„°ì— ì…ë ¥í•œ ë¬¸ìë¡œ ì„œë³´ëª¨í„° íšŒì „ì‹œí‚¤ê¸°# int servoPin = 10; // servo is connected to pin 10. int initialDelay = 544; int highDelay, lowDelay; int deg = 90; // servo initial degree int deg_factor = 10; int Loop = 20000; void setup() { Serial.begin(9600); pinMode (servoPin, OUTPUT); } void loop() { servoWrite(servoPin, deg); while(Serial.available() > 0) { char flag=Serial.read(); delay(2); if(flag=='l') { deg = deg - 5; if(deg < 0) { deg = 0; } } if(flag=='r') { deg = deg + 5; if(deg > 180) { deg = 180; } } } void servoWrite(int servo, int duty) { highDelay = initialDelay + (duty * deg_factor); // setting angle digitalWrite(servo, HIGH); delayMicroseconds(highDelay); lowDelay = Loop - highDelay; digitalWrite(servo, LOW); delayMicroseconds(lowDelay); delay(500); } l ì„ ì…ë ¥í•˜ë©´, 5ë„ ì¢ŒíšŒì „í•˜ë©°, llì„ ì…ë ¥í•˜ë©´ 10ë„ ì¢ŒíšŒì „í•œë‹¤. r ì„ ì…ë ¥í•˜ë©´, 5ë„ ìš°íšŒì „í•˜ë©°, rrì„ ì…ë ¥í•˜ë©´ 10ë„ ìš°íšŒì „í•œë‹¤. ì„œë³´ëª¨í„°ì™€ ì¸í„°ëŸ½íŠ¸ ë™ì‹œì— ì‚¬ìš©í•˜ê¸°# ì„œë³´ëª¨í„°ê°€ 180ë„ íšŒì „í•˜ëŠ” ë™ì•ˆ, ìŠ¤ìœ„ì¹˜ë¥¼ ëˆ„ë¥´ë©´ 13ë²ˆ LEDê°€ í† ê¸€ë˜ë„ë¡ ë§Œë“¤ì–´ë³´ì."><meta property="og:locale" content="ko_kr"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2018-09-08T17:57:00+09:00"><meta property="article:modified_time" content="2018-09-08T17:57:00+09:00"><title>Arduino, ì„œë³´ëª¨í„° | stemwith</title><link rel=icon href=/favicon.ico><link rel=manifest href=/manifest.json><link rel=canonical href=https://stemwith.github.io/posts/arduino-%EC%84%9C%EB%B3%B4%EB%AA%A8%ED%84%B0/><link rel=stylesheet href=/book.min.edacc84919565354dfc39b7e3684e11739048c7cd9356a3036fc1c663b63611d.css integrity="sha256-7azISRlWU1Tfw5t+NoThFzkEjHzZNWowNvwcZjtjYR0=" crossorigin=anonymous><script defer src=/fuse.min.js></script><script defer src=/en.search.min.48a89e4be341d639de74b0f5b5a0b5ad125313b71f6faa18dd992cd4721b044e.js integrity="sha256-SKieS+NB1jnedLD1taC1rRJTE7cfb6oY3Zks1HIbBE4=" crossorigin=anonymous></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-128DRYVCRT"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-128DRYVCRT")}</script></head><body dir=ltr class="book-kind-page book-type-posts"><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav class=book-menu><h2 class=book-brand><a class="flex align-center" href=/><img src=/og_image.png alt=Logo></a></h2><div class="book-search hidden"><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><script>document.querySelector(".book-search").classList.remove("hidden")</script><div class=analytics-container><h4>ì ‘ì† í†µê³„</h4><div class=stat-group><span class=stat-label>ì˜¤ëŠ˜</span><p class=stat-value id=ga-today-visitors>ğŸ‘¤ ...</p></div><div class=stat-group><span class=stat-label>ì¼ì¼ ë°©ë¬¸ì (2ì£¼)</span><div id=ga-daily-chart></div></div><div class=stat-group><span class=stat-label>ê³„</span><ul class=stat-list><li id=ga-total-visitors>- ë°©ë¬¸ì: ...</li><li id=ga-total-pageviews>- í˜ì´ì§€ë·°: ...</li></ul></div></div></nav><script type=text/javascript>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class="book-header hidden"><div class="flex align-center justify-between"><label for=menu-control><img src=/icons/menu.svg class=book-icon alt=Menu></label><h3>Arduino, ì„œë³´ëª¨í„°</h3><label for=toc-control><img src=/icons/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class=hidden><nav id=TableOfContents><ul><li><ul><li><a href=#ì„œë³´ëª¨í„°-sg-90>ì„œë³´ëª¨í„° SG-90</a></li><li><a href=#ì„œë³´ëª¨í„°-sg-90-ë¼ì´ë¸ŒëŸ¬ë¦¬-ì—†ì´-ì‚¬ìš©í•˜ê¸°>ì„œë³´ëª¨í„° SG-90: ë¼ì´ë¸ŒëŸ¬ë¦¬ ì—†ì´ ì‚¬ìš©í•˜ê¸°</a></li><li><a href=#ì„œë³´ëª¨í„°ì™€-ì¸í„°ëŸ½íŠ¸-ë™ì‹œì—-ì‚¬ìš©í•˜ê¸°>ì„œë³´ëª¨í„°ì™€ ì¸í„°ëŸ½íŠ¸ ë™ì‹œì— ì‚¬ìš©í•˜ê¸°</a></li><li><a href=#ë ˆì´ì €-ëª¨ë“ˆ-ì¶”ê°€-ì„œë³´ëª¨í„°-ë‚ ê°œì—-ë¶€ì°©>ë ˆì´ì € ëª¨ë“ˆ ì¶”ê°€: ì„œë³´ëª¨í„° ë‚ ê°œì— ë¶€ì°©</a></li><li><a href=#ì¡°ë„ì„¼ì„œ-ì¶”ê°€>ì¡°ë„ì„¼ì„œ ì¶”ê°€</a></li><li><a href=#keypadì—ì„œ-ê°’ì„-ì…ë ¥ë°›ì•„-íšŒì „ì‹œí‚¤ê¸°>Keypadì—ì„œ ê°’ì„ ì…ë ¥ë°›ì•„ íšŒì „ì‹œí‚¤ê¸°</a></li><li><a href=#ë¹„ë°€ë²ˆí˜¸-í™•ì¸í•˜ì—¬-ì„œë³´ëª¨í„°-íšŒì „ì‹œí‚¤ê¸°>ë¹„ë°€ë²ˆí˜¸ í™•ì¸í•˜ì—¬ ì„œë³´ëª¨í„° íšŒì „ì‹œí‚¤ê¸°</a></li><li><a href=#joystickì„-ì‚¬ìš©í•˜ì—¬-2ê°œì˜-ì„œë³´ëª¨í„°-ì œì–´í•˜ê¸°>Joystickì„ ì‚¬ìš©í•˜ì—¬ 2ê°œì˜ ì„œë³´ëª¨í„° ì œì–´í•˜ê¸°</a></li></ul></li></ul></nav></aside></header><article class="markdown book-post"><h1>Arduino, ì„œë³´ëª¨í„°</h1><div class="flex align-center text-small book-post-date"><img src=/icons/calendar.svg class=book-icon alt>
<span>September 8, 2018</span></div><div class=text-small><a href=/categories/arduino/>Arduino</a></div><div class="book-post-content markdown-inner"><h3 id=ì„œë³´ëª¨í„°-sg-90>ì„œë³´ëª¨í„° SG-90<a class=anchor href=#%ec%84%9c%eb%b3%b4%eb%aa%a8%ed%84%b0-sg-90>#</a></h3><figure class=center style=width:50%><img src=/image/servo-01.png alt=/image/servo-01.png></figure><ul><li>ëª¨í„°ë“œë¼ì´ë²„, íšŒì „ì„¼ì„œ, ëª¨í„°, ì œì–´íšŒë¡œê°€ ë‚´ì¥ëœ ê¸°ì–´ ë°•ìŠ¤ë¥¼ í¬í•¨í•˜ê³  ìˆëŠ” í˜•íƒœì˜ ëª¨í„°ë¡œ, ìŠ¤í…ëª¨í„°ë³´ë‹¤ í˜ì´ ê°•í•¨</li><li>ë³´í†µ ì„ ì´ 3ê°€ë‹¥ì´ë©°, íšŒì „ìˆ˜ì™€ ê°ë„ ë“±ì˜ ì›€ì§ì„ ì œì–´ê°€ ê°€ëŠ¥</li><li>ì•„ë‘ì´ë…¸ì—ì„œ ë§ì´ ë‹¤ë£¨ëŠ” SG90 ì œí’ˆì˜ ê²½ìš° 0~180Ëš ì œì–´ê°€ ê°€ëŠ¥</li><li>ì•„ë‘ì´ë…¸UNOì˜ USB ì „ë¥˜ëŸ‰ì´ 500mA ì •ë„ê°€ í•œê³„ì´ë¯€ë¡œ ë³„ë„ì˜ ì „ì›ì„ ì‚¬ìš©í•˜ì§€ ì•Šìœ¼ë©´ 1~2ê°œì˜ ì„œë³´ëª¨í„°ë§Œ ì‚¬ìš© ê°€ëŠ¥</li></ul><br><h4 id=ë¼ì´ë¸ŒëŸ¬ë¦¬-ì¶”ê°€í•˜ê¸°>ë¼ì´ë¸ŒëŸ¬ë¦¬ ì¶”ê°€í•˜ê¸°<a class=anchor href=#%eb%9d%bc%ec%9d%b4%eb%b8%8c%eb%9f%ac%eb%a6%ac-%ec%b6%94%ea%b0%80%ed%95%98%ea%b8%b0>#</a></h4><p>ì„œë³´ëª¨í„°ë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•œ Servo ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” ì•„ë‘ì´ë…¸ IDEì— ê¸°ë³¸ìœ¼ë¡œ í¬í•¨ë˜ì–´ ìˆë‹¤.</p><ul><li>ìŠ¤ì¼€ì¹˜> ë¼ì´ë¸ŒëŸ¬ë¦¬ í¬í•¨í•˜ê¸°> Servo ë¥¼ ì„ íƒí•˜ë©´,</li><li>#include &lt;servo.h> ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ ìŠ¤ì¼€ì¹˜ì— ì¶”ê°€ ëœë‹¤.</li></ul><br><h4 id=schematic>schematic<a class=anchor href=#schematic>#</a></h4><figure class=center style=width:75%><img src=/image/servo-02.jpg alt=/image/servo-02.jpg></figure><table><thead><tr><th>SG90</th><th>Brown</th><th>Red</th><th>Orange</th></tr></thead><tbody><tr><td>Arduino</td><td>GND</td><td>5V</td><td>10</td></tr></tbody></table><br><h4 id=sketch--ì„œë³´ëª¨í„°-180Âº-íšŒì „-ì™•ë³µí•˜ê¸°>sketch : ì„œë³´ëª¨í„° 180Âº íšŒì „ ì™•ë³µí•˜ê¸°<a class=anchor href=#sketch--%ec%84%9c%eb%b3%b4%eb%aa%a8%ed%84%b0-180%c2%ba-%ed%9a%8c%ec%a0%84-%ec%99%95%eb%b3%b5%ed%95%98%ea%b8%b0>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-C data-lang=C><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;Servo.h&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span>
</span></span><span class=line><span class=cl><span class=n>Servo</span> <span class=n>servomotor</span><span class=p>;</span>                                <span class=c1>// servomotor ì„ ì–¸
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kt>int</span> <span class=n>position</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=nf>setup</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=n>servomotor</span><span class=p>.</span><span class=nf>attach</span><span class=p>(</span><span class=mi>10</span><span class=p>);</span>                         <span class=c1>// servomotor í•€ ì„¤ì •
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=nf>loop</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>for</span><span class=p>(</span><span class=n>position</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>position</span> <span class=o>&lt;</span> <span class=mi>180</span><span class=p>;</span> <span class=n>position</span><span class=o>++</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>servomotor</span><span class=p>.</span><span class=nf>write</span><span class=p>(</span><span class=n>position</span><span class=p>);</span>                  <span class=c1>// posê°’ì˜ ìœ„ì¹˜ë¡œ ì´ë™
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nf>delay</span><span class=p>(</span><span class=mi>15</span><span class=p>);</span>                       
</span></span><span class=line><span class=cl>  <span class=p>}</span>                                 
</span></span><span class=line><span class=cl>  <span class=k>for</span><span class=p>(</span><span class=n>position</span> <span class=o>=</span> <span class=mi>180</span><span class=p>;</span> <span class=n>position</span> <span class=o>&gt;</span> <span class=mi>0</span><span class=p>;</span> <span class=n>position</span><span class=o>--</span><span class=p>)</span>  <span class=c1>// ê°™ì€ ë°©ë²•ìœ¼ë¡œ ì—­íšŒì „
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>servomotor</span><span class=p>.</span><span class=nf>write</span><span class=p>(</span><span class=n>position</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=nf>delay</span><span class=p>(</span><span class=mi>15</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div><ul><li>servomotor.write(ìˆ«ì)ë¥¼ ì‚¬ìš©í• ë•Œ, ìˆ«ìëŠ” í˜„ì¬ ìœ„ì¹˜ì—ì„œì˜ â€˜íšŒì „ê°â€™ì„ ì˜ë¯¸í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë‹¤!</li><li>ì´ˆê¸° ìœ„ì¹˜ë¥¼ 0Âºë¡œ ê¸°ì¤€ì‚¼ì•„, í‘œì‹œëœ ìˆ«ìì˜ ê°ë„ ìœ„ì¹˜ë¡œ ì´ë™í•˜ë¼ëŠ” ì˜ë¯¸ì´ë‹¤. ì˜ˆë¥¼ë“¤ì–´ì„œ servomotor.write(90)ì™€ servomotor.write(30)ì„ ì—°ì†ìœ¼ë¡œ ì‹¤í–‰í•˜ë©´,<ul><li>90ë„ë¥¼ íšŒì „í•œ ë’¤, ì¶”ê°€ë¡œ 30ë„ë¥¼ íšŒì „í•˜ì—¬ 120ë„ ìœ„ì¹˜ì— ìˆë‹¤ â†’ Ã—</li><li>90ë„ì˜ ìœ„ì¹˜ë¡œ íšŒì „í•œ ë’¤, ì—­íšŒì „í•˜ì—¬ (ì²˜ìŒìœ„ì¹˜ë¥¼ ê¸°ì¤€ìœ¼ë¡œ) 30ë„ì˜ ìœ„ì¹˜ë¡œ ì´ë™í•œë‹¤. â†’ â—‹</li></ul></li></ul><ul><li>ë‹¨, servo.h ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ë©´, ìŠ¤ì¼€ì¹˜ ë‚´ì—ì„œ analogWriteë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤ëŠ” ë‹¨ì ë„ ìˆë‹¤.</li></ul><br><h4 id=sketch-ì‹œë¦¬ì–¼ëª¨ë‹ˆí„°ì—ì„œ-ê°ë„ê°’ì„-ì…ë ¥ë°›ì•„-íšŒì „ì‹œí‚¤ê¸°>sketch: ì‹œë¦¬ì–¼ëª¨ë‹ˆí„°ì—ì„œ ê°ë„ê°’ì„ ì…ë ¥ë°›ì•„ íšŒì „ì‹œí‚¤ê¸°<a class=anchor href=#sketch-%ec%8b%9c%eb%a6%ac%ec%96%bc%eb%aa%a8%eb%8b%88%ed%84%b0%ec%97%90%ec%84%9c-%ea%b0%81%eb%8f%84%ea%b0%92%ec%9d%84-%ec%9e%85%eb%a0%a5%eb%b0%9b%ec%95%84-%ed%9a%8c%ec%a0%84%ec%8b%9c%ed%82%a4%ea%b8%b0>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-C data-lang=C><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;Servo.h&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=n>Servo</span> <span class=n>servomotor</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=n>a</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=nf>setup</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=n>servomotor</span><span class=p>.</span><span class=nf>attach</span><span class=p>(</span><span class=mi>10</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=n>Serial</span><span class=p>.</span><span class=nf>begin</span><span class=p>(</span><span class=mi>9600</span><span class=p>);</span>                  <span class=c1>// Serial í†µì‹ ì„ ì„¤ì •
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=k>while</span><span class=p>(</span><span class=o>!</span><span class=n>Serial</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=n>Serial</span><span class=p>.</span><span class=nf>println</span><span class=p>(</span><span class=s>&#34;Servor Mortor&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=nf>loop</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>if</span><span class=p>(</span><span class=n>Serial</span><span class=p>.</span><span class=nf>available</span><span class=p>()){</span>              <span class=c1>// Serial ëª¨ë‹ˆí„°ì°½ì— ì–´ë–¤ ê°’ì´ ë“¤ì–´ì˜¤ë©´ ì‹¤í–‰
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>a</span> <span class=o>=</span> <span class=n>Serial</span><span class=p>.</span><span class=nf>parseInt</span><span class=p>();</span>             <span class=c1>// Serial ëª¨ë‹ˆí„°ì°½ì—ì„œ ë°›ì€ ê°’ì„ aì— ë„˜ê²¨ì¤Œ
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>if</span><span class=p>(</span><span class=n>a</span><span class=o>&gt;=</span><span class=mi>0</span> <span class=o>&amp;&amp;</span> <span class=n>a</span><span class=o>&lt;=</span><span class=mi>180</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=n>Serial</span><span class=p>.</span><span class=nf>print</span><span class=p>(</span><span class=s>&#34;angle : &#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=n>Serial</span><span class=p>.</span><span class=nf>println</span><span class=p>(</span><span class=n>a</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=n>servomotor</span><span class=p>.</span><span class=nf>write</span><span class=p>(</span><span class=n>a</span><span class=p>);</span>             <span class=c1>// aê°’ì— í•´ë‹¹í•˜ëŠ” ê°ë„ì˜ ìœ„ì¹˜ë¡œ ì´ë™
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=nf>delay</span><span class=p>(</span><span class=mi>15</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div><br><br><h3 id=ì„œë³´ëª¨í„°-sg-90-ë¼ì´ë¸ŒëŸ¬ë¦¬-ì—†ì´-ì‚¬ìš©í•˜ê¸°>ì„œë³´ëª¨í„° SG-90: ë¼ì´ë¸ŒëŸ¬ë¦¬ ì—†ì´ ì‚¬ìš©í•˜ê¸°<a class=anchor href=#%ec%84%9c%eb%b3%b4%eb%aa%a8%ed%84%b0-sg-90-%eb%9d%bc%ec%9d%b4%eb%b8%8c%eb%9f%ac%eb%a6%ac-%ec%97%86%ec%9d%b4-%ec%82%ac%ec%9a%a9%ed%95%98%ea%b8%b0>#</a></h3><h4 id=for-sg90-with-arduino>for SG90 with Arduino<a class=anchor href=#for-sg90-with-arduino>#</a></h4><ul><li>Frequency of that signal should be 50hz.</li><li>Its range is 544-2450 micro seconds for 0-180 degree angle.</li><li>Again its a little complex.</li><li>For example 0 degree signal will be something like 5 volts for 544 micro seconds and 0 volt for 19465.</li><li>highDelay<ul><li>the time in which we want to keep voltage high on pin 10 and this unit is in micro seconds.</li></ul></li><li>lowDelay<ul><li>the time in which want to keep voltage zero across pin 10 again this unit is going to be in micro seconds</li></ul></li><li>only HIGH part of signal wont operate servo. we have to send complete HIGH and LOW signal to make servo work.</li><li>deg_factor<ul><li>signal range (2450 - 544) for SG90 divided by 180 which is equal to 10.6 something that we make 11 as an integer.</li></ul></li><li>Loop = 20000;<ul><li>20000 micro seconds or 20 milli seconds is signal cycle or u can say total signal should be equal to 20 milli seconds including HIGH and LOW input. (50Hz)</li></ul></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-C data-lang=C><span class=line><span class=cl><span class=kt>int</span> <span class=n>servoPin</span> <span class=o>=</span> <span class=mi>10</span><span class=p>;</span>        <span class=c1>// servo is connected to pin 10.
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kt>int</span> <span class=n>initialDelay</span> <span class=o>=</span> <span class=mi>544</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=n>highDelay</span><span class=p>,</span> <span class=n>lowDelay</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=n>deg</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=n>deg_factor</span> <span class=o>=</span> <span class=mi>10</span><span class=p>;</span>      
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=n>Loop</span> <span class=o>=</span> <span class=mi>20000</span><span class=p>;</span>         
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=nf>setup</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nf>pinMode</span> <span class=p>(</span><span class=n>servoPin</span><span class=p>,</span> <span class=n>OUTPUT</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=nf>loop</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>for</span> <span class=p>(</span><span class=n>deg</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span><span class=n>deg</span> <span class=o>&lt;=</span> <span class=mi>180</span><span class=p>;</span> <span class=n>deg</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nf>servoWrite</span><span class=p>(</span><span class=n>servoPin</span><span class=p>,</span> <span class=n>deg</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=k>for</span> <span class=p>(</span><span class=n>deg</span> <span class=o>=</span> <span class=mi>180</span><span class=p>;</span><span class=n>deg</span> <span class=o>&gt;=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>deg</span><span class=o>--</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nf>servoWrite</span><span class=p>(</span><span class=n>servoPin</span><span class=p>,</span> <span class=n>deg</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=nf>servoWrite</span><span class=p>(</span><span class=kt>int</span> <span class=n>servo</span><span class=p>,</span> <span class=kt>int</span> <span class=n>duty</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=n>highDelay</span> <span class=o>=</span> <span class=n>initialDelay</span> <span class=o>+</span> <span class=p>(</span><span class=n>duty</span> <span class=o>*</span> <span class=n>deg_factor</span><span class=p>);</span> <span class=c1>// setting angle
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>  <span class=nf>digitalWrite</span><span class=p>(</span><span class=n>servo</span><span class=p>,</span> <span class=n>HIGH</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=nf>delayMicroseconds</span><span class=p>(</span><span class=n>highDelay</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=n>lowDelay</span> <span class=o>=</span> <span class=n>Loop</span> <span class=o>-</span> <span class=n>highDelay</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=nf>digitalWrite</span><span class=p>(</span><span class=n>servo</span><span class=p>,</span> <span class=n>LOW</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=nf>delayMicroseconds</span><span class=p>(</span><span class=n>lowDelay</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nf>delay</span><span class=p>(</span><span class=mi>500</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div><br><h4 id=ì‹œë¦¬ì–¼-ëª¨ë‹ˆí„°ì—-ì…ë ¥í•œ-ë¬¸ìë¡œ-ì„œë³´ëª¨í„°-íšŒì „ì‹œí‚¤ê¸°>ì‹œë¦¬ì–¼ ëª¨ë‹ˆí„°ì— ì…ë ¥í•œ ë¬¸ìë¡œ ì„œë³´ëª¨í„° íšŒì „ì‹œí‚¤ê¸°<a class=anchor href=#%ec%8b%9c%eb%a6%ac%ec%96%bc-%eb%aa%a8%eb%8b%88%ed%84%b0%ec%97%90-%ec%9e%85%eb%a0%a5%ed%95%9c-%eb%ac%b8%ec%9e%90%eb%a1%9c-%ec%84%9c%eb%b3%b4%eb%aa%a8%ed%84%b0-%ed%9a%8c%ec%a0%84%ec%8b%9c%ed%82%a4%ea%b8%b0>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-C data-lang=C><span class=line><span class=cl><span class=kt>int</span> <span class=n>servoPin</span> <span class=o>=</span> <span class=mi>10</span><span class=p>;</span>        <span class=c1>// servo is connected to pin 10.
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kt>int</span> <span class=n>initialDelay</span> <span class=o>=</span> <span class=mi>544</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=n>highDelay</span><span class=p>,</span> <span class=n>lowDelay</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=n>deg</span> <span class=o>=</span> <span class=mi>90</span><span class=p>;</span>             <span class=c1>// servo initial degree
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kt>int</span> <span class=n>deg_factor</span> <span class=o>=</span> <span class=mi>10</span><span class=p>;</span>      
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=n>Loop</span> <span class=o>=</span> <span class=mi>20000</span><span class=p>;</span>         
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=nf>setup</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=n>Serial</span><span class=p>.</span><span class=nf>begin</span><span class=p>(</span><span class=mi>9600</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=nf>pinMode</span> <span class=p>(</span><span class=n>servoPin</span><span class=p>,</span> <span class=n>OUTPUT</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=nf>loop</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nf>servoWrite</span><span class=p>(</span><span class=n>servoPin</span><span class=p>,</span> <span class=n>deg</span><span class=p>);</span>  
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>  <span class=k>while</span><span class=p>(</span><span class=n>Serial</span><span class=p>.</span><span class=nf>available</span><span class=p>()</span> <span class=o>&gt;</span> <span class=mi>0</span><span class=p>)</span> 
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kt>char</span> <span class=n>flag</span><span class=o>=</span><span class=n>Serial</span><span class=p>.</span><span class=nf>read</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=nf>delay</span><span class=p>(</span><span class=mi>2</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      
</span></span><span class=line><span class=cl>    <span class=k>if</span><span class=p>(</span><span class=n>flag</span><span class=o>==</span><span class=sc>&#39;l&#39;</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>deg</span> <span class=o>=</span> <span class=n>deg</span> <span class=o>-</span> <span class=mi>5</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span><span class=p>(</span><span class=n>deg</span> <span class=o>&lt;</span> <span class=mi>0</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=n>deg</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=k>if</span><span class=p>(</span><span class=n>flag</span><span class=o>==</span><span class=sc>&#39;r&#39;</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>deg</span> <span class=o>=</span> <span class=n>deg</span> <span class=o>+</span> <span class=mi>5</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span><span class=p>(</span><span class=n>deg</span> <span class=o>&gt;</span> <span class=mi>180</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=n>deg</span> <span class=o>=</span> <span class=mi>180</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>      
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=nf>servoWrite</span><span class=p>(</span><span class=kt>int</span> <span class=n>servo</span><span class=p>,</span> <span class=kt>int</span> <span class=n>duty</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=n>highDelay</span> <span class=o>=</span> <span class=n>initialDelay</span> <span class=o>+</span> <span class=p>(</span><span class=n>duty</span> <span class=o>*</span> <span class=n>deg_factor</span><span class=p>);</span> <span class=c1>// setting angle
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>  <span class=nf>digitalWrite</span><span class=p>(</span><span class=n>servo</span><span class=p>,</span> <span class=n>HIGH</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=nf>delayMicroseconds</span><span class=p>(</span><span class=n>highDelay</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=n>lowDelay</span> <span class=o>=</span> <span class=n>Loop</span> <span class=o>-</span> <span class=n>highDelay</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=nf>digitalWrite</span><span class=p>(</span><span class=n>servo</span><span class=p>,</span> <span class=n>LOW</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=nf>delayMicroseconds</span><span class=p>(</span><span class=n>lowDelay</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nf>delay</span><span class=p>(</span><span class=mi>500</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div><ul><li>l ì„ ì…ë ¥í•˜ë©´, 5ë„ ì¢ŒíšŒì „í•˜ë©°, llì„ ì…ë ¥í•˜ë©´ 10ë„ ì¢ŒíšŒì „í•œë‹¤.</li><li>r ì„ ì…ë ¥í•˜ë©´, 5ë„ ìš°íšŒì „í•˜ë©°, rrì„ ì…ë ¥í•˜ë©´ 10ë„ ìš°íšŒì „í•œë‹¤.</li></ul><br><br><h3 id=ì„œë³´ëª¨í„°ì™€-ì¸í„°ëŸ½íŠ¸-ë™ì‹œì—-ì‚¬ìš©í•˜ê¸°>ì„œë³´ëª¨í„°ì™€ ì¸í„°ëŸ½íŠ¸ ë™ì‹œì— ì‚¬ìš©í•˜ê¸°<a class=anchor href=#%ec%84%9c%eb%b3%b4%eb%aa%a8%ed%84%b0%ec%99%80-%ec%9d%b8%ed%84%b0%eb%9f%bd%ed%8a%b8-%eb%8f%99%ec%8b%9c%ec%97%90-%ec%82%ac%ec%9a%a9%ed%95%98%ea%b8%b0>#</a></h3><p>ì„œë³´ëª¨í„°ê°€ 180ë„ íšŒì „í•˜ëŠ” ë™ì•ˆ, ìŠ¤ìœ„ì¹˜ë¥¼ ëˆ„ë¥´ë©´ 13ë²ˆ LEDê°€ í† ê¸€ë˜ë„ë¡ ë§Œë“¤ì–´ë³´ì.</p><br><h4 id=schematic-1>schematic<a class=anchor href=#schematic-1>#</a></h4><figure class=center style=width:75%><img src=/image/SG90_Interrupt01.png alt=/image/SG90_Interrupt01.png></figure><br><h4 id=sketch>sketch<a class=anchor href=#sketch>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-C data-lang=C><span class=line><span class=cl><span class=kt>int</span> <span class=n>servoPin</span> <span class=o>=</span> <span class=mi>10</span><span class=p>;</span>        <span class=c1>// servo is connected to pin 10.
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kt>int</span> <span class=n>initialDelay</span> <span class=o>=</span> <span class=mi>544</span><span class=p>;</span>   
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=n>highDelay</span><span class=p>,</span> <span class=n>lowDelay</span><span class=p>;</span>  
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=n>deg</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=n>deg_factor</span> <span class=o>=</span> <span class=mi>10</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=n>Loop</span> <span class=o>=</span> <span class=mi>20000</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=cp>#define swPin 2
</span></span></span><span class=line><span class=cl><span class=cp>#define ledPin 13
</span></span></span><span class=line><span class=cl><span class=cp>#define debounceTime 500 </span><span class=c1>// Set debounce Time (unit ms) ë²„íŠ¼ì„ ëˆ„ë¥¸ í›„ 0.5sec ì´ë‚´ì—ëŠ” ë²„íŠ¼ ì²´í¬í•˜ì§€ ì•ŠìŒ
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=n>boolean</span> <span class=n>state</span> <span class=o>=</span> <span class=nb>false</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=nf>setup</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nf>pinMode</span><span class=p>(</span><span class=n>servoPin</span><span class=p>,</span> <span class=n>OUTPUT</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=nf>pinMode</span><span class=p>(</span><span class=n>swPin</span><span class=p>,</span> <span class=n>INPUT_PULLUP</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=nf>pinMode</span><span class=p>(</span><span class=n>ledPin</span><span class=p>,</span> <span class=n>OUTPUT</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=nf>attachInterrupt</span><span class=p>(</span><span class=nf>digitalPinToInterrupt</span><span class=p>(</span><span class=n>swPin</span><span class=p>),</span> <span class=n>swInterrupt</span><span class=p>,</span> <span class=n>FALLING</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=nf>loop</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>for</span> <span class=p>(</span><span class=n>deg</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span><span class=n>deg</span> <span class=o>&lt;=</span> <span class=mi>180</span><span class=p>;</span> <span class=n>deg</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nf>servoWrite</span><span class=p>(</span><span class=n>servoPin</span><span class=p>,</span> <span class=n>deg</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=k>for</span> <span class=p>(</span><span class=n>deg</span> <span class=o>=</span> <span class=mi>180</span><span class=p>;</span><span class=n>deg</span> <span class=o>&gt;=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>deg</span><span class=o>--</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nf>servoWrite</span><span class=p>(</span><span class=n>servoPin</span><span class=p>,</span> <span class=n>deg</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=nf>servoWrite</span><span class=p>(</span><span class=kt>int</span> <span class=n>servo</span><span class=p>,</span> <span class=kt>int</span> <span class=n>duty</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=n>highDelay</span> <span class=o>=</span> <span class=n>initialDelay</span> <span class=o>+</span> <span class=p>(</span><span class=n>duty</span> <span class=o>*</span> <span class=n>deg_factor</span><span class=p>);</span> <span class=c1>// setting angle
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>  <span class=nf>digitalWrite</span><span class=p>(</span><span class=n>servo</span><span class=p>,</span> <span class=n>HIGH</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=nf>delayMicroseconds</span><span class=p>(</span><span class=n>highDelay</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=n>lowDelay</span> <span class=o>=</span> <span class=n>Loop</span> <span class=o>-</span> <span class=n>highDelay</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=nf>digitalWrite</span><span class=p>(</span><span class=n>servo</span><span class=p>,</span> <span class=n>LOW</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=nf>delayMicroseconds</span><span class=p>(</span><span class=n>lowDelay</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nf>delay</span> <span class=p>(</span><span class=mi>15</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=nf>swInterrupt</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>static</span> <span class=kt>unsigned</span> <span class=kt>long</span> <span class=n>lastTime</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=kt>unsigned</span> <span class=kt>long</span> <span class=n>now</span> <span class=o>=</span> <span class=nf>millis</span><span class=p>();</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=k>if</span><span class=p>((</span><span class=n>now</span><span class=o>-</span><span class=n>lastTime</span><span class=p>)</span> <span class=o>&gt;</span> <span class=n>debounceTime</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>state</span><span class=o>=!</span><span class=n>state</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=n>lastTime</span> <span class=o>=</span> <span class=n>now</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=nf>digitalWrite</span><span class=p>(</span><span class=n>ledPin</span><span class=p>,</span> <span class=n>state</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div><ul><li>ìŠ¤ìœ„ì¹˜ë¥¼ ëˆŒë €ë‹¤ ë—„ ë•Œ, ë¬¼ë¦¬ì  ìš”ì¸ì— ì˜í•´ ë‹¤ì‹œ ìŠ¤ìœ„ì¹˜ê°€ ëˆŒë¦¬ëŠ” íš¨ê³¼ê°€ ë‚˜íƒ€ë‚˜ê¸°ë„ í•¨ (chattering)</li><li>Chattering íš¨ê³¼ë¥¼ ë°©ì§€í•˜ê¸° ìœ„í•´, í•˜ë“œì›¨ì–´ì ìœ¼ë¡œ ì½˜ë´ì„œë¥¼ ë¶™ì´ê±°ë‚˜, ì†Œí”„íŠ¸ì›¨ì–´ì ìœ¼ë¡œ debounce ì‹œê°„ì„ ë§Œë“¤ì–´ í•´ê²°í•´ì•¼ í•œë‹¤.</li></ul><br><br><h3 id=ë ˆì´ì €-ëª¨ë“ˆ-ì¶”ê°€-ì„œë³´ëª¨í„°-ë‚ ê°œì—-ë¶€ì°©>ë ˆì´ì € ëª¨ë“ˆ ì¶”ê°€: ì„œë³´ëª¨í„° ë‚ ê°œì— ë¶€ì°©<a class=anchor href=#%eb%a0%88%ec%9d%b4%ec%a0%80-%eb%aa%a8%eb%93%88-%ec%b6%94%ea%b0%80-%ec%84%9c%eb%b3%b4%eb%aa%a8%ed%84%b0-%eb%82%a0%ea%b0%9c%ec%97%90-%eb%b6%80%ec%b0%a9>#</a></h3><h4 id=schematic-2>schematic<a class=anchor href=#schematic-2>#</a></h4><figure class=center style=width:75%><img src=/image/SG90_Interrupt02.png alt=/image/SG90_Interrupt02.png></figure><br><h4 id=sketch-1>sketch<a class=anchor href=#sketch-1>#</a></h4><p>13ë²ˆ í•€ì— ë ˆì´ì €ëª¨ë“ˆì„ ì—°ê²°í•˜ë¯€ë¡œ ìœ„ ìŠ¤ì¼€ì¹˜ë¥¼ ê·¸ëŒ€ë¡œ ì´ìš©</p><br><br><h3 id=ì¡°ë„ì„¼ì„œ-ì¶”ê°€>ì¡°ë„ì„¼ì„œ ì¶”ê°€<a class=anchor href=#%ec%a1%b0%eb%8f%84%ec%84%bc%ec%84%9c-%ec%b6%94%ea%b0%80>#</a></h3><p>ë°˜ëŒ€í¸ì— ì¡°ë„ì„¼ì„œë¥¼ ë†“ê³ , ë ˆì´ì € ëª¨ë“ˆì´ ì›€ì§ì´ëŠ” ë™ì•ˆ ë²„íŠ¼ì„ ëˆŒëŸ¬ ì¡°ë„ì„¼ì„œë¥¼ ì •í™•í•˜ê²Œ ë§ì¶”ë©´ ì ìˆ˜ê°€ ì˜¬ë¼ê°€ëŠ” ê²Œì„ì„ ë§Œë“¤ì–´ë³´ì.</p><br><br><h3 id=keypadì—ì„œ-ê°’ì„-ì…ë ¥ë°›ì•„-íšŒì „ì‹œí‚¤ê¸°>Keypadì—ì„œ ê°’ì„ ì…ë ¥ë°›ì•„ íšŒì „ì‹œí‚¤ê¸°<a class=anchor href=#keypad%ec%97%90%ec%84%9c-%ea%b0%92%ec%9d%84-%ec%9e%85%eb%a0%a5%eb%b0%9b%ec%95%84-%ed%9a%8c%ec%a0%84%ec%8b%9c%ed%82%a4%ea%b8%b0>#</a></h3><h4 id=schematic-3>schematic<a class=anchor href=#schematic-3>#</a></h4><figure class=center style=width:75%><img src=/image/servo-03.jpg alt=/image/servo-03.jpg></figure><br><h4 id=sketch-2>sketch<a class=anchor href=#sketch-2>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-C data-lang=C><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;Servo.h&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;Keypad.h&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span>
</span></span><span class=line><span class=cl><span class=n>Servo</span> <span class=n>servomotor</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=n>pos</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>const</span> <span class=n>byte</span> <span class=n>ROWS</span> <span class=o>=</span> <span class=mi>4</span><span class=p>;</span>                          <span class=c1>// í‚¤íŒ¨ë“œ ë°°ì—´ ì„ ì–¸
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>const</span> <span class=n>byte</span> <span class=n>COLS</span> <span class=o>=</span> <span class=mi>4</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>char</span> <span class=n>keys</span><span class=p>[</span><span class=n>ROWS</span><span class=p>][</span><span class=n>COLS</span><span class=p>]</span> <span class=o>=</span> <span class=p>{</span>                     <span class=c1>// í‚¤íŒ¨ë“œ ì •ì˜
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>{</span><span class=sc>&#39;1&#39;</span><span class=p>,</span><span class=sc>&#39;2&#39;</span><span class=p>,</span><span class=sc>&#39;3&#39;</span><span class=p>,</span><span class=sc>&#39;A&#39;</span><span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span><span class=sc>&#39;4&#39;</span><span class=p>,</span><span class=sc>&#39;5&#39;</span><span class=p>,</span><span class=sc>&#39;6&#39;</span><span class=p>,</span><span class=sc>&#39;B&#39;</span><span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span><span class=sc>&#39;7&#39;</span><span class=p>,</span><span class=sc>&#39;8&#39;</span><span class=p>,</span><span class=sc>&#39;9&#39;</span><span class=p>,</span><span class=sc>&#39;C&#39;</span><span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span><span class=sc>&#39;*&#39;</span><span class=p>,</span><span class=sc>&#39;0&#39;</span><span class=p>,</span><span class=sc>&#39;#&#39;</span><span class=p>,</span><span class=sc>&#39;D&#39;</span><span class=p>},</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>byte</span> <span class=n>rowPins</span><span class=p>[</span><span class=n>ROWS</span><span class=p>]</span> <span class=o>=</span> <span class=p>{</span><span class=mi>9</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=mi>7</span><span class=p>,</span> <span class=mi>6</span><span class=p>};</span>            <span class=c1>// í‚¤íŒ¨ë“œ ì—°ê²° í•€ ì„¤ì •
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>byte</span> <span class=n>colPins</span><span class=p>[</span><span class=n>COLS</span><span class=p>]</span> <span class=o>=</span> <span class=p>{</span><span class=mi>5</span><span class=p>,</span> <span class=mi>4</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>2</span><span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>Keypad</span> <span class=n>keypad</span> <span class=o>=</span> <span class=nf>Keypad</span><span class=p>(</span> <span class=nf>makeKeymap</span><span class=p>(</span><span class=n>keys</span><span class=p>),</span> <span class=n>rowPins</span><span class=p>,</span> <span class=n>colPins</span><span class=p>,</span> <span class=n>ROWS</span><span class=p>,</span> <span class=n>COLS</span> <span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=nf>setup</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=n>servomotor</span><span class=p>.</span><span class=nf>attach</span><span class=p>(</span><span class=mi>10</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=nf>loop</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kt>char</span> <span class=n>keyValue</span> <span class=o>=</span> <span class=n>keypad</span><span class=p>.</span><span class=nf>getKey</span><span class=p>();</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=k>if</span><span class=p>(</span><span class=n>keyValue</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>     <span class=k>switch</span><span class=p>(</span><span class=n>keyValue</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=k>case</span> <span class=sc>&#39;0&#39;</span> <span class=o>:</span>                    <span class=c1>// ì‹œë¦¬ì–¼ ëª¨ë‹ˆí„°ì— 0ì„ ì…ë ¥í•˜ë©´
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=n>servomotor</span><span class=p>.</span><span class=nf>write</span><span class=p>(</span><span class=mi>0</span><span class=p>);</span>       <span class=c1>// 0ë„ ìœ„ì¹˜ë¡œ ì´ë™
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=nf>delay</span><span class=p>(</span><span class=mi>15</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=k>break</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=k>case</span> <span class=sc>&#39;1&#39;</span> <span class=o>:</span>                    <span class=c1>// ì‹œë¦¬ì–¼ ëª¨ë‹ˆí„°ì— 1ì„ ì…ë ¥í•˜ë©´
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=n>servomotor</span><span class=p>.</span><span class=nf>write</span><span class=p>(</span><span class=mi>15</span><span class=p>);</span>       <span class=c1>// 15ë„ ìœ„ì¹˜ë¡œ ì´ë™
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=nf>delay</span><span class=p>(</span><span class=mi>15</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=k>break</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=k>case</span> <span class=sc>&#39;2&#39;</span> <span class=o>:</span>
</span></span><span class=line><span class=cl>        <span class=n>servomotor</span><span class=p>.</span><span class=nf>write</span><span class=p>(</span><span class=mi>30</span><span class=p>);</span>       <span class=c1>// 30ë„ ìœ„ì¹˜ë¡œ ì´ë™
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=nf>delay</span><span class=p>(</span><span class=mi>15</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=k>break</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=k>case</span> <span class=sc>&#39;3&#39;</span> <span class=o>:</span>
</span></span><span class=line><span class=cl>        <span class=n>servomotor</span><span class=p>.</span><span class=nf>write</span><span class=p>(</span><span class=mi>45</span><span class=p>);</span>       <span class=c1>// 45ë„ ìœ„ì¹˜ë¡œ ì´ë™
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=nf>delay</span><span class=p>(</span><span class=mi>15</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=k>break</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=k>case</span> <span class=sc>&#39;4&#39;</span> <span class=o>:</span>
</span></span><span class=line><span class=cl>        <span class=n>servomotor</span><span class=p>.</span><span class=nf>write</span><span class=p>(</span><span class=mi>60</span><span class=p>);</span>       <span class=c1>// 60ë„ ìœ„ì¹˜ë¡œ ì´ë™
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=nf>delay</span><span class=p>(</span><span class=mi>15</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=k>break</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=k>case</span> <span class=sc>&#39;5&#39;</span> <span class=o>:</span>
</span></span><span class=line><span class=cl>        <span class=n>servomotor</span><span class=p>.</span><span class=nf>write</span><span class=p>(</span><span class=mi>75</span><span class=p>);</span>       <span class=c1>// 75ë„ ìœ„ì¹˜ë¡œ ì´ë™
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=nf>delay</span><span class=p>(</span><span class=mi>15</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=k>break</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=k>case</span> <span class=sc>&#39;6&#39;</span> <span class=o>:</span>
</span></span><span class=line><span class=cl>        <span class=n>servomotor</span><span class=p>.</span><span class=nf>write</span><span class=p>(</span><span class=mi>90</span><span class=p>);</span>       <span class=c1>// 90ë„ ìœ„ì¹˜ë¡œ ì´ë™
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=nf>delay</span><span class=p>(</span><span class=mi>15</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=k>break</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=k>case</span> <span class=sc>&#39;7&#39;</span> <span class=o>:</span>
</span></span><span class=line><span class=cl>        <span class=n>servomotor</span><span class=p>.</span><span class=nf>write</span><span class=p>(</span><span class=mi>120</span><span class=p>);</span>       <span class=c1>// 120ë„ ìœ„ì¹˜ë¡œ ì´ë™
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=nf>delay</span><span class=p>(</span><span class=mi>15</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=k>break</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=k>case</span> <span class=sc>&#39;8&#39;</span> <span class=o>:</span>
</span></span><span class=line><span class=cl>        <span class=n>servomotor</span><span class=p>.</span><span class=nf>write</span><span class=p>(</span><span class=mi>150</span><span class=p>);</span>       <span class=c1>// 150ë„ ìœ„ì¹˜ë¡œ ì´ë™
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=nf>delay</span><span class=p>(</span><span class=mi>15</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=k>break</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=k>case</span> <span class=sc>&#39;9&#39;</span> <span class=o>:</span>
</span></span><span class=line><span class=cl>        <span class=n>servomotor</span><span class=p>.</span><span class=nf>write</span><span class=p>(</span><span class=mi>180</span><span class=p>);</span>       <span class=c1>// 180ë„ ìœ„ì¹˜ë¡œ ì´ë™
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=nf>delay</span><span class=p>(</span><span class=mi>15</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=k>break</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=k>default</span> <span class=o>:</span>
</span></span><span class=line><span class=cl>        <span class=k>break</span><span class=p>;</span>
</span></span><span class=line><span class=cl>     <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=nf>delay</span><span class=p>(</span><span class=mi>10</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div><br><br><h3 id=ë¹„ë°€ë²ˆí˜¸-í™•ì¸í•˜ì—¬-ì„œë³´ëª¨í„°-íšŒì „ì‹œí‚¤ê¸°>ë¹„ë°€ë²ˆí˜¸ í™•ì¸í•˜ì—¬ ì„œë³´ëª¨í„° íšŒì „ì‹œí‚¤ê¸°<a class=anchor href=#%eb%b9%84%eb%b0%80%eb%b2%88%ed%98%b8-%ed%99%95%ec%9d%b8%ed%95%98%ec%97%ac-%ec%84%9c%eb%b3%b4%eb%aa%a8%ed%84%b0-%ed%9a%8c%ec%a0%84%ec%8b%9c%ed%82%a4%ea%b8%b0>#</a></h3><p>ì„œë³´ëª¨í„°ì˜ ë‚ ê°œë¥¼ ê¸ˆê³ ì˜ ê°œíì¥ì¹˜ë¡œ ì‚¬ìš©í•˜ì—¬, ë¹„ë°€ë²ˆí˜¸ ê¸ˆê³ ë¥¼ ë§Œë“¤ì–´ ë³´ì.</p><br><h4 id=sketch-3>sketch<a class=anchor href=#sketch-3>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-C data-lang=C><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;Keypad.h&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;Servo.h&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=n>tru</span><span class=o>=</span><span class=mi>0</span><span class=p>;</span>                        <span class=c1>// ë¹„ë°€ë²ˆí˜¸ê°€ ë§ëŠ”ì§€ í™•ì¸
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kt>int</span> <span class=n>count</span><span class=o>=</span><span class=mi>0</span><span class=p>;</span>                      <span class=c1>// 4ìë¦¬ìˆ˜ ì¹´ìš´íŠ¸
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kt>char</span> <span class=n>PW</span><span class=p>[</span><span class=mi>4</span><span class=p>]</span><span class=o>=</span><span class=p>{</span><span class=sc>&#39;1&#39;</span><span class=p>,</span><span class=sc>&#39;2&#39;</span><span class=p>,</span><span class=sc>&#39;3&#39;</span><span class=p>,</span><span class=sc>&#39;A&#39;</span><span class=p>};</span>     <span class=c1>//ë¹„ë°€ë²ˆí˜¸
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=n>Servo</span> <span class=n>servomotor</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// í‚¤íŒ¨ë“œ ì„¤ì • ì‹œì‘
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>const</span> <span class=n>byte</span> <span class=n>ROWS</span> <span class=o>=</span> <span class=mi>4</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>const</span> <span class=n>byte</span> <span class=n>COLS</span> <span class=o>=</span> <span class=mi>4</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>byte</span> <span class=n>rowPins</span><span class=p>[</span><span class=n>ROWS</span><span class=p>]</span> <span class=o>=</span> <span class=p>{</span><span class=mi>9</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=mi>7</span><span class=p>,</span> <span class=mi>6</span><span class=p>};</span>
</span></span><span class=line><span class=cl><span class=n>byte</span> <span class=n>colPins</span><span class=p>[</span><span class=n>COLS</span><span class=p>]</span> <span class=o>=</span> <span class=p>{</span><span class=mi>5</span><span class=p>,</span> <span class=mi>4</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>2</span><span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>char</span> <span class=n>keys</span><span class=p>[</span><span class=n>ROWS</span><span class=p>][</span><span class=n>COLS</span><span class=p>]</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span><span class=sc>&#39;1&#39;</span><span class=p>,</span><span class=sc>&#39;2&#39;</span><span class=p>,</span><span class=sc>&#39;3&#39;</span><span class=p>,</span> <span class=sc>&#39;A&#39;</span><span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span><span class=sc>&#39;4&#39;</span><span class=p>,</span><span class=sc>&#39;5&#39;</span><span class=p>,</span><span class=sc>&#39;6&#39;</span><span class=p>,</span> <span class=sc>&#39;B&#39;</span><span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span><span class=sc>&#39;7&#39;</span><span class=p>,</span><span class=sc>&#39;8&#39;</span><span class=p>,</span><span class=sc>&#39;9&#39;</span><span class=p>,</span> <span class=sc>&#39;C&#39;</span><span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span><span class=sc>&#39;*&#39;</span><span class=p>,</span><span class=sc>&#39;0&#39;</span><span class=p>,</span><span class=sc>&#39;#&#39;</span><span class=p>,</span> <span class=sc>&#39;D&#39;</span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>Keypad</span> <span class=n>keypad</span> <span class=o>=</span> <span class=nf>Keypad</span><span class=p>(</span> <span class=nf>makeKeymap</span><span class=p>(</span><span class=n>keys</span><span class=p>),</span> <span class=n>rowPins</span><span class=p>,</span> <span class=n>colPins</span><span class=p>,</span> <span class=n>ROWS</span><span class=p>,</span> <span class=n>COLS</span> <span class=p>);</span>
</span></span><span class=line><span class=cl><span class=c1>// í‚¤íŒ¨ë“œ ì„¤ì • ë
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=nf>setup</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=n>Serial</span><span class=p>.</span><span class=nf>begin</span><span class=p>(</span><span class=mi>9600</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=n>servomotor</span><span class=p>.</span><span class=nf>attach</span><span class=p>(</span><span class=mi>10</span><span class=p>);</span>          <span class=c1>// ì„œë³´ëª¨í„° í•€ ì„¤ì •
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=nf>loop</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kt>char</span> <span class=n>key</span> <span class=o>=</span> <span class=n>keypad</span><span class=p>.</span><span class=nf>getKey</span><span class=p>();</span>     <span class=c1>// í‚¤íŒ¨ë“œ ì…ë ¥ ë³€ìˆ˜
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=p>(</span><span class=n>key</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>Serial</span><span class=p>.</span><span class=nf>println</span><span class=p>(</span><span class=n>key</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span><span class=p>(</span><span class=n>key</span><span class=o>==</span><span class=n>PW</span><span class=p>[</span><span class=n>count</span><span class=p>])</span> <span class=p>{</span>          <span class=c1>// ì…ë ¥ë²ˆí˜¸ì™€ ë¹„ë°€ë²ˆí˜¸ê°€ ë§ìœ¼ë©´
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=n>count</span><span class=o>++</span><span class=p>;</span>                  <span class=c1>// ìë¦¬ìˆ˜ ì¹´ìš´íŠ¸ 1ì¦ê°€
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=n>tru</span><span class=o>++</span><span class=p>;</span>                    <span class=c1>// ë§ì€ìˆ˜ ê°’ 1ì¦ê°€
</span></span></span><span class=line><span class=cl><span class=c1></span>     <span class=p>}</span>
</span></span><span class=line><span class=cl>     <span class=k>else</span> <span class=k>if</span><span class=p>(</span><span class=n>key</span><span class=o>!=</span><span class=n>PW</span><span class=p>[</span><span class=n>count</span><span class=p>])</span> <span class=p>{</span>    <span class=c1>// ì…ë ¥ë²ˆí˜¸ì™€ ë¹„ë°€ë²ˆí˜¸ê°€ í‹€ë¦¬ë©´
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=n>count</span><span class=o>++</span><span class=p>;</span>                  <span class=c1>// ìë¦¬ìˆ˜ ì¹´ìš´íŠ¸ ê°’ë§Œ 1ì¦ê°€
</span></span></span><span class=line><span class=cl><span class=c1></span>     <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>     <span class=k>if</span><span class=p>(</span><span class=n>key</span><span class=o>==</span><span class=sc>&#39;#&#39;</span><span class=p>)</span>                 <span class=c1>// #ì„ ëˆ„ë¥´ë©´
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=nf>re</span><span class=p>();</span>                     <span class=c1>// ì´ˆê¸°í™”
</span></span></span><span class=line><span class=cl><span class=c1></span>     <span class=k>if</span><span class=p>(</span><span class=n>count</span><span class=o>==</span><span class=mi>4</span><span class=p>)</span> <span class=p>{</span>               <span class=c1>// 4ìë¦¬ ì…ë ¥ë°›ì€ ê°’ì´
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>if</span><span class=p>(</span><span class=n>tru</span><span class=o>==</span><span class=mi>4</span><span class=p>)</span>                <span class=c1>// ëª¨ë‘ ë§ìœ¼ë©´
</span></span></span><span class=line><span class=cl><span class=c1></span>          <span class=nf>Su</span><span class=p>();</span>                   <span class=c1>// ì„±ê³µ
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>else</span>                      <span class=c1>// ê·¸ë ‡ì§€ ì•Šìœ¼ë©´(4ìë¦¬ëŠ” ì…ë ¥í–ˆëŠ”ë°, ëª¨ë‘ ë§ì§€ëŠ” ì•Šì•˜ìœ¼ë©´)
</span></span></span><span class=line><span class=cl><span class=c1></span>          <span class=nf>Fa</span><span class=p>();</span>                   <span class=c1>// ì‹¤íŒ¨
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=n>tru</span><span class=o>=</span><span class=mi>0</span><span class=p>;</span>                    <span class=c1>// tru, countê°’ ì´ˆê¸°í™”
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=n>count</span><span class=o>=</span><span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>   <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=nf>Su</span><span class=p>()</span> <span class=p>{</span>                          <span class=c1>// ì„±ê³µí–ˆì„ ë•Œ ì‹¤í–‰
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=n>servomotor</span><span class=p>.</span><span class=nf>write</span><span class=p>(</span><span class=mi>90</span><span class=p>);</span>              <span class=c1>// 90ë„ ëŒë ¤ì„œ ë„ì–´ë½ ì—´ë¦¼
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=n>Serial</span><span class=p>.</span><span class=nf>println</span><span class=p>(</span><span class=s>&#34;open the door&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=nf>Fa</span><span class=p>()</span> <span class=p>{</span>                        <span class=c1>// ì‹¤íŒ¨í•œ ê²½ìš°ëŠ” ë„ì–´ë½ ì ê¸ˆ ìœ ì§€
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=n>servomotor</span><span class=p>.</span><span class=nf>write</span><span class=p>(</span><span class=mi>0</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=n>Serial</span><span class=p>.</span><span class=nf>println</span><span class=p>(</span><span class=s>&#34;close the door&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=nf>re</span><span class=p>()</span> <span class=p>{</span>                        <span class=c1>// ë¹„ë°€ë²ˆí˜¸ ì…ë ¥ì¤‘ #ì„ ì…ë ¥í•˜ë©´ ì´ˆê¸°í™”í•˜ê³  ë„ì–´ë½ ì ê¸ˆ ìœ ì§€
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=n>tru</span><span class=o>=</span><span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=n>count</span><span class=o>=</span><span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=n>servomotor</span><span class=p>.</span><span class=nf>write</span><span class=p>(</span><span class=mi>0</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=n>Serial</span><span class=p>.</span><span class=nf>println</span><span class=p>(</span><span class=s>&#34;password reset&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div><br><br><h3 id=joystickì„-ì‚¬ìš©í•˜ì—¬-2ê°œì˜-ì„œë³´ëª¨í„°-ì œì–´í•˜ê¸°>Joystickì„ ì‚¬ìš©í•˜ì—¬ 2ê°œì˜ ì„œë³´ëª¨í„° ì œì–´í•˜ê¸°<a class=anchor href=#joystick%ec%9d%84-%ec%82%ac%ec%9a%a9%ed%95%98%ec%97%ac-2%ea%b0%9c%ec%9d%98-%ec%84%9c%eb%b3%b4%eb%aa%a8%ed%84%b0-%ec%a0%9c%ec%96%b4%ed%95%98%ea%b8%b0>#</a></h3><h4 id=schematic-4>schematic<a class=anchor href=#schematic-4>#</a></h4><figure class=center style=width:75%><img src=/image/SG90_Joystick01.png alt=/image/SG90_Joystick01.png></figure><br><h4 id=sketch-4>sketch<a class=anchor href=#sketch-4>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-C data-lang=C><span class=line><span class=cl><span class=cp>#define JSTICKPIN A0      </span><span class=c1>// joystick is connected to pin 11
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=n>servoPin</span> <span class=o>=</span> <span class=mi>10</span><span class=p>;</span>        <span class=c1>// servo is connected to pin 10
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kt>int</span> <span class=n>initialDelay</span> <span class=o>=</span> <span class=mi>544</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=n>highDelay</span><span class=p>,</span> <span class=n>lowDelay</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=n>deg</span><span class=p>,</span> <span class=n>Jstick</span><span class=p>,</span> <span class=n>duty</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=n>deg_factor</span> <span class=o>=</span> <span class=mi>10</span><span class=p>;</span>      
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=n>Loop</span> <span class=o>=</span> <span class=mi>20000</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=nf>setup</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nf>pinMode</span> <span class=p>(</span><span class=n>servoPin</span><span class=p>,</span> <span class=n>OUTPUT</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=nf>loop</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nf>PrintValue</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>  <span class=n>Jstick</span> <span class=o>=</span> <span class=nf>analogRead</span><span class=p>(</span><span class=n>JSTICKPIN</span><span class=p>);</span>          
</span></span><span class=line><span class=cl>  <span class=n>deg</span> <span class=o>=</span> <span class=nf>map</span><span class=p>(</span><span class=n>Jstick</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>1023</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>180</span><span class=p>);</span>     
</span></span><span class=line><span class=cl>  <span class=nf>servoWrite</span><span class=p>(</span><span class=n>servoPin</span><span class=p>,</span> <span class=n>deg</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=nf>servoWrite</span><span class=p>(</span><span class=kt>int</span> <span class=n>servo</span><span class=p>,</span> <span class=kt>int</span> <span class=n>duty</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=n>highDelay</span> <span class=o>=</span> <span class=n>initialDelay</span> <span class=o>+</span> <span class=p>(</span><span class=n>duty</span> <span class=o>*</span> <span class=n>deg_factor</span><span class=p>);</span> <span class=c1>// setting angle
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>  <span class=nf>digitalWrite</span><span class=p>(</span><span class=n>servo</span><span class=p>,</span> <span class=n>HIGH</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=nf>delayMicroseconds</span><span class=p>(</span><span class=n>highDelay</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=n>lowDelay</span> <span class=o>=</span> <span class=n>Loop</span> <span class=o>-</span> <span class=n>highDelay</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=nf>digitalWrite</span><span class=p>(</span><span class=n>servo</span><span class=p>,</span> <span class=n>LOW</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=nf>delayMicroseconds</span><span class=p>(</span><span class=n>lowDelay</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nf>delay</span> <span class=p>(</span><span class=mi>15</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=nf>PrintValue</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>Serial</span><span class=p>.</span><span class=nf>print</span><span class=p>(</span><span class=nf>analogRead</span><span class=p>(</span><span class=n>JSTICKPIN</span><span class=p>));</span>
</span></span><span class=line><span class=cl>    <span class=n>Serial</span><span class=p>.</span><span class=nf>println</span> <span class=p>(</span><span class=s>&#34; Joystick Value&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div></div></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a href=/posts/arduino-%EC%8A%A4%ED%85%9D%EB%AA%A8%ED%84%B0/ class="flex align-center"><img src=/icons/backward.svg class=book-icon alt=Previous title="Arduino, ìŠ¤í…ëª¨í„°">
<span>Arduino, ìŠ¤í…ëª¨í„°</span></a></div><div><a href=/posts/arduino-piezo-buzzer/ class="flex align-center"><span>Arduino, í”¼ì—ì¡° ë¶€ì €</span>
<img src=/icons/forward.svg class=book-icon alt=Next title="Arduino, í”¼ì—ì¡° ë¶€ì €"></a></div></div><div class=book-comments></div></footer><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><ul><li><a href=#ì„œë³´ëª¨í„°-sg-90>ì„œë³´ëª¨í„° SG-90</a></li><li><a href=#ì„œë³´ëª¨í„°-sg-90-ë¼ì´ë¸ŒëŸ¬ë¦¬-ì—†ì´-ì‚¬ìš©í•˜ê¸°>ì„œë³´ëª¨í„° SG-90: ë¼ì´ë¸ŒëŸ¬ë¦¬ ì—†ì´ ì‚¬ìš©í•˜ê¸°</a></li><li><a href=#ì„œë³´ëª¨í„°ì™€-ì¸í„°ëŸ½íŠ¸-ë™ì‹œì—-ì‚¬ìš©í•˜ê¸°>ì„œë³´ëª¨í„°ì™€ ì¸í„°ëŸ½íŠ¸ ë™ì‹œì— ì‚¬ìš©í•˜ê¸°</a></li><li><a href=#ë ˆì´ì €-ëª¨ë“ˆ-ì¶”ê°€-ì„œë³´ëª¨í„°-ë‚ ê°œì—-ë¶€ì°©>ë ˆì´ì € ëª¨ë“ˆ ì¶”ê°€: ì„œë³´ëª¨í„° ë‚ ê°œì— ë¶€ì°©</a></li><li><a href=#ì¡°ë„ì„¼ì„œ-ì¶”ê°€>ì¡°ë„ì„¼ì„œ ì¶”ê°€</a></li><li><a href=#keypadì—ì„œ-ê°’ì„-ì…ë ¥ë°›ì•„-íšŒì „ì‹œí‚¤ê¸°>Keypadì—ì„œ ê°’ì„ ì…ë ¥ë°›ì•„ íšŒì „ì‹œí‚¤ê¸°</a></li><li><a href=#ë¹„ë°€ë²ˆí˜¸-í™•ì¸í•˜ì—¬-ì„œë³´ëª¨í„°-íšŒì „ì‹œí‚¤ê¸°>ë¹„ë°€ë²ˆí˜¸ í™•ì¸í•˜ì—¬ ì„œë³´ëª¨í„° íšŒì „ì‹œí‚¤ê¸°</a></li><li><a href=#joystickì„-ì‚¬ìš©í•˜ì—¬-2ê°œì˜-ì„œë³´ëª¨í„°-ì œì–´í•˜ê¸°>Joystickì„ ì‚¬ìš©í•˜ì—¬ 2ê°œì˜ ì„œë³´ëª¨í„° ì œì–´í•˜ê¸°</a></li></ul></li></ul></nav></div></aside></main></body></html>