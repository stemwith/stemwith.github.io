<!doctype html><html lang=ko-kr dir=ltr><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content><meta name=theme-color media="(prefers-color-scheme: light)" content="#ffffff"><meta name=theme-color media="(prefers-color-scheme: dark)" content="#343a40"><meta name=color-scheme content="light dark"><meta property="og:url" content="https://stemwith.github.io/categories/science/"><meta property="og:site_name" content="stemwith"><meta property="og:title" content="Science"><meta property="og:locale" content="ko_kr"><meta property="og:type" content="website"><title>Science | stemwith</title><link rel=icon href=/favicon.ico><link rel=manifest href=/manifest.json><link rel=canonical href=https://stemwith.github.io/categories/science/><link rel=stylesheet href=/book.min.edacc84919565354dfc39b7e3684e11739048c7cd9356a3036fc1c663b63611d.css integrity="sha256-7azISRlWU1Tfw5t+NoThFzkEjHzZNWowNvwcZjtjYR0=" crossorigin=anonymous><script defer src=/fuse.min.js></script><script defer src=/en.search.min.48a89e4be341d639de74b0f5b5a0b5ad125313b71f6faa18dd992cd4721b044e.js integrity="sha256-SKieS+NB1jnedLD1taC1rRJTE7cfb6oY3Zks1HIbBE4=" crossorigin=anonymous></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-128DRYVCRT"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-128DRYVCRT")}</script><link rel=alternate type=application/rss+xml href=https://stemwith.github.io/categories/science/index.xml title=stemwith></head><body dir=ltr class="book-kind-term book-type-categories"><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/><img src=/og_image.png alt=Logo></a></h2><div class="book-search hidden"><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><script>document.querySelector(".book-search").classList.remove("hidden")</script></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class="book-header hidden"><div class="flex align-center justify-between"><label for=menu-control><img src=/icons/menu.svg class=book-icon alt=Menu></label><h3>Science</h3><label for=toc-control></label></div><aside class=hidden><nav><ul><li class=book-section-flat><a>Categories</a><ul><li class="flex align-center"><a href=/categories/esp32/>Esp32</a>
<span>14</span></li><li class="flex align-center"><a href=/categories/science/>Science</a>
<span>5</span></li><li class="flex align-center"><a href=/categories/drone/>Drone</a>
<span>3</span></li><li class="flex align-center"><a href=/categories/office/>Office</a>
<span>4</span></li><li class="flex align-center"><a href=/categories/arduino/>Arduino</a>
<span>21</span></li><li class="flex align-center"><a href=/categories/diy/>Diy</a>
<span>3</span></li></ul></li><li class=book-section-flat><a>Tags</a><ul><li class="flex align-center"><a href=/tags/rc/>Rc</a>
<span>5</span></li><li class="flex align-center"><a href=/tags/3d/>3D</a>
<span>1</span></li><li class="flex align-center"><a href=/tags/iot/>Iot</a>
<span>7</span></li></ul></li></ul></nav></aside></header><article class="markdown book-post"><h2><a href=/posts/stem-%EC%95%8C%EC%BD%94%EC%98%AC-%EB%9E%A8%ED%94%84-%EB%B0%9B%EC%B9%A8%EB%8C%80/>알코올 램프 안전 손잡이 받침대 3D프린팅</a></h2><div class="flex align-center text-small book-post-date"><img src=/icons/calendar.svg class=book-icon alt>
<span>November 15, 2021</span></div><div class=text-small><a href=/categories/science/>Science</a></div><div class=text-small><a href=/tags/3d/>3D</a></div><div class=book-post-content><p>학교에서 알코올 램프를 사용할 때 겪는 불편한 문제 중 하나. 삼발이가 뜨거워져서 알코올 램프를 끌 때, 손 등 부분이 삼발이에 닿아서 데이기 쉽다는 것이다. 이 때문에 한국에서는 알코올 램프를 끼워 안전하게 쓸 수 있는 받침대를 구입하여 사용하곤 했다.</p><p>그런데 온갖 잡동사니를 다 팔고 있는 중국 타오바오를 아무리 뒤져보아도 막상 이런 형태의 알코올 램프 받침대를 찾을 수가 없었다. 그동안 사용했던 받침대들이 깨지고, 열에 의해 변형되어 새로 구입을 하기는 해야하는데, 어떻게 할까 생각하다가&mldr;</p></div></article><article class="markdown book-post"><h2><a href=/posts/stem-%EC%A0%84%EC%9E%90%EA%B8%B0%ED%8C%8C-%EA%B2%80%EC%B6%9C%EA%B8%B0/>전자기파 검출기 만들기</a></h2><div class="flex align-center text-small book-post-date"><img src=/icons/calendar.svg class=book-icon alt>
<span>November 2, 2021</span></div><div class=text-small><a href=/categories/science/>Science</a></div><div class=book-post-content><h3 id=전자기파-검출>전자기파 검출<a class=anchor href=#%ec%a0%84%ec%9e%90%ea%b8%b0%ed%8c%8c-%ea%b2%80%ec%b6%9c>#</a></h3><p>콘센트, 멀티탭, 전자제품 등에서 나오는 60Hz 정도의 전자파를 검출하여 증폭시킨 뒤, 이를 스위칭 신호로 만들어 LED를 켜는 회로를 구성해본다.</p><p>※ 참고: 눈이 즐거운 물리 (<a href=https://www.phys.pe.kr>www.phys.pe.kr</a>)</p><br><h4 id=schematic>schematic<a class=anchor href=#schematic>#</a></h4><figure class=center style=width:75%><img src=/image/w/wave-27.png alt=/image/w/wave-27.png></figure><br><h4 id=작동원리>작동원리<a class=anchor href=#%ec%9e%91%eb%8f%99%ec%9b%90%eb%a6%ac>#</a></h4><ul><li>안테나에 전자기파가 잡히면</li><li>C1815 트랜지스터로 신호를 증폭</li><li>1N4148 다이오드는 반대 방향으로 흐르는 노이즈 신호를 제거하여, 안테나에 잡힌 전자기파만을 유효 신호로 처리하도록 함</li><li>증폭된 신호를 A1015 트랜지스터를 스위치 삼아 LED를 켬</li></ul><br><h3 id=준비물>준비물<a class=anchor href=#%ec%a4%80%eb%b9%84%eb%ac%bc>#</a></h3><h4 id=개별-준비물>개별 준비물<a class=anchor href=#%ea%b0%9c%eb%b3%84-%ec%a4%80%eb%b9%84%eb%ac%bc>#</a></h4><ul><li>LED 1개</li><li>0.01uF (103) 세라믹 캐패시터 1개</li><li>A1015 트랜지스터 1개</li><li>C1815 트랜지스터 1개</li><li>10uH 인덕터 코일 (갈-검-검-금) 1개</li><li>1N4148 스위칭 다이오드 1개</li><li>CR2032 3V 리튬전지 1개</li><li>듀퐁 케이블 10P (9P 사용 가능) 1개</li></ul><br><h4 id=기타-준비물>기타 준비물<a class=anchor href=#%ea%b8%b0%ed%83%80-%ec%a4%80%eb%b9%84%eb%ac%bc>#</a></h4><p>스트리퍼, 가위, 스카치테이프</p></div></article><article class="markdown book-post"><h2><a href=/posts/stem-solar-tracker/>STEM, Solar Tracker</a></h2><div class="flex align-center text-small book-post-date"><img src=/icons/calendar.svg class=book-icon alt>
<span>November 22, 2020</span></div><div class=text-small><a href=/categories/science/>Science</a></div><div class=book-post-content><h3 id=solar-tracker-만들기>Solar Tracker 만들기<a class=anchor href=#solar-tracker-%eb%a7%8c%eb%93%a4%ea%b8%b0>#</a></h3><p>팬(도리도리) & 틸트(끄덕끄덕)가 가능한 2축 서보모터 거치대와 2개의 서보모터를 사용하여 Solar Tracker를 만들어 보자.</p><br><h4 id=단계1-solar-tracker-frame-3d-printing>단계1: Solar Tracker Frame 3D Printing<a class=anchor href=#%eb%8b%a8%ea%b3%841-solar-tracker-frame-3d-printing>#</a></h4><figure class=center style=width:25%><img src=/image/SolarTracker01.png alt=/image/SolarTracker01.png></figure><p><a href=/attach/Sun_Tracker_Gnomon_B.stl>.stl 파일</a> <a href=/attach/Sun_Tracker_Gnomon_B.gcode>.gcode 파일</a></p><p>3D 프린팅 후, 조도센서를 설치할 4곳에 1mm 드릴을 이용하여 각각 2개씩 구멍을 뚫는다 (총 8개).</p><br><br><h4 id=단계2-조도센서-조립하기>단계2: 조도센서 조립하기<a class=anchor href=#%eb%8b%a8%ea%b3%842-%ec%a1%b0%eb%8f%84%ec%84%bc%ec%84%9c-%ec%a1%b0%eb%a6%bd%ed%95%98%ea%b8%b0>#</a></h4><h5 id=조도센서-삽입>조도센서 삽입<a class=anchor href=#%ec%a1%b0%eb%8f%84%ec%84%bc%ec%84%9c-%ec%82%bd%ec%9e%85>#</a></h5><figure class=center style=width:50%><img src=/image/SolarTracker02.png alt=/image/SolarTracker02.png></figure><p>조도센서의 다리를 위에서 뚫은 구멍을 통해 넣은 뒤,</p><figure class=center style=width:50%><img src=/image/SolarTracker03.png alt=/image/SolarTracker03.png></figure><p>뒤쪽에 글루건을 쏘아 고정시킨다. (조도센서는 극성을 구분할 필요가 없으므로, 서로 선이 맞닿지만 않으면 된다.)</p></div></article><article class="markdown book-post"><h2><a href=/posts/stem-%EC%A4%91%EB%A0%A5-%EA%B0%80%EC%86%8D%EB%8F%84-%EC%B8%A1%EC%A0%95/>ESP32, 중력 가속도 측정</a></h2><div class="flex align-center text-small book-post-date"><img src=/icons/calendar.svg class=book-icon alt>
<span>October 6, 2020</span></div><div class=text-small><a href=/categories/science/>Science</a></div><div class=book-post-content><h3 id=중력gravitational-force>중력(Gravitational Force)<a class=anchor href=#%ec%a4%91%eb%a0%a5gravitational-force>#</a></h3><p>뉴턴은 달의 운동과 케플러의 법칙을 통해, 달과 지구 사이에 작용하는 힘은 지구의 질량과 달의 질량의 곱에 비례하고 거리의 제곱에 반비례한다는 만유인력의 법칙을 밝혔다.</p><span>\[ F = G \frac{Mm}{r^2} = m_i a = mg \]</span><link rel=stylesheet href=/katex/katex.min.css><script defer src=/katex/katex.min.js></script><script defer src=/katex/auto-render.min.js onload='renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"\\(",right:"\\)",display:!1},{left:"\\[",right:"\\]",display:!0}]})'></script><p>지구의 질량 M</p><span>\[ M=5.072 \times 10^{24}~kg \]</span><p>지구 반지름 r</p><span>\[ r = 6371~km \]</span><p>만유인력 상수값은 다음과 같다. (캐번디시에 의해 측정된 G값은 6.674)</p><span>\[ G = 6.67259 \times 10^{-11}~N \cdot m^2 /kg^2 \]</span><p>만유인력이 지상의 물체에 작용되는 경우, 이때 작용하는 힘을 중력이라고 한다.</p></div></article><article class="markdown book-post"><h2><a href=/posts/arduino-geiger-counter/>Arduino, Geiger Counter</a></h2><div class="flex align-center text-small book-post-date"><img src=/icons/calendar.svg class=book-icon alt>
<span>August 23, 2020</span></div><div class=text-small><a href=/categories/science/>Science</a></div><div class=book-post-content><p>※ SAT Subject Chemistry: Pactice Test</p><pre tabindex=0><code>Used to detect radioactivity.
① Calorimeter
② Geiger Counter
③ Burette
④ Funnel
⑤ Bunsen Burner</code></pre><br><h3 id=가이거-계수기>가이거 계수기<a class=anchor href=#%ea%b0%80%ec%9d%b4%ea%b1%b0-%ea%b3%84%ec%88%98%ea%b8%b0>#</a></h3><ul><li>방사선을 측정할 수 있는 관으로 방사능 입자 하나하나를 셀 수 있다. 1908년 러더퍼드의 제자 요하네스 한스 빌헬름 가이거(Johannes Hans Wilhelm Geiger)가 알파선을 감지할 수 있는 감지기를 개발하였으며, 그 후 1928년 가이거와 가이거의 제자인 발터 뮐러가 함께 개량하여 모든 전리방사선을 감지할 수 있도록 만든 것이 현재의 가이거-뮐러 튜브(GM Tube)이다.</li><li>원리: 튜브는 비활성 기체가 충전된 상태이며 중심 전극(+극, anode)과 관의 내벽(-극, cathode, 금속이나 흑연으로 코팅)으로 구성되어 있다. 여기에 수백V의 전압을 걸면, 관 안에 걸린 높은 전기장 때문에 이온은 음극을 향해 가속되고, 전자는 양극을 향해 가속되며 운동에너지를 얻게 되며 이동 중에 충돌한 기체분자도 함께 전이된다. 이렇게 가스 안에 하전입자의 붕괴가 일어나면 음극에서 양극을 향해 짧고 강한 펄스전류가 순간적으로 나타나 흐르게 된다. 이 펄스전류가 &lsquo;스피커&rsquo;를 지날때 반응음으로 가이거 계수기 특유의 &lsquo;틱티티틱&rsquo;하는 소리가 만들어지는데, 이것이 &lsquo;방사선이 존재한다&rsquo;는 상황을 알려주는 소리이다. 그리고 이 소리 1개음이 방사능 입자 1개에 대한 대응 신호가 된다. 오래된 방식이지만 오늘날에도 큰 변화 없이 이 원리를 응용하여 방사선을 측정하고 있다.</li><li>단점: 상당히 큰 펄스신호를 얻을 수 있지만, 이 전류의 강도는 방사선이 가진 에너지와 비례관계를 나타내는 것은 아니기때문에, 방사선이 가진 에너지를 측정하는 것은 불가능하다. (방사선의 에너지를 알기 위해서는 비례계수관을 사용해야 한다.) 또한 고준위 방사선의 경우에는 전류가 연속적으로 흐르게 되어 펄스의 횟수를 계수할 수 없게 되는 경우도 있다. (주로 500cps 이상의 경우) 이것을 막기 위해 전자의 흐름을 제어하는 별도의 장치를 부착하거나, 신틸레이터(scintillator)나 이온화 챔버 같은 다른 검출기로 계측한다.</li><li>가이거 카운터에 사용하는 튜브관은 여러 종류가 제조되고 있다. 대부분의 GM관은 감마선과 2.5MeV 이상의 베타선을 검출한다. 감마선의 검출 감도는 좋지는 않다. GM관 안의 가스밀도가 낮아서, 투과력이 높은 감마선은 상호작용을 일으키기 어렵기 때문이다. 중성자선은 가스로부터 전리하지 않기때문에 검출하지 못한다. 하지만, 관 안쪽을 붕소로 코팅하거나, 삼불화붕소 아니면 ³He가스를 충전하면 중성자선에도 반응하는 GM관을 만들 수 있다. 중성자는 붕소원자핵과 반응하여 알파선을 생성하거나, ³He원자와 반응하여 수소와 트리튬이온과 전자를 생성하므로 이 전하입자들이 붕괴를 발생시킨다. 각 튜브마다 검출하는 입자가 다르기 때문에, CPM(Count Per Minute) 단위를 uSv/h(Sieverts Per Hours) 단위로 바꾸기 위한 Conversion Factor가 모두 다르다. 그러므로 사용하는 튜브관이 어떤 것인지 정확하게 알아두어야 한다.</li><li>GM관은 하드웨어 난수발생기로서 이용할 수도 있다.</li><li>Background Radiation: 자연적으로 존재하는 자연 방사선, 즉 Background Radiation의 경우 J305β 튜브관을 사용할때 평균 15.6 CPM이 측정된다. (주변 상황에 따라 조금씩 달라짐)</li></ul><br><h4 id=라이브러리-추가하기>라이브러리 추가하기<a class=anchor href=#%eb%9d%bc%ec%9d%b4%eb%b8%8c%eb%9f%ac%eb%a6%ac-%ec%b6%94%ea%b0%80%ed%95%98%ea%b8%b0>#</a></h4><ul><li>Wire : 기본 내장 라이브러리</li><li>LiquidCrystal I2C (by Frank de Brabander) 검색하여 설치</li></ul><br><h4 id=schematic-for-standalone>schematic (for standalone)<a class=anchor href=#schematic-for-standalone>#</a></h4><figure class=center style=width:100%><img src=/image/Geiger-Counter.png alt=/image/Geiger-Counter.png></figure><table><thead><tr><th>GM Monule</th><th>GND</th><th>5V</th><th>VIN</th><th></th><th></th><th></th><th></th></tr></thead><tbody><tr><td>Arduino</td><td>GND</td><td>5V</td><td>D2</td><td>VIN</td><td>A4</td><td>A5</td><td>PowerJack</td></tr><tr><td>1602 LCD I2C</td><td>GND</td><td>VCC</td><td></td><td>(VCC)</td><td>SDA</td><td>SCL</td><td></td></tr><tr><td>9V battery</td><td></td><td></td><td></td><td></td><td></td><td></td><td>(+)(-)</td></tr></tbody></table><ul><li>외부로 들고 다니면서 측정할 수 있도록 9V 배터리 1개를 추가하여 Arduino, 1602 LCD, GM Molule을 모두 작동시킬 수 있도록 하였다.</li></ul><br><h4 id=sketch>sketch<a class=anchor href=#sketch>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-C data-lang=C><span class=line><span class=cl><span class=cm>/* --------------------------------------------------------------------------------------
</span></span></span><span class=line><span class=cl><span class=cm>* WHAT IS CPM?
</span></span></span><span class=line><span class=cl><span class=cm>* CPM (counts per minute) is events quantity from Geiger Tube you get during one minute.
</span></span></span><span class=line><span class=cl><span class=cm>* Usually it used to calculate a radiation level.  
</span></span></span><span class=line><span class=cl><span class=cm>* Different GM Tubes has different quantity of CPM for background.
</span></span></span><span class=line><span class=cl><span class=cm>* Some tubes can produce about 10-50 CPM for normal background,
</span></span></span><span class=line><span class=cl><span class=cm>* other GM Tube models produce 50-100 CPM or 0-5 CPM for same radiation level.
</span></span></span><span class=line><span class=cl><span class=cm>* Please refer your GM Tube datasheet for more information. 
</span></span></span><span class=line><span class=cl><span class=cm>* Just for reference here, SBM-20 can generate about 10-50 CPM for normal background.
</span></span></span><span class=line><span class=cl><span class=cm>* --------------------------------------------------------------------------------------*/</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// This Sketch counts the number of pulses a minute.
</span></span></span><span class=line><span class=cl><span class=c1>// Connect the GND on Arduino to the GND on the Geiger counter.
</span></span></span><span class=line><span class=cl><span class=c1>// Connect the 5V on Arduino to the 5V on the Geiger counter.
</span></span></span><span class=line><span class=cl><span class=c1>// Connect the VIN on the Geiger counter to the D2 on Arduino.
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=c1>// For I2C 1602 LCD : VCC-5V / GND-GND / SDA-A4 / SCL-A5
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=cp>#include</span> <span class=cpf>&lt;Wire.h&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;LiquidCrystal_I2C.h&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span>
</span></span><span class=line><span class=cl><span class=c1>// I2C address: 0x20~0x27 or 0x3F
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>LiquidCrystal_I2C</span> <span class=nf>lcd</span><span class=p>(</span><span class=mh>0x27</span><span class=p>,</span> <span class=mi>16</span><span class=p>,</span> <span class=mi>2</span><span class=p>);</span>  
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=n>cpm</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kt>float</span> <span class=n>sievertshour</span><span class=p>;</span> <span class=c1>// for converting from cpm to sieverts/hour
</span></span></span><span class=line><span class=cl><span class=c1>//float sieverts; // for converting from cpm to sieverts  
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kt>unsigned</span> <span class=kt>long</span> <span class=n>counts</span><span class=p>;</span> <span class=c1>//variable for GM Tube events
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kt>unsigned</span> <span class=kt>long</span> <span class=n>previousMillis</span><span class=p>;</span> <span class=c1>//variable for measuring time
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=cp>#define LOG_PERIOD 60000 </span><span class=c1>// count rate (1 minute)
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=cp>#define CONV_FACTOR 0.008120 </span><span class=c1>// for GM tube of J305beta type
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=nf>setup</span><span class=p>()</span> <span class=p>{</span> <span class=c1>//setup
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=n>counts</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=n>Serial</span><span class=p>.</span><span class=nf>begin</span><span class=p>(</span><span class=mi>9600</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=nf>pinMode</span><span class=p>(</span><span class=mi>2</span><span class=p>,</span> <span class=n>INPUT</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=n>lcd</span><span class=p>.</span><span class=nf>init</span><span class=p>();</span>               <span class=c1>// lcd 초기화
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=n>lcd</span><span class=p>.</span><span class=nf>backlight</span><span class=p>();</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=nf>attachInterrupt</span><span class=p>(</span><span class=nf>digitalPinToInterrupt</span><span class=p>(</span><span class=mi>2</span><span class=p>),</span> <span class=n>impulse</span><span class=p>,</span> <span class=n>FALLING</span><span class=p>);</span> <span class=c1>//define external interrupts
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=nf>loop</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=n>lcd</span><span class=p>.</span><span class=nf>setCursor</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span><span class=mi>0</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=n>lcd</span><span class=p>.</span><span class=nf>print</span><span class=p>(</span><span class=s>&#34;CPM:&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=n>lcd</span><span class=p>.</span><span class=nf>setCursor</span><span class=p>(</span><span class=mi>9</span><span class=p>,</span><span class=mi>0</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=n>lcd</span><span class=p>.</span><span class=nf>print</span><span class=p>(</span><span class=s>&#34; #:&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=n>lcd</span><span class=p>.</span><span class=nf>setCursor</span><span class=p>(</span><span class=mi>12</span><span class=p>,</span><span class=mi>0</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=n>lcd</span><span class=p>.</span><span class=nf>print</span><span class=p>(</span><span class=n>counts</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=n>lcd</span><span class=p>.</span><span class=nf>setCursor</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span><span class=mi>1</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=n>lcd</span><span class=p>.</span><span class=nf>print</span><span class=p>(</span><span class=s>&#34;uSv/h:&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=c1>//lcd.print(&#34;uSv  :&#34;);
</span></span></span><span class=line><span class=cl><span class=c1></span>  
</span></span><span class=line><span class=cl>  <span class=kt>unsigned</span> <span class=kt>long</span> <span class=n>currentMillis</span> <span class=o>=</span> <span class=nf>millis</span><span class=p>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=p>(</span><span class=n>currentMillis</span> <span class=o>-</span> <span class=n>previousMillis</span> <span class=o>&gt;</span> <span class=n>LOG_PERIOD</span><span class=p>)</span> <span class=p>{</span>   <span class=c1>//every 1 minute
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>previousMillis</span> <span class=o>=</span> <span class=n>currentMillis</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>lcd</span><span class=p>.</span><span class=nf>clear</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=n>lcd</span><span class=p>.</span><span class=nf>setCursor</span><span class=p>(</span><span class=mi>5</span><span class=p>,</span> <span class=mi>0</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>cpm</span> <span class=o>=</span> <span class=n>counts</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>lcd</span><span class=p>.</span><span class=nf>print</span><span class=p>(</span><span class=n>cpm</span><span class=p>);</span> <span class=c1>//Display CPM
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>Serial</span><span class=p>.</span><span class=nf>println</span><span class=p>(</span><span class=n>cpm</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>sievertshour</span> <span class=o>=</span> <span class=n>cpm</span> <span class=o>*</span> <span class=n>CONV_FACTOR</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=c1>//sieverts = sievertshour * 356 * 24;
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>lcd</span><span class=p>.</span><span class=nf>setCursor</span><span class=p>(</span><span class=mi>7</span><span class=p>,</span><span class=mi>1</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>lcd</span><span class=p>.</span><span class=nf>print</span><span class=p>(</span><span class=n>sievertshour</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=c1>//lcd.print(sieverts);
</span></span></span><span class=line><span class=cl><span class=c1></span>     
</span></span><span class=line><span class=cl>    <span class=n>counts</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=nf>impulse</span><span class=p>()</span> <span class=p>{</span> <span class=c1>// called every time there is a FALLING signal at pin 2
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=n>counts</span><span class=o>++</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div><br><h4 id=sketch--for-esp8266-geigerzaehler-lcd-espino>sketch : for ESP8266 (Geigerzaehler-LCD-ESP.ino)<a class=anchor href=#sketch--for-esp8266-geigerzaehler-lcd-espino>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-C data-lang=C><span class=line><span class=cl><span class=cm>/*************ARDUINO SKETCH FOR GEIGER COUNTER******************
</span></span></span><span class=line><span class=cl><span class=cm>Author: RH Electronics www.radiohobbystore.com / www.mygeiger.org
</span></span></span><span class=line><span class=cl><span class=cm>*****************************************************************
</span></span></span><span class=line><span class=cl><span class=cm>This sketch can be used with DIY Geiger Counter board. It allow
</span></span></span><span class=line><span class=cl><span class=cm>to receive CPM data during minute. You can modify the sketch
</span></span></span><span class=line><span class=cl><span class=cm>for your needs.
</span></span></span><span class=line><span class=cl><span class=cm>*****************************************************************
</span></span></span><span class=line><span class=cl><span class=cm>LCD I2C Connection:
</span></span></span><span class=line><span class=cl><span class=cm>LCD SDA -&gt; D10  =  1
</span></span></span><span class=line><span class=cl><span class=cm>LCD SCL -&gt; D9   =  3
</span></span></span><span class=line><span class=cl><span class=cm>VCC to +3,3V and ground
</span></span></span><span class=line><span class=cl><span class=cm>****************************************************************/</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// include the library code:
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=cp>#include</span> <span class=cpf>&lt;LiquidCrystal_I2C.h&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;SPI.h&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;Wire.h&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span>
</span></span><span class=line><span class=cl><span class=cp>#define LOG_PERIOD 15000  </span><span class=c1>//Logging period in milliseconds, recommended value 15000-60000.
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=cp>#define MAX_PERIOD 60000  </span><span class=c1>//Maximum logging period without modifying this sketch
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=cp>#define PERIOD 60000.0 </span><span class=c1>// (60 sec) one minute measure period
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=k>volatile</span> <span class=kt>unsigned</span> <span class=kt>long</span> <span class=n>CNT</span><span class=p>;</span> <span class=c1>// variable for counting interrupts from dosimeter
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kt>unsigned</span> <span class=kt>long</span> <span class=n>counts</span><span class=p>;</span>     <span class=c1>//variable for GM Tube events
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kt>unsigned</span> <span class=kt>long</span> <span class=n>cpm</span><span class=p>;</span>        <span class=c1>//variable for CPM
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kt>unsigned</span> <span class=kt>int</span> <span class=n>multiplier</span><span class=p>;</span>  <span class=c1>//variable for calculation CPM in this sketch
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kt>unsigned</span> <span class=kt>long</span> <span class=n>previousMillis</span><span class=p>;</span>  <span class=c1>//variable for time measurement
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kt>unsigned</span> <span class=kt>long</span> <span class=n>dispPeriod</span><span class=p>;</span> <span class=c1>// variable for measuring time
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kt>unsigned</span> <span class=kt>long</span> <span class=n>CPM</span><span class=p>;</span> <span class=c1>// variable for measuring CPM
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=k>const</span> <span class=kt>int</span> <span class=n>inputPin</span> <span class=o>=</span> <span class=mi>4</span><span class=p>;</span>  <span class=c1>// pin D2 is VIN on geiger counter
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=c1>// initialize the library with the numbers of the interface pins
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>LiquidCrystal_I2C</span> <span class=nf>lcd</span><span class=p>(</span><span class=mh>0x3F</span><span class=p>,</span><span class=mi>20</span><span class=p>,</span><span class=mi>4</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=nf>setup</span><span class=p>()</span> <span class=p>{</span>               <span class=c1>// setup
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>Wire</span><span class=p>.</span><span class=nf>begin</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span><span class=mi>3</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=n>lcd</span><span class=p>.</span><span class=nf>begin</span><span class=p>(</span><span class=mi>20</span><span class=p>,</span> <span class=mi>4</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=n>lcd</span><span class=p>.</span><span class=nf>init</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=c1>// Turn on the backlight.
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>lcd</span><span class=p>.</span><span class=nf>backlight</span><span class=p>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>CNT</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=n>CPM</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=n>dispPeriod</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nf>attachInterrupt</span><span class=p>(</span><span class=nf>digitalPinToInterrupt</span><span class=p>(</span><span class=n>inputPin</span><span class=p>),</span> <span class=n>GetEvent</span><span class=p>,</span> <span class=n>FALLING</span><span class=p>);</span> <span class=c1>// Define interrupt D2 on falling edge
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=nf>loop</span><span class=p>()</span> <span class=p>{</span>           <span class=c1>// main loop
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>lcd</span><span class=p>.</span><span class=nf>setCursor</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span><span class=mi>0</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=n>lcd</span><span class=p>.</span><span class=nf>print</span><span class=p>(</span><span class=s>&#34;Berlin-Siemensstadt&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=n>lcd</span><span class=p>.</span><span class=nf>setCursor</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span><span class=mi>1</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=n>lcd</span><span class=p>.</span><span class=nf>print</span><span class=p>(</span><span class=s>&#34;   Geiger Counter &#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=n>lcd</span><span class=p>.</span><span class=nf>setCursor</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span><span class=mi>2</span><span class=p>);</span> <span class=c1>// print text and CNT on the LCD
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>lcd</span><span class=p>.</span><span class=nf>print</span><span class=p>(</span><span class=s>&#34;CPM:&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=n>lcd</span><span class=p>.</span><span class=nf>setCursor</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span><span class=mi>3</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=n>lcd</span><span class=p>.</span><span class=nf>print</span><span class=p>(</span><span class=s>&#34;CNT:&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=n>lcd</span><span class=p>.</span><span class=nf>setCursor</span><span class=p>(</span><span class=mi>5</span><span class=p>,</span><span class=mi>3</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=n>lcd</span><span class=p>.</span><span class=nf>print</span><span class=p>(</span><span class=n>CNT</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=p>(</span><span class=nf>millis</span><span class=p>()</span> <span class=o>&gt;=</span><span class=n>dispPeriod</span> <span class=o>+</span> <span class=n>PERIOD</span><span class=p>)</span> <span class=p>{</span> <span class=c1>// If one minute is over
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nf>cleanDisplay</span><span class=p>();</span> <span class=c1>// Clear LCD
</span></span></span><span class=line><span class=cl><span class=c1>// Do something about accumulated CNT events....
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>lcd</span><span class=p>.</span><span class=nf>setCursor</span><span class=p>(</span><span class=mi>5</span><span class=p>,</span> <span class=mi>2</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=n>CPM</span> <span class=o>=</span> <span class=n>CNT</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=n>lcd</span><span class=p>.</span><span class=nf>print</span><span class=p>(</span><span class=n>CPM</span><span class=p>);</span> <span class=c1>//Display CPM
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>CNT</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=n>dispPeriod</span> <span class=o>=</span> <span class=nf>millis</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=nf>GetEvent</span><span class=p>(){</span>           <span class=c1>// Get Event from Device
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>CNT</span><span class=o>++</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=nf>cleanDisplay</span> <span class=p>(){</span>      <span class=c1>// Clear LCD routine
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>lcd</span><span class=p>.</span><span class=nf>clear</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=n>lcd</span><span class=p>.</span><span class=nf>setCursor</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span><span class=mi>0</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=n>lcd</span><span class=p>.</span><span class=nf>setCursor</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span><span class=mi>0</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div><p>(출처: rhelectronics.net)</p></div></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div></div><div></div></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav><ul><li class=book-section-flat><a>Categories</a><ul><li class="flex align-center"><a href=/categories/esp32/>Esp32</a>
<span>14</span></li><li class="flex align-center"><a href=/categories/science/>Science</a>
<span>5</span></li><li class="flex align-center"><a href=/categories/drone/>Drone</a>
<span>3</span></li><li class="flex align-center"><a href=/categories/office/>Office</a>
<span>4</span></li><li class="flex align-center"><a href=/categories/arduino/>Arduino</a>
<span>21</span></li><li class="flex align-center"><a href=/categories/diy/>Diy</a>
<span>3</span></li></ul></li><li class=book-section-flat><a>Tags</a><ul><li class="flex align-center"><a href=/tags/rc/>Rc</a>
<span>5</span></li><li class="flex align-center"><a href=/tags/3d/>3D</a>
<span>1</span></li><li class="flex align-center"><a href=/tags/iot/>Iot</a>
<span>7</span></li></ul></li></ul></nav></div></aside></main></body></html>