<!doctype html>
<html lang="ko"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="robots" content="noindex"><meta><title>카테고리: ESP32 - Welcome to &quot;stemwith&quot;</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="Welcome to &quot;stemwith&quot;"><meta name="msapplication-TileImage" content="/img/favicon.svg"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="Welcome to &quot;stemwith&quot;"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="description" content="for stem education"><meta property="og:type" content="blog"><meta property="og:title" content="Welcome to &quot;stemwith&quot;"><meta property="og:url" content="http://stemwith.github.io/"><meta property="og:site_name" content="Welcome to &quot;stemwith&quot;"><meta property="og:description" content="for stem education"><meta property="og:locale" content="ko_KR"><meta property="og:image" content="http://stemwith.github.io/img/og_image.png"><meta property="article:author" content="chemidot"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"http://stemwith.github.io"},"headline":"Welcome to \"stemwith\"","image":["http://stemwith.github.io/img/og_image.png"],"author":{"@type":"Person","name":"chemidot"},"publisher":{"@type":"Organization","name":"Welcome to \"stemwith\"","logo":{"@type":"ImageObject","url":"http://stemwith.github.io/img/logo.svg"}},"description":"for stem education"}</script><link rel="icon" href="/img/favicon.svg"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.2/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/monokai.css"><link rel="preconnect" href="https://fonts.gstatic.com"><link href="https://fonts.googleapis.com/css2?family=Gowun+Batang:wght@400;700&amp;family=Roboto" rel="stylesheet"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><script src="https://www.googletagmanager.com/gtag/js?id=G-128DRYVCRT" async></script><script>window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
    
        gtag('config', 'G-128DRYVCRT');</script><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script><!--!--><!--!--><meta name="generator" content="Hexo 5.4.2"><link rel="alternate" href="/rss2.xml" title="Welcome to "stemwith"" type="application/rss+xml">
</head><body class="is-2-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/logo.svg" alt="Welcome to &quot;stemwith&quot;" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/about">About</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="external nofollow noopener noreferrer" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a><a class="navbar-item search" title="검색" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-9-tablet is-9-desktop is-9-widescreen"><div class="card"><div class="card-content"><nav class="breadcrumb" aria-label="breadcrumbs"><ul><li><a href="/categories">카테고리</a></li><li class="is-active"><a href="#" aria-current="page">ESP32</a></li></ul></nav></div></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time datetime="2021-12-02T09:27:53.000Z" title="2021. 12. 2. 오후 6:27:53">2021-12-02</time>&nbsp;게시 됨</span><span class="level-item"><time datetime="2021-12-27T12:47:52.000Z" title="2021. 12. 27. 오후 9:47:52">2021-12-27</time>&nbsp;업데이트 됨</span><span class="level-item"><a class="link-muted" href="/categories/esp32/">ESP32</a></span><span class="level-item">32분안에 읽기 (약 4805 단어)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2021/12/02/ESP32-RC%EC%B9%B4/">ESP32, RC카</a></h1><div class="content"><h3 id="샤시-조립"><a href="#샤시-조립" class="headerlink" title="샤시 조립"></a>샤시 조립</h3><h4 id="샤시-부품"><a href="#샤시-부품" class="headerlink" title="샤시 부품"></a>샤시 부품</h4><table>
<thead>
<tr>
<th align="center">번호</th>
<th align="center">부품</th>
<th align="center">사진</th>
<th align="center">수량</th>
<th align="center">용도 및 참고사항</th>
</tr>
</thead>
<tbody><tr>
<td align="center">1</td>
<td align="center">전륜 회전축</td>
<td align="center"><img src="/image/r/ESP32-RC-Car-14.png" style="zoom: 67%;"></td>
<td align="center">2</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">2</td>
<td align="center">베어링(대)</td>
<td align="center"><img src="/image/r/ESP32-RC-Car-18.png" style="zoom: 80%;"></td>
<td align="center">2</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">3</td>
<td align="center">스티어링 컵</td>
<td align="center"><img src="/image/r/ESP32-RC-Car-08.png"></td>
<td align="center">2</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">4</td>
<td align="center">커플러 고정핀</td>
<td align="center"><img src="/image/r/ESP32-RC-Car-16.png"></td>
<td align="center">2</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">5</td>
<td align="center">베어링(중)</td>
<td align="center"><img src="/image/r/ESP32-RC-Car-19.png"></td>
<td align="center">2</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">6</td>
<td align="center">(전륜) 육각 커플러</td>
<td align="center"><img src="/image/r/ESP32-RC-Car-15.png" style="zoom:80%;"></td>
<td align="center">2</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">7</td>
<td align="center">휠</td>
<td align="center"><img src="/image/r/ESP32-RC-Car-01.png"></td>
<td align="center">4</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">8</td>
<td align="center">나이록 너트(M4)</td>
<td align="center"><img src="/image/r/ESP32-RC-Car-22.png"></td>
<td align="center">2</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">9</td>
<td align="center">십자형 육각 복스</td>
<td align="center"><img src="/image/r/ESP32-RC-Car-17.png"></td>
<td align="center">1</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">10</td>
<td align="center">볼 조인트 커넥팅 로드</td>
<td align="center"><img src="/image/r/ESP32-RC-Car-09.png"></td>
<td align="center">1</td>
<td align="center">홀 간격 80.5mm 유지</td>
</tr>
<tr>
<td align="center">11</td>
<td align="center">볼 조인트 커넥팅 로드</td>
<td align="center"><img src="/image/r/ESP32-RC-Car-35.png"></td>
<td align="center">1</td>
<td align="center">홀 간격 51mm 유지</td>
</tr>
<tr>
<td align="center">12</td>
<td align="center">서보모터<br>MG996R</td>
<td align="center"><img src="/image/r/ESP32-RC-Car-54.png" style="zoom: 67%;"></td>
<td align="center">1</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">13</td>
<td align="center">ㄴ자 서보모터 브라켓</td>
<td align="center"><img src="/image/r/ESP32-RC-Car-11.png"></td>
<td align="center">2</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">14</td>
<td align="center">휠 베이스 고정판</td>
<td align="center"><img src="/image/r/ESP32-RC-Car-12.png"></td>
<td align="center">2</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">15</td>
<td align="center">서보 혼</td>
<td align="center"><img src="/image/r/ESP32-RC-Car-25.png"></td>
<td align="center">1</td>
<td align="center">(볼트 포함)</td>
</tr>
<tr>
<td align="center">16</td>
<td align="center">나이록 너트<br>(M2.5)</td>
<td align="center"><img src="/image/r/ESP32-RC-Car-23.png"></td>
<td align="center">1</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">17</td>
<td align="center">샤시 하판</td>
<td align="center"><img src="/image/r/ESP32-RC-Car-03.png"></td>
<td align="center">1</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">18</td>
<td align="center">DC엔코더 모터 &amp; 커넥터</td>
<td align="center"><img src="/image/r/ESP32-RC-Car-04.png"></td>
<td align="center">2</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">19</td>
<td align="center">모터 브라켓</td>
<td align="center"><img src="/image/r/ESP32-RC-Car-07.png" style="zoom:67%;"></td>
<td align="center">2</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">20</td>
<td align="center">샤프트</td>
<td align="center"><img src="/image/r/ESP32-RC-Car-10.png"></td>
<td align="center">2</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">21</td>
<td align="center">써클립</td>
<td align="center"><img src="/image/r/ESP32-RC-Car-24.png"></td>
<td align="center">2</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">22</td>
<td align="center">샤프트 베어링</td>
<td align="center"><img src="/image/r/ESP32-RC-Car-21.png"></td>
<td align="center">4</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">23</td>
<td align="center">기어<br>(무두볼트(Set Screw) 포함)</td>
<td align="center"><img src="/image/r/ESP32-RC-Car-05.png"></td>
<td align="center">2</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">24</td>
<td align="center">육각 샤프트 커플링 커넥터</td>
<td align="center"><img src="/image/r/ESP32-RC-Car-06.png"></td>
<td align="center">2</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">25</td>
<td align="center">범퍼</td>
<td align="center"><img src="/image/r/ESP32-RC-Car-02.png"></td>
<td align="center">1</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">26</td>
<td align="center">샤시 상판</td>
<td align="center"><img src="/image/r/ESP32-RC-Car-34.png"></td>
<td align="center">1</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">27</td>
<td align="center">락스위치</td>
<td align="center"><img src="/image/r/ESP32-RC-Car-20.png"></td>
<td align="center">1</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">28</td>
<td align="center">황동 육각 스터드<br>(M3×22mm)</td>
<td align="center"><img src="/image/r/ESP32-RC-Car-26.png"></td>
<td align="center">6</td>
<td align="center">휠 베이스 고정용 4개, 상판 고정용 2개</td>
</tr>
<tr>
<td align="center">29</td>
<td align="center">황동 육각 스터드<br>(M3×16mm)</td>
<td align="center"><img src="/image/r/ESP32-RC-Car-27.png"></td>
<td align="center">2</td>
<td align="center">범퍼 고정용 2개</td>
</tr>
<tr>
<td align="center">30</td>
<td align="center">볼트<br>(Pan head, M4×6mm)</td>
<td align="center"><img src="/image/r/ESP32-RC-Car-32.png"></td>
<td align="center">6</td>
<td align="center">모터 브라켓과 샤시 하판 고정용 6개</td>
</tr>
<tr>
<td align="center">31</td>
<td align="center">볼트<br>(Bind-Washer head, M3×6mm)</td>
<td align="center"><img src="/image/r/ESP32-RC-Car-28.png">  <img src="/image/r/ESP32-RC-Car-28.png"></td>
<td align="center">10</td>
<td align="center">서보모터와 서보모터 브라켓 고정용 4개, 서보모터 브라켓과 샤시하판 고정용 4개, 범퍼 고정용 2개</td>
</tr>
<tr>
<td align="center">32</td>
<td align="center">볼트<br>(Bind head, M3×8mm)</td>
<td align="center">![&#96;](&#x2F;image&#x2F;r&#x2F;ESP32-RC-Car-30.png)<img src="/image/r/ESP32-RC-Car-30.png"><img src="/image/r/ESP32-RC-Car-30.png"><img src="/image/r/ESP32-RC-Car-30.png"></td>
<td align="center">14</td>
<td align="center">육각 스터드 고정용 12개, 범퍼 고정용 2개</td>
</tr>
<tr>
<td align="center">33</td>
<td align="center">볼트<br>(Pan head, M2.5×10mm)</td>
<td align="center"><img src="/image/r/ESP32-RC-Car-29.png">  <img src="/image/r/ESP32-RC-Car-29.png"></td>
<td align="center">7</td>
<td align="center">커넥팅 로드 연결용 3개, 휠 베이스 연결용 4개</td>
</tr>
<tr>
<td align="center">34</td>
<td align="center">볼트<br>(Flat head, M2.5×5mm)</td>
<td align="center"><img src="/image/r/ESP32-RC-Car-31.png"></td>
<td align="center">4</td>
<td align="center">모터와 모터브라켓 고정</td>
</tr>
<tr>
<td align="center">35</td>
<td align="center">육각렌치</td>
<td align="center"><img src="/image/r/ESP32-RC-Car-33.png"></td>
<td align="center">1</td>
<td align="center">기어 무두볼트용</td>
</tr>
<tr>
<td align="center">36</td>
<td align="center">저항<br>1K or 5.1K</td>
<td align="center"><img src="/image/r/ESP32-RC-Car-13.png"></td>
<td align="center">2</td>
<td align="center">(선택사항) 인코더 풀업저항</td>
</tr>
<tr>
<td align="center">37</td>
<td align="center">홀센서 칩<br>SH41F(SOT-23타입)</td>
<td align="center"></td>
<td align="center">2</td>
<td align="center">(선택사항) 홀 센서를 이중채널로 사용할 필요가 있는 경우에, 각 모터마다 1개씩 추가함</td>
</tr>
<tr>
<td align="center">총</td>
<td align="center">36종</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
</tr>
</tbody></table>
<br>

<h4 id="전륜-조향-휠-조립"><a href="#전륜-조향-휠-조립" class="headerlink" title="전륜 조향 휠 조립"></a>전륜 조향 휠 조립</h4><p>사진 오른쪽부터 차례대로 8개의 부품을 끼워 휠을 조립한다. (왼쪽휠&#x2F;오른쪽휠 각각 1개씩, 총 2개 조립)</p>
<p><img src="/image/r/ESP32-RC-Car-36.png"></p>
<ol>
<li>먼저 검은색의 스티어링 컵에 큰 베어링을 삽입한다. (상당히 뻑뻑하므로 힘을 강하게 주면서 스티어링컵 안쪽 끝까지 밀어넣어야 한다.)</li>
</ol>
<p><img src="/image/r/ESP32-RC-Car-37.png"></p>
<ol start="2">
<li>베어링이 장착된 스티어링 컵에 회전축을 끼운다. 이때, 회전축 중앙에 있는 작은 구멍이 (고정쇠를 끼울 수 있도록) 보여야 하며, 만약 구멍이 보이지 않으면, 이전 과정에서 베어링을 더 밀어넣어 스티어링 컵에 완전히 밀착시켜야 한다.</li>
</ol>
<p><img src="/image/r/ESP32-RC-Car-38.png">   <img src="/image/r/ESP32-RC-Car-39.png"></p>
<ol start="3">
<li>회전축이 나온 스티어링컵 밑바닥에 중간 크기의 베어링을 끼운다. 역시 뻑뻑하므로 강한 힘을 주어 밀어넣어야 한다.</li>
</ol>
<p><img src="/image/r/ESP32-RC-Car-40.png"></p>
<ol start="4">
<li>회전축 중앙의 작은 구멍에 커플러 고정핀를 끼워 넣는다.</li>
</ol>
<p><img src="/image/r/ESP32-RC-Car-41.png"></p>
<ol start="5">
<li>커플러 고정핀 끼워 넣는 홈이 파인 육각 커플러를 준비한 뒤, 커플러 고정핀이 꼽혀있는 방향을 고려하여 스티어링컵에 끼운다.</li>
</ol>
<p><img src="/image/r/ESP32-RC-Car-42.png">   <img src="/image/r/ESP32-RC-Car-43.png"></p>
<ol start="6">
<li>스티어링컵에 끼운 육각 커플러를, 휠의 안쪽에 끼워 넣으면(이때, 육각 커플러가 휠의 육각 홈 안쪽까지 완전히 밀착되도록 강한 힘을 가하면서 끼운다.) 휠 바깥쪽면에 회전축의 나사산이 나온다.</li>
</ol>
<p><img src="/image/r/ESP32-RC-Car-44.png">  <img src="/image/r/ESP32-RC-Car-45.png"></p>
<ol start="7">
<li>바퀴 바깥쪽으로 빠져나온 회전축 나사를 나이록 너트(M4)를 끼워 고정한다. (십자형 육각 복스로 나이록 너트를 돌릴때 ‘딱딱’하는 소리가 몇번 날때까지 돌리면 고정이 된다.)</li>
</ol>
<p><img src="/image/r/ESP32-RC-Car-46.png"></p>
<ol start="8">
<li>동일한 방법으로 하나를 더 만들어 2개의 휠을 완성한다.</li>
</ol>
<p><img src="/image/r/ESP32-RC-Car-47.png"></p>
<ol start="9">
<li>짧은 커넥팅 로드 1개와 긴 커넥팅 로드 1개, M2.5*10mm 나사(Pan head) 3개를 준비한 뒤,</li>
</ol>
<p><img src="/image/r/ESP32-RC-Car-48.png"></p>
<ol start="10">
<li><strong>오른쪽 휠 컵</strong> 암(Arm)에 있는 구멍 2개 중, 끝부분의 구멍(빨간색으로 표시된 부분)에</li>
</ol>
<p><img src="/image/r/ESP32-RC-Car-51.png"></p>
<ol start="11">
<li>준비한 볼트(M2.5*10mm (Pan head)) 1개를 이용하여 긴 커넥팅 로드를 고정한다. 이때, 볼트의 끝 부분을 <strong>구멍 아래쪽에서 윗쪽으로</strong> 넣듯이 하여 고정한다.</li>
</ol>
<p><img src="/image/r/ESP32-RC-Car-49.png"></p>
<p>​		또한, <strong>볼트의 끝부분이 반대편 구멍 바깥쪽으로 튀어나오지 않도록</strong> 조임의 정도를 조절한다.  </p>
<p><img src="/image/r/ESP32-RC-Car-50.png">   <img src="/image/r/ESP32-RC-Car-66.png"></p>
<ol start="12">
<li><p>같은 방법으로 <strong>왼쪽 휠 컵</strong>의 구멍에 긴 커넥팅 로드의 반대편을 고정한다. (이때, 볼트의 끝부분이 반대편 구멍 바깥쪽으로 튀어나오지 않도록 조임의 정도를 조절한다. )</p>
</li>
<li><p><strong>오른쪽 휠 컵</strong>의 구멍 2개 중, 파란색으로 표시된 부분에는 동일한 볼트를 사용하여 짧은 커넥팅 로드를 연결한다. (이때, 볼트의 끝부분이 반대편 구멍 바깥쪽으로 튀어나오지 않도록 조임의 정도를 조절한다. )</p>
</li>
</ol>
<p><img src="/image/r/ESP32-RC-Car-52.png"></p>
<ol start="14">
<li>전륜 휠 베이스 완성된 모습</li>
</ol>
<p><img src="/image/r/ESP32-RC-Car-53.png"></p>
<br>

<h4 id="조향-서보모터-조립"><a href="#조향-서보모터-조립" class="headerlink" title="조향 서보모터 조립"></a>조향 서보모터 조립</h4><ol>
<li>MG996R 서보모터를 준비한 후,</li>
</ol>
<p><img src="/image/r/ESP32-RC-Car-54.png"></p>
<ol start="2">
<li><p>아래 회로도와 스케치를 참고하여, 서보모터의 초기 위치를 90도 위치로 회전시켜 둔다.</p>
<ul>
<li><p>schematic</p>
<p><img src="/image/SG90.png"></p>
<table>
<thead>
<tr>
<th>MG996R</th>
<th>갈색</th>
<th>빨간색</th>
<th>주황색</th>
</tr>
</thead>
<tbody><tr>
<td>ESP32</td>
<td>GND</td>
<td>5V</td>
<td>GPIO 15</td>
</tr>
</tbody></table>
</li>
<li><p>sketch</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> ledPin = <span class="number">15</span>;  <span class="comment">// corresponds to GPIO 15</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// setting PWM properties</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> ledChannel = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> freq = <span class="number">50</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> resolution = <span class="number">16</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">setup</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="comment">// PWM Setup</span></span><br><span class="line">  <span class="built_in">ledcSetup</span>(ledChannel, freq, resolution);  <span class="comment">// PWM CH0, Frequncy 50 Hz, 16bit resolution</span></span><br><span class="line">  <span class="built_in">ledcAttachPin</span>(ledPin, ledChannel);        <span class="comment">// PWM CH0을 GPIO 15번으로 출력</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">loop</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="built_in">ledcWrite</span>(ledChannel, <span class="number">4910</span>);              <span class="comment">// 1638 ~ 8192 (90degree = 4910)</span></span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">500</span>);  </span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>ㄴ자 서보모터 브라켓, 브라켓 고정용 볼트(Pan-Washer head, M3×6mm) 8개, 서보 혼(고정용 볼트 1개 포함)를 준비한다.</p>
</li>
</ol>
<p><img src="/image/r/ESP32-RC-Car-55.png">   <img src="/image/r/ESP32-RC-Car-56.png"></p>
<ol start="4">
<li>와셔볼트 4개를 사용하여 ㄴ자 브라켓을 고정하고, 서버 혼도 고정용 볼트를 사용하여 장착한다. (<strong>아래 사진을 잘 보면서 MG996R 스티커의 글씨 방향, ㄴ자 브라켓이 고정된 방향, 서보 혼 방향(현재 사진에 보이는 서보 날개의 위치가 90도가 됨)에 유의하여 장착한다.</strong>)</li>
</ol>
<p><img src="/image/r/ESP32-RC-Car-57.png"></p>
<ol start="5">
<li>샤시 하판에 와셔볼트 4개를 사용하여 서보모터를 고정한다.</li>
</ol>
<img src="/image/r/ESP32-RC-Car-58.png" style="zoom:80%;">

<p><img src="/image/r/ESP32-RC-Car-59.png"></p>
<br>

<h4 id="샤시-하판에-휠-베이스-고정하기"><a href="#샤시-하판에-휠-베이스-고정하기" class="headerlink" title="샤시 하판에 휠 베이스 고정하기"></a>샤시 하판에 휠 베이스 고정하기</h4><ol>
<li>준비물: 서보모터가 고정된 샤시 하판, 황동 육각 스터드 M3×22mm 4개, 볼트 M3*8mm 8개, M2.5×10mm 4개, 부채꼴 모양의 휠 베이스 고정판 2개</li>
</ol>
<p> <img src="/image/r/ESP32-RC-Car-60.png"></p>
<ol start="2">
<li>(위 1번 사진의) 빨간색으로 표시된 부분에 육각 스터드 4개를 고정한다.</li>
</ol>
<p><img src="/image/r/ESP32-RC-Car-61.png"></p>
<ol start="3">
<li>(위 1번 사진의) 파란색으로 표시된 부분의 구멍에는, 다음 그림과 같이 긴 커넥팅 로드가 붙어있는 쪽의 휠 컵 구멍(아래 사진에서 파란색으로 표시된 부분)을 맞추어 볼트(M2.5×10mm)로 고정시킨다. (이때, 양쪽 휠 컵의 암(Arm) 부분이 차량 전면을 향하도록 한 상태에서 연결해야 한다.)</li>
</ol>
<p><img src="/image/r/ESP32-RC-Car-62.png"></p>
<ol start="4">
<li>고정이 완료된 상태에서 밑면을 보면 다음과 같으며,</li>
</ol>
<p><img src="/image/r/ESP32-RC-Car-63.png"></p>
<p>​		위에서 바라본 모습은 다음과 같다.</p>
<p><img src="/image/r/ESP32-RC-Car-64.png"></p>
<ol start="5">
<li><p>(파란색 원으로 표시된 부분) 부채꼴 모양의 휠 베이스 고정판을 양쪽 휠에 있는 육각 스터드와 스티어링 컵의 구멍에 고정한다. (볼트 M3×8mm 8개, M2.5×10mm 4개 사용)</p>
<p>(빨간색 원으로 표시된 부분) M2.5*10mm 나사와 나이록 너트(M2.5)를 사용하여, 짧은 커넥팅 로드를 서보 혼에 고정한다. 이때, 십자형 육각 복스로 나이록 너트를 돌릴때 ‘딱딱’하는 소리가 몇번 날때까지 돌리면 고정이 된다.)</p>
</li>
</ol>
<p><img src="/image/r/ESP32-RC-Car-65.png"></p>
<p>​		아래 사진은 완성된 전륜 조향 휠 부분을 정면에서 바라본 모습이다.</p>
<p><img src="/image/r/ESP32-RC-Car-67.png"></p>
<br>

<h4 id="후륜-모터-파트-조립"><a href="#후륜-모터-파트-조립" class="headerlink" title="후륜 모터 파트 조립"></a>후륜 모터 파트 조립</h4><ol>
<li><p>25GA370 엔코더 모터에 모터 커넥터를 끼우고, 볼트 (Flat head, M2.5×5mm) 2개를 사용하여 모터 브라켓를 고정한다.</p>
<p> <img src="/image/r/ESP32-RC-Car-68.png"></p>
</li>
<li><p>베어링 2개, 샤프트, 써클립, 기어, 육각 샤프트 커플링 커넥터, 써클립(Circlip)을 준비한다.</p>
</li>
</ol>
<img src="/image/r/ESP32-RC-Car-69.png" style="zoom: 80%;">

<ol start="3">
<li>샤프트 끝부분에 있는 홈에 써클립을 끼운다.</li>
</ol>
<p><img src="/image/r/ESP32-RC-Car-70.png">   <img src="/image/r/ESP32-RC-Car-71.png"></p>
<ol start="4">
<li>모터 브라켓 양쪽 끝에 있는 구멍에 베어링을 끼우고, 써클립을 끼운 샤프트를 밀어넣는다.</li>
</ol>
<img src="/image/r/ESP32-RC-Car-72.png" style="zoom: 67%;">

<p>​		샤프트를 끼운 후, 모터를 앞쪽과 뒷쪽에서 보았을때의 모습</p>
<p><img src="/image/r/ESP32-RC-Car-74.png">  <img src="/image/r/ESP32-RC-Car-73.png"></p>
<ol start="5">
<li>모터에 부착되어 있는 작은 황동 기어에 흰색 플라스틱으로 된 기어가 맞물려지도록 샤프트에 끼우고, 기어 측면에 있는 작은 무두볼트(Set Screw) 2개를 육각렌치를 사용하여 적절하게 분배하여 조여준다. 이때 <strong>한쪽 무두볼트만 조여서 고정하면 기어에서 무두볼트가 빠지거나 고정이 되지 않을 수 있다.</strong> 이를 고려하여 양쪽의 나사를 적절히 분배하여 조이도록 한다.</li>
</ol>
<p><img src="/image/r/ESP32-RC-Car-75.png">   <img src="/image/r/ESP32-RC-Car-76.png"></p>
<ol start="6">
<li>육각 샤프트 커플링 커넥터를 준비하여 샤프트에 끼운 후, 커넥터 측면의 볼트를 돌려 고정한다. 이때, 고정하는 볼트의 끝부분이 샤프트의 편평한 면에 닿도록 조여준다.</li>
</ol>
<p><img src="/image/r/ESP32-RC-Car-77.png" style="zoom:80%;">   <img src="/image/r/ESP32-RC-Car-78.png" style="zoom:80%;"></p>
<ol start="7">
<li><p>같은 방법으로 후면 왼쪽 모터도 조립한다.</p>
</li>
<li><p>샤시 하판 뒷편 양쪽에 있는 삼각형 형태로 위치한 구멍에, 모터 브라켓을 올려놓고 볼트(Pan head, M4×6mm)를 사용하여 고정한다.</p>
</li>
</ol>
<p><img src="/image/r/ESP32-RC-Car-79.png"></p>
<p>​		오른쪽 모터를 샤시 후면에 고정한 모습이다. 같은 방법으로 왼쪽 후면 모터도 고정한다.</p>
<p><img src="/image/r/ESP32-RC-Car-80.png"></p>
<br>

<h4 id="범퍼-조립"><a href="#범퍼-조립" class="headerlink" title="범퍼 조립"></a>범퍼 조립</h4><ol>
<li>육각 스터드(M3×16mm) 2개와 볼트 (Bind-Washer head, M3×6mm) 4개 준비</li>
</ol>
<p><img src="/image/r/ESP32-RC-Car-81.png"></p>
<ol start="2">
<li>준비된 육각 스터드를 샤시 하판의 맨 앞쪽에 고정한다.</li>
</ol>
<p><img src="/image/r/ESP32-RC-Car-82.png"></p>
<ol start="3">
<li>범퍼를 육각기둥에 끼운 후, 와셔볼트를 사용하여 고정한다.</li>
</ol>
<p> <img src="/image/r/ESP32-RC-Car-83.png" style="zoom:80%;">   <img src="/image/r/ESP32-RC-Car-84.png" style="zoom:80%;"></p>
<br>

<h4 id="샤시-상판-고정"><a href="#샤시-상판-고정" class="headerlink" title="샤시 상판 고정"></a>샤시 상판 고정</h4><ol>
<li>육각 스터드(M3×22mm) 2개를 서보모터와 DC엔코더모터 사이에 있는 구멍에 볼트(M3.0×8mm)로 고정한다.</li>
</ol>
<p><img src="/image/r/ESP32-RC-Car-85.png"></p>
<p>​		육각 스터드를 고정한 모습이다.</p>
<p><img src="/image/r/ESP32-RC-Car-86.png"></p>
<ol start="2">
<li>샤시 상판의 보호필름을 떼어내고, 육각 스터드 홀에 맟춰 올린 뒤,</li>
</ol>
<p><img src="/image/r/ESP32-RC-Car-87.png"></p>
<ol start="3">
<li>볼트(Bind head, M3.0×8mm) 2개를 사용하여 상판을 고정한다.</li>
</ol>
<p><img src="/image/r/ESP32-RC-Car-88.png"></p>
<p>​		상판의 오른쪽 하단에 락스위치를 꼽아 고정한 뒤에, 배터리의 (+)라인에 직렬로 배선할 수 있도록 준비한다.</p>
<br>

<h4 id="후륜-휠-장착"><a href="#후륜-휠-장착" class="headerlink" title="후륜 휠 장착"></a>후륜 휠 장착</h4><ol>
<li>육각 휠 너트 앞쪽에 있던 나사를 풀러낸 뒤,</li>
</ol>
<p><img src="/image/r/ESP32-RC-Car-89.png"></p>
<ol start="2">
<li>바퀴를 끼우고, 풀러냈던 나사로 다시 고정한다.</li>
</ol>
<p><img src="/image/r/ESP32-RC-Car-90.png"></p>
<br>

<h4 id="샤시-완성"><a href="#샤시-완성" class="headerlink" title="샤시 완성"></a>샤시 완성</h4><img src="/image/r/ESP32-RC-Car-91.png" style="zoom: 50%;">

<img src="/image/r/ESP32-RC-Car-92.png" style="zoom:50%;">

<img src="/image/r/ESP32-RC-Car-93.png" style="zoom:50%;">

<br>

<br>

<h3 id="ESP32-Parts"><a href="#ESP32-Parts" class="headerlink" title="ESP32 Parts"></a>ESP32 Parts</h3><p>완성된 샤시의 상판과 하판을 이용하여 ESP32, 브레드보드, 모터드라이버, 배터리, 전원모듈 등을 장작한다.</p>
<br>

<h4 id="for-RC-Car-ESP32-nRF24L01-TB6612FNG-25GA370-MG996R"><a href="#for-RC-Car-ESP32-nRF24L01-TB6612FNG-25GA370-MG996R" class="headerlink" title="for RC Car (ESP32 + nRF24L01 + TB6612FNG + 25GA370 + MG996R)"></a>for RC Car (ESP32 + nRF24L01 + TB6612FNG + 25GA370 + MG996R)</h4><h5 id="sketch"><a href="#sketch" class="headerlink" title="sketch"></a>sketch</h5><p>RC Car에 장착하는 ESP32에 업로드</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;SPI.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;RF24.h&gt;</span></span></span><br><span class="line"><span class="function">RF24 <span class="title">radio</span><span class="params">(<span class="number">4</span>, <span class="number">5</span>)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">long</span> <span class="keyword">long</span> address = <span class="number">0x1234ABCDEF</span>LL;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Value</span>&#123;</span></span><br><span class="line">  <span class="keyword">uint16_t</span> value_x;   <span class="comment">// servo motor pwm</span></span><br><span class="line">  <span class="keyword">uint16_t</span> value_y;   <span class="comment">// DC motor pwm</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">Value data;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> angle_x = <span class="number">90</span>;     <span class="comment">// servo initial position (0~180)</span></span><br><span class="line"><span class="keyword">int</span> velo_y = <span class="number">0</span>;       <span class="comment">// DC motor inital velocity</span></span><br><span class="line"><span class="keyword">int</span> direction_y = <span class="number">0</span>;  <span class="comment">// DC motor direction</span></span><br><span class="line"><span class="keyword">int</span> i = <span class="number">0</span>;            <span class="comment">// joystick center position calculation counter</span></span><br><span class="line"><span class="keyword">int</span> center_x = <span class="number">0</span>;     <span class="comment">// joystick initial center_x </span></span><br><span class="line"><span class="keyword">int</span> center_y = <span class="number">0</span>;     <span class="comment">// joystick initial center_y</span></span><br><span class="line"><span class="keyword">int</span> ref_xl, ref_xr, ref_ya, ref_yb;    <span class="comment">// Servo &amp; DC rotation reference value from center position value</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//servo setting</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> PIN_SERVO = <span class="number">15</span>;             <span class="comment">// servo pwm pin</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> CH_SERVO = <span class="number">2</span>;               <span class="comment">// servo pwm channel</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> servoFrequency = <span class="number">50</span>;        <span class="comment">// servo pwm frequency (Hz)</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> servoResolution = <span class="number">16</span>;       <span class="comment">// servo pwm resolution (bit) (12bit: 0~4095)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// RecvTime</span></span><br><span class="line"><span class="keyword">unsigned</span> <span class="keyword">long</span> lastRecvTime = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">centerData</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="keyword">while</span>(i &lt; <span class="number">100</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span>(radio.<span class="built_in">available</span>())&#123;</span><br><span class="line">      radio.<span class="built_in">read</span>(&amp;data, <span class="built_in"><span class="keyword">sizeof</span></span>(Value));</span><br><span class="line">      center_x = center_x + data.value_x;</span><br><span class="line">      center_y = center_y + data.value_y;</span><br><span class="line">      i++;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  center_x = center_x / <span class="number">100</span>;         <span class="comment">// x축 조이스틱 센터값 (평균)</span></span><br><span class="line">  center_y = center_y / <span class="number">100</span>;         <span class="comment">// y축 조이스틱 센터값 (평균)</span></span><br><span class="line"></span><br><span class="line">  ref_xl = center_x / <span class="number">2</span>;             <span class="comment">// 좌회전 동작 기준값</span></span><br><span class="line">  ref_xr = (<span class="number">4095</span> + center_x) / <span class="number">2</span>;    <span class="comment">// 우회전 동작 기준값</span></span><br><span class="line">  ref_ya = (<span class="number">4095</span> + center_y) / <span class="number">2</span>;    <span class="comment">// accelator 동작 기준값</span></span><br><span class="line">  ref_yb = center_y / <span class="number">2</span>;             <span class="comment">// brake 동작 기준값</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">recvData</span><span class="params">()</span></span>&#123;</span><br><span class="line">  <span class="keyword">while</span>(radio.<span class="built_in">available</span>())&#123;</span><br><span class="line">    radio.<span class="built_in">read</span>(&amp;data, <span class="built_in"><span class="keyword">sizeof</span></span>(Value));</span><br><span class="line">    lastRecvTime = <span class="built_in">millis</span>();  </span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">// TB6612FNG right side &amp; ESP32-WROOM-32D DEVKIT_C V4 left side pin order</span></span><br><span class="line"><span class="comment">const int PIN_PWMA = 32;  </span></span><br><span class="line"><span class="comment">const int PIN_INA1 = 33;</span></span><br><span class="line"><span class="comment">const int PIN_INA2 = 25;</span></span><br><span class="line"><span class="comment">const int PIN_STBY = 26;</span></span><br><span class="line"><span class="comment">const int PIN_INB1 = 27;</span></span><br><span class="line"><span class="comment">const int PIN_INB2 = 14;</span></span><br><span class="line"><span class="comment">const int PIN_PWMB = 12;</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// TB6612FNG right side &amp; ESP32-WROOM-32 left side pin order</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> PIN_PWMA = <span class="number">33</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> PIN_AIN2 = <span class="number">25</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> PIN_AIN1 = <span class="number">26</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> PIN_STBY = <span class="number">27</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> PIN_BIN1 = <span class="number">14</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> PIN_BIN2 = <span class="number">12</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> PIN_PWMB = <span class="number">13</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// channel setting (GPIO pin, channel)</span></span><br><span class="line"><span class="comment">// if STBY(CH0) = LOW, Standby states.</span></span><br><span class="line"><span class="comment">// if STBY(CH0) = HIGH, and INA1&amp;INA2 have different value</span></span><br><span class="line"><span class="comment">// and PWMA has some value, CW or CCW rotation is made.</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Channel      CW   CCW  Stanby Stop Brake1 Brake2 Brake3</span></span><br><span class="line"><span class="comment">// PIN_STBY (0) HIGH HIGH LOW    HIGH  HIGH  HIGH   HIGH</span></span><br><span class="line"><span class="comment">// PIN_INA1 (1) HIGH LOW  *      LOW   HIGH  LOW    HIGH</span></span><br><span class="line"><span class="comment">// PIN_INA2 (2) LOW  HIGH *      LOW   HIGH  HIGH   LOW</span></span><br><span class="line"><span class="comment">// CH_PWMA  (3) PWM  PWM  *      HIGH  *     LOW    LOW</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// PWM Channel setup</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> CH_PWMA = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> CH_PWMB = <span class="number">1</span>;</span><br><span class="line"><span class="comment">// PWM frequency and bit resolution setup</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> pwmFrequency = <span class="number">10000</span>;  <span class="comment">// Hz</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> bitResolution = <span class="number">8</span>;     <span class="comment">// pwm value: 0~255</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// led setup</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> PIN_LED = <span class="number">2</span>;</span><br><span class="line"><span class="keyword">int</span> ledstate;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">setup</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="comment">// put your setup code here, to run once:</span></span><br><span class="line">  Serial.<span class="built_in">begin</span>(<span class="number">115200</span>);</span><br><span class="line"></span><br><span class="line">  radio.<span class="built_in">begin</span>();</span><br><span class="line">  radio.<span class="built_in">openReadingPipe</span>(<span class="number">1</span>, address);</span><br><span class="line">  radio.<span class="built_in">setPALevel</span>(RF24_PA_LOW);</span><br><span class="line">  radio.<span class="built_in">startListening</span>();</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Servo PWM Setup</span></span><br><span class="line">  <span class="built_in">ledcSetup</span>(CH_SERVO, servoFrequency, servoResolution);  <span class="comment">// PWM CH2, Frequncy 50 Hz, 12bit resolution</span></span><br><span class="line">  <span class="built_in">ledcAttachPin</span>(PIN_SERVO, CH_SERVO);                    <span class="comment">// PWM CH2을 GPIO 15번으로 출력</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// center value</span></span><br><span class="line">  <span class="built_in">centerData</span>();</span><br><span class="line">  </span><br><span class="line">  <span class="built_in">pinMode</span>(PIN_LED, OUTPUT);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// tb6612fng setting</span></span><br><span class="line">  <span class="built_in">pinMode</span>(PIN_STBY, OUTPUT);</span><br><span class="line">  <span class="built_in">pinMode</span>(PIN_AIN1, OUTPUT);</span><br><span class="line">  <span class="built_in">pinMode</span>(PIN_AIN2, OUTPUT);</span><br><span class="line">  <span class="built_in">pinMode</span>(PIN_PWMA, OUTPUT);</span><br><span class="line">  <span class="built_in">pinMode</span>(PIN_BIN1, OUTPUT);</span><br><span class="line">  <span class="built_in">pinMode</span>(PIN_BIN2, OUTPUT);</span><br><span class="line">  <span class="built_in">pinMode</span>(PIN_PWMB, OUTPUT);</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// motor output(PWM) setting (channel, frequency, bit)</span></span><br><span class="line">  <span class="built_in">ledcSetup</span>(CH_PWMA, pwmFrequency, bitResolution);</span><br><span class="line">  <span class="built_in">ledcSetup</span>(CH_PWMB, pwmFrequency, bitResolution);</span><br><span class="line">  <span class="built_in">ledcAttachPin</span>(PIN_PWMA, CH_PWMA);</span><br><span class="line">  <span class="built_in">ledcAttachPin</span>(PIN_PWMB, CH_PWMB);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">loop</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  ledstate = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">unsigned</span> <span class="keyword">long</span> now = <span class="built_in">millis</span>();</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span>( now - lastRecvTime &gt; <span class="number">5</span>)&#123;    <span class="comment">// 5ms 마다 서보출력</span></span><br><span class="line">    <span class="built_in">recvData</span>();</span><br><span class="line">    <span class="built_in">rotate_xy</span>();</span><br><span class="line"></span><br><span class="line">    <span class="built_in">move</span>(<span class="number">1</span>, velo_y, direction_y);               <span class="comment">// motor A(right wheels), velo_y speed, moving direction</span></span><br><span class="line">    <span class="built_in">move</span>(<span class="number">2</span>, velo_y, direction_y);               <span class="comment">// motor B(left wheels), velo_y speed, moving direction</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(ledstate &gt; <span class="number">0</span>) &#123;</span><br><span class="line">      <span class="built_in">digitalWrite</span>(PIN_LED, HIGH);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="built_in">digitalWrite</span>(PIN_LED, LOW);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">move</span><span class="params">(<span class="keyword">int</span> motor, <span class="keyword">int</span> speed, <span class="keyword">int</span> direction)</span> </span>&#123;   <span class="comment">//Move specific motor at speed and direction</span></span><br><span class="line"><span class="comment">//motor: A(Right) -&gt; 1, B(Left) -&gt; 2</span></span><br><span class="line"><span class="comment">//speed: 0 is off, and 255 is full speed</span></span><br><span class="line"><span class="comment">//direction: 0 clockwise, 1 counter-clockwise</span></span><br><span class="line"></span><br><span class="line">  <span class="built_in">digitalWrite</span>(PIN_STBY, HIGH);         <span class="comment">// move</span></span><br><span class="line"></span><br><span class="line">  boolean inPin1 = HIGH;                <span class="comment">// Defalut(direction=0) - Clockwise</span></span><br><span class="line">  boolean inPin2 = LOW;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span>(direction == <span class="number">1</span>) &#123;                  <span class="comment">// Count-clockwise</span></span><br><span class="line">    inPin1 = LOW;</span><br><span class="line">    inPin2 = HIGH;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span>(motor == <span class="number">1</span>)&#123;                       <span class="comment">// if motor == 1, right wheel</span></span><br><span class="line">    <span class="built_in">digitalWrite</span>(PIN_AIN1, inPin1);</span><br><span class="line">    <span class="built_in">digitalWrite</span>(PIN_AIN2, inPin2);</span><br><span class="line">    <span class="built_in">ledcWrite</span>(CH_PWMA, speed);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">else</span> &#123;                                <span class="comment">// if motor is not 1, left wheel</span></span><br><span class="line">    <span class="built_in">digitalWrite</span>(PIN_BIN1, inPin1);</span><br><span class="line">    <span class="built_in">digitalWrite</span>(PIN_BIN2, inPin2);</span><br><span class="line">    <span class="built_in">ledcWrite</span>(CH_PWMB, speed);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">stop</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="built_in">digitalWrite</span>(PIN_STBY, LOW);         <span class="comment">// stand-by = stop</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">rotate_xy</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  Serial.<span class="built_in">print</span>(<span class="string">&quot;x: &quot;</span>); Serial.<span class="built_in">print</span>(data.value_x);</span><br><span class="line">  Serial.<span class="built_in">print</span>(<span class="string">&quot;, y: &quot;</span>); Serial.<span class="built_in">println</span>(data.value_y);</span><br><span class="line"></span><br><span class="line">  <span class="comment">//x축 서보 구동 조건 설정</span></span><br><span class="line">  <span class="keyword">if</span>(data.value_x &lt; ref_xl) &#123;     </span><br><span class="line">    <span class="keyword">if</span>(angle_x &gt; <span class="number">55</span>) &#123;                 <span class="comment">// servo 55~125 degree</span></span><br><span class="line">      angle_x--;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">      angle_x = <span class="number">55</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    ledstate++;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span>(data.value_x &gt; ref_xr) &#123;</span><br><span class="line">    <span class="keyword">if</span>(angle_x &lt; <span class="number">125</span>) &#123;</span><br><span class="line">      angle_x++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">      angle_x = <span class="number">125</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    ledstate++;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">if</span>(angle_x &lt; <span class="number">90</span>) &#123;</span><br><span class="line">      angle_x++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(angle_x &gt; <span class="number">90</span>) &#123;</span><br><span class="line">      angle_x--;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">      angle_x = <span class="number">90</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">//servo_x.write(angle_x);</span></span><br><span class="line">  <span class="built_in">servoWrite</span>(CH_SERVO, angle_x);</span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">5</span>);                    <span class="comment">// delay를 더 줄이면 서보 모터 기어에 무리가 감</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">//y축 DC 구동 조건 설정</span></span><br><span class="line">  <span class="keyword">if</span>(data.value_y &gt; ref_ya) &#123;</span><br><span class="line">    <span class="keyword">if</span>(direction_y == <span class="number">0</span>) &#123;</span><br><span class="line">      <span class="keyword">if</span>(velo_y &lt; <span class="number">255</span>) &#123;</span><br><span class="line">        velo_y++;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">else</span> &#123;</span><br><span class="line">        velo_y = <span class="number">255</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(direction_y == <span class="number">1</span>) &#123;</span><br><span class="line">      <span class="keyword">if</span>(velo_y &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        velo_y--;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">else</span> &#123;</span><br><span class="line">        direction_y = <span class="number">0</span>;</span><br><span class="line">        velo_y = <span class="number">0</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    ledstate++;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span>(data.value_y &lt; ref_yb) &#123;</span><br><span class="line">    <span class="keyword">if</span>(direction_y == <span class="number">1</span>) &#123;</span><br><span class="line">      <span class="keyword">if</span>(velo_y &lt; <span class="number">255</span>) &#123;</span><br><span class="line">        velo_y++;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">else</span> &#123;</span><br><span class="line">        velo_y = <span class="number">255</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(direction_y == <span class="number">0</span>) &#123;</span><br><span class="line">      <span class="keyword">if</span>(velo_y &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        velo_y--;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">else</span> &#123;</span><br><span class="line">        direction_y = <span class="number">1</span>;</span><br><span class="line">        velo_y = <span class="number">0</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    ledstate++;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">if</span>(velo_y &gt; <span class="number">0</span>) &#123;</span><br><span class="line">      velo_y--;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">      velo_y = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// deg는 0~180도 까지</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">servoWrite</span><span class="params">(<span class="keyword">int</span> ch, <span class="keyword">int</span> deg)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> servoPWM = <span class="built_in">map</span>(deg, <span class="number">0</span>, <span class="number">180</span>, <span class="number">2720</span>, <span class="number">8191</span>);  <span class="comment">// 16bit (PWM 4.15% ~ 12.5%)</span></span><br><span class="line">    <span class="built_in">ledcWrite</span>(ch, servoPWM);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<br>

<h5 id="schematic"><a href="#schematic" class="headerlink" title="schematic"></a>schematic</h5><p><img src="/image/r/ESP32-RC-Car-94.png"></p>
<br>

<h5 id="16P-amp-4P-jumper-block-사용"><a href="#16P-amp-4P-jumper-block-사용" class="headerlink" title="16P &amp; 4P jumper block 사용"></a>16P &amp; 4P jumper block 사용</h5><p>RC카를 제작해보면 프레임 조립 후 여러가지 구동을 위한 부품을 넣어야 하는데, 큰 브레드보드를 장착하기에는 공간이 좁아 조립이 어려울 수 있다. 그러므로 브레드보드를 제거하고 16P &amp; 4P의 점퍼 블록을 사용해 RC카에 장착해본다. </p>
<br>

<p>16P 점퍼블록과 4P 점퍼블록, 그리고 2개의 와이어핀을 준비한다.</p>
<p><img src="/image/so1.png"></p>
<br>

<p>2개의 와이어핀을 4P 점퍼블록의 중앙에 꼽아넣음으로써, 4개의 핀소켓이 모두 연결되어 있는 상태가 되도록 만든다. (1개의 와이어만 넣어도 연결은 되지만, 헐거워 고정이 안되기 때문에 2개를 사용하는 것임)</p>
<p><img src="/image/so2.png"></p>
<br>

<p>16P 점퍼블록을 사용하여 ESP32 DevkitC V4 보드와 TB6612FNG 모터드라이브를 다음과 같이 연결한다. </p>
<table>
<thead>
<tr>
<th><img src="/image/so3.png"></th>
<th>32 - PWMA<br>33 - AIN2<br>25 - AIN1<br>26 - NC<br>27 - BIN1<br>14 - BIN2<br>12 - PWMB<br> GND - GND                                                              <br></th>
</tr>
</thead>
</table>
<br>

<p>ESP32의 5V핀에는 4P 점퍼블록을 꼽아, 5V핀을 3개 사용할 수 있도록 만들어준다. 제작 후 위에서 바라본 모습은 다음과 같다.</p>
<p><img src="/image/so4.png"></p>
<br>

<br>

<h4 id="for-Remote-Controller-ESP32-nRF24L01-Dual-Joystick"><a href="#for-Remote-Controller-ESP32-nRF24L01-Dual-Joystick" class="headerlink" title="for Remote Controller (ESP32 + nRF24L01 + Dual Joystick)"></a>for Remote Controller (ESP32 + nRF24L01 + Dual Joystick)</h4><h5 id="sketch-1"><a href="#sketch-1" class="headerlink" title="sketch"></a>sketch</h5><ul>
<li>리모트 컨트롤러로 사용할 TTGO T-energy(ESP32)에 업로드한다.</li>
<li>TTGO T-energy를 컴퓨터와 연결하여 사용할 경우에는 반드시 18650 배터리를 제거하거나 스위치를 OFF상태로 두어야 한다.</li>
<li>그러므로 <strong>스케치 업로드 시에는 안전한 사용을 위해 18650 배터리를 제거</strong>한 뒤 아래의 스케치를 업로드하도록 한다.</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;SPI.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;RF24.h&gt;</span></span></span><br><span class="line"><span class="function">RF24 <span class="title">radio</span><span class="params">(<span class="number">4</span>, <span class="number">5</span>)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">long</span> <span class="keyword">long</span> address = <span class="number">0x1234ABCDEF</span>LL;</span><br><span class="line"></span><br><span class="line"><span class="comment">// for no interference, two joysticks must be used with each other ADC!  </span></span><br><span class="line"><span class="comment">// one joystick use ADC1: GPIO 36,39,32,33,34,35</span></span><br><span class="line"><span class="comment">// the other must use ADC2: GPIO 4,0,2,15,13,12,14,27,25,26</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> Jstick_x_pin = <span class="number">25</span>;           <span class="comment">// Left_Right GPIO25</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> Jstick_y_pin = <span class="number">32</span>;           <span class="comment">// Forward_Back GPIO32</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Value</span>&#123;</span></span><br><span class="line">  <span class="keyword">uint16_t</span> value_x;</span><br><span class="line">  <span class="keyword">uint16_t</span> value_y;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">Value data;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">setup</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  Serial.<span class="built_in">begin</span>(<span class="number">115200</span>);</span><br><span class="line">  </span><br><span class="line">  radio.<span class="built_in">begin</span>();</span><br><span class="line">  radio.<span class="built_in">openWritingPipe</span>(address);</span><br><span class="line">  radio.<span class="built_in">setPALevel</span>(RF24_PA_MIN);</span><br><span class="line">  radio.<span class="built_in">stopListening</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">loop</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  data.value_x = <span class="built_in">Jstick</span>(Jstick_x_pin);</span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">10</span>);</span><br><span class="line">  data.value_y = <span class="built_in">Jstick</span>(Jstick_y_pin);</span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">10</span>);</span><br><span class="line">  radio.<span class="built_in">write</span>(&amp;data, <span class="built_in"><span class="keyword">sizeof</span></span>(Value));</span><br><span class="line"></span><br><span class="line">  <span class="comment">//Serial.print(&quot;x: &quot;); Serial.print(data.value_x);</span></span><br><span class="line">  <span class="comment">//Serial.print(&quot;, y: &quot;); Serial.println(data.value_y);</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">uint16_t</span> <span class="title">Jstick</span><span class="params">(<span class="keyword">int</span> Jstick_Pin)</span></span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">analogRead</span>(Jstick_Pin);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<br>

<h5 id="schematic-1"><a href="#schematic-1" class="headerlink" title="schematic"></a>schematic</h5><p><img src="/image/r/ESP32-RC-Car-95.png"></p>
<br>

<ul>
<li>TTGO T-energy 에는 5V 단자가 1개 있음.</li>
<li>2개의 조이스틱에 5V가 각각 입력되어야 하므로, TTGO T-energy의 5V 단자를 2개로 분기할 수 있는 Y자형 케이블을 제작하여 사용하도록 한다.</li>
</ul>
<p><img src="/image/r/ESP32-RC-Car-96.png"></p>
<p>​      위 형태는 (오른쪽) 1개의 (F)단자를 (왼쪽) 3개의 (F)단자로 분기하는 형태의 케이블이다.</p>
<p>​      이를 참고하여 1개의 단자를 2개의 단자로 나눠주는 케이블을 제작하면 된다.</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time datetime="2021-11-01T09:27:53.000Z" title="2021. 11. 1. 오후 6:27:53">2021-11-01</time>&nbsp;게시 됨</span><span class="level-item"><time datetime="2021-11-17T03:30:56.000Z" title="2021. 11. 17. 오후 12:30:56">2021-11-17</time>&nbsp;업데이트 됨</span><span class="level-item"><a class="link-muted" href="/categories/esp32/">ESP32</a></span><span class="level-item">13분안에 읽기 (약 1938 단어)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2021/11/01/ESP32-DC%EB%AA%A8%ED%84%B0/">ESP32, DC모터, TB6612FNG</a></h1><div class="content"><h3 id="DC모터-사용하기"><a href="#DC모터-사용하기" class="headerlink" title="DC모터 사용하기"></a>DC모터 사용하기</h3><p>아두이노의 경우와 마찬가지로 ESP32에서도 TB6612FNG 모터드라이버와 함께, 모터 및 아두이노 단독사용을 위하여 3.7V 18650 2개를 직렬로 연결한 외부전원을 사용한다.</p>
<br>

<h4 id="TB6612FNG"><a href="#TB6612FNG" class="headerlink" title="TB6612FNG"></a>TB6612FNG</h4><h5 id="기본-핀-배열"><a href="#기본-핀-배열" class="headerlink" title="기본 핀 배열"></a>기본 핀 배열</h5><table>
<thead>
<tr>
<th align="center">VM<br>VCC<br>GND(*)<br>AOUT1<br>AOUT2<br>BOUT2<br>BOUT1<br>GND</th>
<th align="center"><img src="/image/t/tb6612fng-01.png" style="zoom:50%;"></th>
<th align="center">PWMA<br>AIN2<br>AIN1<br>STBY<br>BIN1<br>BIN2<br>PWMB<br>GND</th>
</tr>
</thead>
<tbody><tr>
<td align="center"></td>
<td align="center"><img src="/image/t/tb6612fng-02.png" style="zoom: 42%;"></td>
<td align="center"></td>
</tr>
</tbody></table>
<br>

<h5 id="핀-배열이-다른-경우"><a href="#핀-배열이-다른-경우" class="headerlink" title="핀 배열이 다른 경우"></a>핀 배열이 다른 경우</h5><table>
<thead>
<tr>
<th align="center">GND<br>VCC<br>AOUT1<br>AOUT2<br>BOUT2<br>BOUT1<br>VM<br>GND</th>
<th align="center"><img src="/image/t/tb6612fng-03.png" style="zoom:75%;"></th>
<th align="center">PWMA<br>AIN2<br>AIN1<br>NC (&#x3D;STBY)<br>BIN1<br>BIN2<br>PWMB<br>GND</th>
</tr>
</thead>
<tbody><tr>
<td align="center"></td>
<td align="center"><img src="/image/t/tb6612fng-04.png" style="zoom: 50%;"></td>
<td align="center"></td>
</tr>
</tbody></table>
<ul>
<li>VM (모터 전압) &#x3D; 15V max</li>
<li>VCC (로직 전압) &#x3D; 2.7 ~ 5.5V</li>
<li><strong>GND</strong><ul>
<li>TB6612FNG 모듈을 여러개 테스트한 결과, 기본 핀 배열을 가진 모듈의 <strong>3번핀 GND</strong>에 연결할 경우 <strong>작동이 안되는</strong> 몇몇 제품이 있었음</li>
<li>그러므로 <strong>8번핀, 9번핀의 GND 사용을 권장</strong>함</li>
</ul>
</li>
<li>출력전류: 정전류 1.2A (3.2A peak)까지 (모터 2개 사용시 합산 전류임)</li>
<li>모터 제어모드: CW, CCW, short-brake, STOP, stand-by</li>
<li>두개의 모터 출력을 개별 제어하며, <strong>100kHz</strong>의 PWM으로 속도 제어</li>
<li>써멀 셧다운 및 저전압 감지회로 내장</li>
</ul>
<br>

<h5 id="Pin의-사용"><a href="#Pin의-사용" class="headerlink" title="Pin의 사용"></a>Pin의 사용</h5><p>ESP32와 TB6612FNG모듈을 브레드보드를 통해 연결하기 쉽도록 핀을 구성한 Pinmap이므로, 필요에 따라 수정하여 사용할 수 있다. (아래표는 참고만 할 것!)</p>
<table>
<thead>
<tr>
<th>핀번호</th>
<th>TB6612FNG 모터드라이브 (기본 핀 배열)</th>
<th>ESP32 DEVKIT_C V4 사용시</th>
<th>ESP32 DEVKIT V1 사용시</th>
<th>외부전원</th>
<th>모터 &#x2F; 역할</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>VM</td>
<td></td>
<td></td>
<td>(+) (DC모터에 사용하는 전압 사용)</td>
<td></td>
</tr>
<tr>
<td>2</td>
<td>VCC</td>
<td>+3.3V</td>
<td>+3.3V</td>
<td></td>
<td></td>
</tr>
<tr>
<td>3</td>
<td><strong>GND (사용 비추천)</strong></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>4</td>
<td>A_OUT1</td>
<td></td>
<td></td>
<td></td>
<td>모터A</td>
</tr>
<tr>
<td>5</td>
<td>A_OUT2</td>
<td></td>
<td></td>
<td></td>
<td>모터A</td>
</tr>
<tr>
<td>6</td>
<td>B_OUT2</td>
<td></td>
<td></td>
<td></td>
<td>모터B</td>
</tr>
<tr>
<td>7</td>
<td>B_OUT1</td>
<td></td>
<td></td>
<td></td>
<td>모터B</td>
</tr>
<tr>
<td>8</td>
<td>GND</td>
<td></td>
<td></td>
<td>(-)</td>
<td></td>
</tr>
<tr>
<td>9</td>
<td>GND</td>
<td>GND</td>
<td>GND</td>
<td></td>
<td></td>
</tr>
<tr>
<td>10</td>
<td>B_PWM</td>
<td>12</td>
<td>13</td>
<td></td>
<td>모터B 속도제어</td>
</tr>
<tr>
<td>11</td>
<td>B_IN2</td>
<td>14</td>
<td>12</td>
<td></td>
<td>모터B 방향제어</td>
</tr>
<tr>
<td>12</td>
<td>B_IN1</td>
<td>27</td>
<td>14</td>
<td></td>
<td>모터B 방향제어</td>
</tr>
<tr>
<td>13</td>
<td>STBY</td>
<td>26</td>
<td>27</td>
<td></td>
<td>모터 상태신호</td>
</tr>
<tr>
<td>14</td>
<td>A_IN1</td>
<td>25</td>
<td>26</td>
<td></td>
<td>모터A 방향제어</td>
</tr>
<tr>
<td>15</td>
<td>A_IN2</td>
<td>33</td>
<td>25</td>
<td></td>
<td>모터A 방향제어</td>
</tr>
<tr>
<td>16</td>
<td>A_PWM</td>
<td>32</td>
<td>33</td>
<td></td>
<td>모터A 속도제어</td>
</tr>
</tbody></table>
<br>

<table>
<thead>
<tr>
<th>ESP32 DEVKIT V4 사용시</th>
<th><img src="/image/t/ESP32-RC-04.png"></th>
</tr>
</thead>
<tbody><tr>
<td>ESP32 DEVKIT V1 사용시</td>
<td><img src="/image/t/ESP32-RC-05.png"></td>
</tr>
</tbody></table>
<br>

<br>

<h3 id="모터-1개-컨트롤하기"><a href="#모터-1개-컨트롤하기" class="headerlink" title="모터 1개 컨트롤하기"></a>모터 1개 컨트롤하기</h3><table>
<thead>
<tr>
<th>(기어박스를 포함한) 일반 DC모터</th>
<th>(엔코더 모듈을 포함한) 엔코더 DC모터</th>
</tr>
</thead>
<tbody><tr>
<td>아두이노를 사용한 스마트카 실습용으로 많이 사용됨</td>
<td>Hall sensor를 통해 회전수를 정밀하게 측정가능</td>
</tr>
<tr>
<td>(+)와 (-), 2P 단자가 있음</td>
<td>5P or 6P 단자가 있음 (여기서는 (+)와 (-) 2P만 사용)</td>
</tr>
<tr>
<td><img src="/image/4wd-01.jpg" style="zoom:80%;"></td>
<td><img src="/image/t/ESP32-RC-07.png" style="zoom: 67%;"></td>
</tr>
</tbody></table>
<br>

<h4 id="schematic"><a href="#schematic" class="headerlink" title="schematic"></a>schematic</h4><h5 id="ESP32와-컴퓨터를-USB선으로-연결하여-사용할-경우-단-모터-외부전원은-사용"><a href="#ESP32와-컴퓨터를-USB선으로-연결하여-사용할-경우-단-모터-외부전원은-사용" class="headerlink" title="ESP32와 컴퓨터를 USB선으로 연결하여 사용할 경우 (단, 모터 외부전원은 사용)"></a>ESP32와 컴퓨터를 USB선으로 연결하여 사용할 경우 (단, 모터 외부전원은 사용)</h5><p><img src="/image/t/ESP32-RC-01.png"></p>
<br>

<h5 id="ESP32와-컴퓨터의-연결없이-외부전원을-사용하여-단독으로-사용할-경우"><a href="#ESP32와-컴퓨터의-연결없이-외부전원을-사용하여-단독으로-사용할-경우" class="headerlink" title="ESP32와 컴퓨터의 연결없이, 외부전원을 사용하여 단독으로 사용할 경우"></a>ESP32와 컴퓨터의 연결없이, 외부전원을 사용하여 단독으로 사용할 경우</h5><ul>
<li><p>18650 2S 외부전원(7.4V)을 DC컨버터 모듈에 연결</p>
<ul>
<li>입력: 8~36V</li>
<li>출력: 1.25~32V 및 USB 5V 출력</li>
<li>75W내 사용 권장, 전류량 최대 5A (4.5A 이내 사용 권장)</li>
</ul>
<p><img src="/image/t/ESP32-RC-03.png"></p>
</li>
<li><p>여기서는 서보모터 추가 연결을 위해서, 왼쪽 가변 저항을 사용하여 출력 전압을 5V로 세팅하여 사용</p>
</li>
<li><p>USB 출력단자는 ESP32의 microUSB 단자에 연결</p>
</li>
</ul>
<p><img src="/image/t/ESP32-RC-02.png"></p>
<br>

<h4 id="sketch"><a href="#sketch" class="headerlink" title="sketch"></a>sketch</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// TB6612FNG right side &amp; ESP32-WROOM-32D DEVKIT_C V4 left side pin order</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> PIN_PWMA = <span class="number">32</span>;  </span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> PIN_AIN1 = <span class="number">33</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> PIN_AIN2 = <span class="number">25</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> PIN_STBY = <span class="number">26</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> PIN_BIN1 = <span class="number">27</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> PIN_BIN2 = <span class="number">14</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> PIN_PWMB = <span class="number">12</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">// TB6612FNG right side &amp; ESP32-WROOM-32 left side pin order</span></span><br><span class="line"><span class="comment">const int PIN_PWMA = 33;  </span></span><br><span class="line"><span class="comment">const int PIN_AIN1 = 25;</span></span><br><span class="line"><span class="comment">const int PIN_AIN2 = 26;</span></span><br><span class="line"><span class="comment">const int PIN_STBY = 27;</span></span><br><span class="line"><span class="comment">const int PIN_BIN1 = 14;</span></span><br><span class="line"><span class="comment">const int PIN_BIN2 = 12;</span></span><br><span class="line"><span class="comment">const int PIN_PWMB = 13;</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// PWM Channel setup</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> CH_PWMA = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> CH_PWMB = <span class="number">1</span>;</span><br><span class="line"><span class="comment">// PWM frequency and bit resolution setup</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> pwmFrequency = <span class="number">10000</span>;  <span class="comment">// Hz</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> bitResolution = <span class="number">8</span>;     <span class="comment">// pwm value: 0~255</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> PIN_LED = <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">setup</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="comment">// put your setup code here, to run once:</span></span><br><span class="line">  Serial.<span class="built_in">begin</span>(<span class="number">115200</span>);</span><br><span class="line">  <span class="built_in">pinMode</span>(PIN_LED, OUTPUT);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// tb6612fng setting</span></span><br><span class="line">  <span class="built_in">pinMode</span>(PIN_STBY,OUTPUT);</span><br><span class="line">  <span class="built_in">pinMode</span>(PIN_AIN1,OUTPUT);</span><br><span class="line">  <span class="built_in">pinMode</span>(PIN_AIN2,OUTPUT);</span><br><span class="line">  <span class="built_in">pinMode</span>(PIN_PWMA,OUTPUT);</span><br><span class="line">  <span class="built_in">pinMode</span>(PIN_BIN1,OUTPUT);</span><br><span class="line">  <span class="built_in">pinMode</span>(PIN_BIN2,OUTPUT);</span><br><span class="line">  <span class="built_in">pinMode</span>(PIN_PWMB,OUTPUT);</span><br><span class="line"></span><br><span class="line">   <span class="comment">// motor output(PWM) setting (channel, frequency, bit)</span></span><br><span class="line">  <span class="built_in">ledcSetup</span>(CH_PWMA, pwmFrequency, bitResolution);</span><br><span class="line">  <span class="built_in">ledcSetup</span>(CH_PWMB, pwmFrequency, bitResolution);</span><br><span class="line">  <span class="built_in">ledcAttachPin</span>(PIN_PWMA, CH_PWMA);</span><br><span class="line">  <span class="built_in">ledcAttachPin</span>(PIN_PWMB, CH_PWMB);</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// channel setting (GPIO pin, channel)</span></span><br><span class="line">  <span class="comment">// if STBY(CH0) = LOW, Standby states.</span></span><br><span class="line">  <span class="comment">// if STBY(CH0) = HIGH, and INA1&amp;INA2 have different value</span></span><br><span class="line">  <span class="comment">// and PWMA has some value, CW or CCW rotation is made.</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// Channel      CW   CCW  Stanby Stop Brake1 Brake2 Brake3</span></span><br><span class="line">  <span class="comment">// PIN_STBY (0) HIGH HIGH LOW    HIGH  HIGH  HIGH   HIGH</span></span><br><span class="line">  <span class="comment">// PIN_INA1 (1) HIGH LOW  *      LOW   HIGH  LOW    HIGH</span></span><br><span class="line">  <span class="comment">// PIN_INA2 (2) LOW  HIGH *      LOW   HIGH  HIGH   LOW</span></span><br><span class="line">  <span class="comment">// CH_PWMA  (3) PWM  PWM  *      HIGH  *     LOW    LOW  </span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">loop</span><span class="params">()</span> </span>&#123;</span><br><span class="line"> </span><br><span class="line">  <span class="comment">// Motor A : CW</span></span><br><span class="line">  <span class="built_in">digitalWrite</span>(PIN_STBY, HIGH); 	<span class="comment">// STBY</span></span><br><span class="line">  <span class="built_in">digitalWrite</span>(PIN_AIN1, HIGH); 	<span class="comment">// AIN1</span></span><br><span class="line">  <span class="built_in">digitalWrite</span>(PIN_AIN2, LOW);   	<span class="comment">// AIN2</span></span><br><span class="line">  <span class="built_in">ledcWrite</span>(CH_PWMA, <span class="number">255</span>); 			<span class="comment">// PWMA</span></span><br><span class="line">  <span class="comment">// Motor B : CW</span></span><br><span class="line">  <span class="built_in">digitalWrite</span>(PIN_BIN1, HIGH); 	<span class="comment">// BIN1</span></span><br><span class="line">  <span class="built_in">digitalWrite</span>(PIN_BIN2, LOW);   	<span class="comment">// BIN2</span></span><br><span class="line">  <span class="built_in">ledcWrite</span>(CH_PWMB, <span class="number">255</span>); 			<span class="comment">// PWMB</span></span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">3000</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Motor : Stand-by</span></span><br><span class="line">  <span class="built_in">digitalWrite</span>(PIN_STBY, LOW); 		<span class="comment">// STBY</span></span><br><span class="line">  <span class="comment">//delay(1000);</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">//LED Blink</span></span><br><span class="line">  <span class="built_in">digitalWrite</span>(ledPin, LOW);</span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">3500</span>);</span><br><span class="line">  <span class="built_in">digitalWrite</span>(ledPin, HIGH);</span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">500</span>);</span><br><span class="line">  <span class="built_in">digitalWrite</span>(ledPin, LOW);</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// Motor A : CCW</span></span><br><span class="line">  <span class="built_in">digitalWrite</span>(PIN_STBY, HIGH); 	<span class="comment">// STBY</span></span><br><span class="line">  <span class="built_in">digitalWrite</span>(PIN_AIN1, LOW); 		<span class="comment">// AIN1</span></span><br><span class="line">  <span class="built_in">digitalWrite</span>(PIN_AIN2, HIGH);   	<span class="comment">// AIN2</span></span><br><span class="line">  <span class="built_in">ledcWrite</span>(CH_PWMA, <span class="number">255</span>); 			<span class="comment">// PWMA</span></span><br><span class="line">  <span class="comment">// Motor B : CCW</span></span><br><span class="line">  <span class="built_in">digitalWrite</span>(PIN_BIN1, LOW); 		<span class="comment">// BIN1</span></span><br><span class="line">  <span class="built_in">digitalWrite</span>(PIN_BIN2, HIGH);   	<span class="comment">// BIN2</span></span><br><span class="line">  <span class="built_in">ledcWrite</span>(CH_PWMB, <span class="number">255</span>); 			<span class="comment">// PWMB</span></span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">3000</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Motor : Stand-by</span></span><br><span class="line">  <span class="built_in">digitalWrite</span>(PIN_STBY, LOW); 		<span class="comment">// STBY</span></span><br><span class="line">  <span class="comment">//delay(1000);</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">//LED Blink</span></span><br><span class="line">  <span class="built_in">digitalWrite</span>(PIN_LED, LOW);</span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">3500</span>);</span><br><span class="line">  <span class="built_in">digitalWrite</span>(PIN_LED, HIGH);</span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">500</span>);</span><br><span class="line">  <span class="built_in">digitalWrite</span>(PIN_LED, LOW);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<br>

<h4 id="Troubleshooting"><a href="#Troubleshooting" class="headerlink" title="Troubleshooting"></a>Troubleshooting</h4><h5 id="스케치-중간에-있는-stand-by가-있거나-없거나-동일한-운동을-보일-것-같지만-실제로는-완전히-다르다"><a href="#스케치-중간에-있는-stand-by가-있거나-없거나-동일한-운동을-보일-것-같지만-실제로는-완전히-다르다" class="headerlink" title="스케치 중간에 있는 stand-by가 있거나 없거나 동일한 운동을 보일 것 같지만, 실제로는 완전히 다르다."></a>스케치 중간에 있는 stand-by가 있거나 없거나 동일한 운동을 보일 것 같지만, 실제로는 완전히 다르다.</h5><ul>
<li><p>stand-by가 있는 경우</p>
<ul>
<li>3초간 CW회전 후 정지 → 3.5초 대기 → 0.5초 LED켜졌다가 꺼짐 → 3초간 CCW회전 후 정지→ 3.5초 대기 → 0.5초 LED켜졌다가 꺼짐</li>
</ul>
</li>
<li><p>stand-by가 없는 경우:</p>
<ul>
<li>모터<ul>
<li>모터의 delay 시간(회전시간)이 3초로 되어 있어도 stand-by 상태로 들어가지 않으므로, <strong>실제로는 7초간 회전</strong> 후 방향을 바꿈 </li>
<li>7초간 CW회전 후 → (정지하지 않고) 곧바로 7초간 CCW회전 (반복)</li>
</ul>
</li>
<li>LED<ul>
<li>꺼짐: 6.5초간 꺼져있다가 (모터의 delay 시간 3초 + led low delay 시간 3.5초)</li>
<li>켜짐:  0.5초간 켜짐 (반복)</li>
</ul>
</li>
</ul>
</li>
<li><p>그러므로, 각 상황에 따라 stand-by를 걸어야 할지, 말아야할지를 결정해야 함.</p>
<ul>
<li>stand-by를 걸지 않은 상태에서 멈추려면 PWMA or PWMB를 0으로 주면 됨.</li>
</ul>
</li>
</ul>
<br>

<h5 id="회전-방향이-생각했던-방향과-반대로-회전하는-경우"><a href="#회전-방향이-생각했던-방향과-반대로-회전하는-경우" class="headerlink" title="회전 방향이 (생각했던 방향과) 반대로 회전하는 경우"></a>회전 방향이 (생각했던 방향과) 반대로 회전하는 경우</h5><p>AIN1핀과 AIN2 핀의 번호를 바꿔준다. 즉, 위 스케치에서</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> AIN2 = <span class="number">25</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> AIN1 = <span class="number">26</span>;</span><br></pre></td></tr></table></figure>

<p>부분을</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> AIN2 = <span class="number">26</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> AIN1 = <span class="number">25</span>;</span><br></pre></td></tr></table></figure>

<p>로 바꿔준다.</p>
<br>

<br>

<h3 id="모터-2개-컨트롤하기"><a href="#모터-2개-컨트롤하기" class="headerlink" title="모터 2개 컨트롤하기"></a>모터 2개 컨트롤하기</h3><p><img src="/image/t/ESP32-RC-06.png"><br></p>
<h4 id="sketch-1"><a href="#sketch-1" class="headerlink" title="sketch"></a>sketch</h4><p>위의 ‘’모터 1개 컨트롤하기’’ 스케치와 동일함.</p>
<br>

<br>

<h3 id="스케치-최적화"><a href="#스케치-최적화" class="headerlink" title="스케치 최적화"></a>스케치 최적화</h3><p>move(), stop()을 만들어서 스케치 최적화</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// TB6612FNG right side &amp; ESP32-WROOM-32D DEVKIT_C V4 left side pin order</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> PIN_PWMA = <span class="number">32</span>;  </span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> PIN_AIN1 = <span class="number">33</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> PIN_AIN2 = <span class="number">25</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> PIN_STBY = <span class="number">26</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> PIN_BIN1 = <span class="number">27</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> PIN_BIN2 = <span class="number">14</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> PIN_PWMB = <span class="number">12</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">// TB6612FNG right side &amp; ESP32-WROOM-32 left side pin order</span></span><br><span class="line"><span class="comment">const int PIN_PWMA = 33;  </span></span><br><span class="line"><span class="comment">const int PIN_AIN1 = 25;</span></span><br><span class="line"><span class="comment">const int PIN_AIN2 = 26;</span></span><br><span class="line"><span class="comment">const int PIN_STBY = 27;</span></span><br><span class="line"><span class="comment">const int PIN_BIN1 = 14;</span></span><br><span class="line"><span class="comment">const int PIN_BIN2 = 12;</span></span><br><span class="line"><span class="comment">const int PIN_PWMB = 13;</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// PWM Channel setup</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> CH_PWMA = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> CH_PWMB = <span class="number">1</span>;</span><br><span class="line"><span class="comment">// PWM frequency and bit resolution setup</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> pwmFrequency = <span class="number">10000</span>;  <span class="comment">// Hz</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> bitResolution = <span class="number">8</span>;     <span class="comment">// pwm value: 0~255</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> PIN_LED = <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">setup</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="comment">// put your setup code here, to run once:</span></span><br><span class="line">  Serial.<span class="built_in">begin</span>(<span class="number">115200</span>);</span><br><span class="line">  <span class="built_in">pinMode</span>(PIN_LED, OUTPUT);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// tb6612fng setting</span></span><br><span class="line">  <span class="built_in">pinMode</span>(PIN_STBY,OUTPUT);</span><br><span class="line">  <span class="built_in">pinMode</span>(PIN_AIN1,OUTPUT);</span><br><span class="line">  <span class="built_in">pinMode</span>(PIN_AIN2,OUTPUT);</span><br><span class="line">  <span class="built_in">pinMode</span>(PIN_PWMA,OUTPUT);</span><br><span class="line">  <span class="built_in">pinMode</span>(PIN_BIN1,OUTPUT);</span><br><span class="line">  <span class="built_in">pinMode</span>(PIN_BIN2,OUTPUT);</span><br><span class="line">  <span class="built_in">pinMode</span>(PIN_PWMB,OUTPUT);</span><br><span class="line"></span><br><span class="line">   <span class="comment">// motor output(PWM) setting (channel, frequency, bit)</span></span><br><span class="line">  <span class="built_in">ledcSetup</span>(CH_PWMA, pwmFrequency, bitResolution);</span><br><span class="line">  <span class="built_in">ledcSetup</span>(CH_PWMB, pwmFrequency, bitResolution);</span><br><span class="line">  <span class="built_in">ledcAttachPin</span>(PIN_PWMA, CH_PWMA);</span><br><span class="line">  <span class="built_in">ledcAttachPin</span>(PIN_PWMB, CH_PWMB);</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// channel setting (GPIO pin, channel)</span></span><br><span class="line">  <span class="comment">// if STBY(CH0) = LOW, Standby states.</span></span><br><span class="line">  <span class="comment">// if STBY(CH0) = HIGH, and INA1&amp;INA2 have different value</span></span><br><span class="line">  <span class="comment">// and PWMA has some value, CW or CCW rotation is made.</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// Channel      CW   CCW  Stanby Stop Brake1 Brake2 Brake3</span></span><br><span class="line">  <span class="comment">// PIN_STBY (0) HIGH HIGH LOW    HIGH  HIGH  HIGH   HIGH</span></span><br><span class="line">  <span class="comment">// PIN_INA1 (1) HIGH LOW  *      LOW   HIGH  LOW    HIGH</span></span><br><span class="line">  <span class="comment">// PIN_INA2 (2) LOW  HIGH *      LOW   HIGH  HIGH   LOW</span></span><br><span class="line">  <span class="comment">// CH_PWMA  (3) PWM  PWM  *      HIGH  *     LOW    LOW  </span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">loop</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  </span><br><span class="line">  <span class="built_in">move</span>(<span class="number">1</span>, <span class="number">128</span>, <span class="number">0</span>);               <span class="comment">// motor A(right wheels), half speed, moving forward</span></span><br><span class="line">  <span class="built_in">move</span>(<span class="number">2</span>, <span class="number">255</span>, <span class="number">0</span>);               <span class="comment">// motor B(left wheels), full speed, moving forward</span></span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">3000</span>);</span><br><span class="line"></span><br><span class="line">  <span class="built_in">stop</span>();						 <span class="comment">// Motor : Stand-by</span></span><br><span class="line">  <span class="comment">//delay(1000);</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">//LED Blink</span></span><br><span class="line">  <span class="built_in">digitalWrite</span>(ledPin, LOW);</span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">3500</span>);</span><br><span class="line">  <span class="built_in">digitalWrite</span>(ledPin, HIGH);</span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">500</span>);</span><br><span class="line">  <span class="built_in">digitalWrite</span>(ledPin, LOW);</span><br><span class="line"></span><br><span class="line">  <span class="built_in">move</span>(<span class="number">1</span>, <span class="number">255</span>, <span class="number">1</span>);               <span class="comment">// motor A(right wheels), full speed, moving backward</span></span><br><span class="line">  <span class="built_in">move</span>(<span class="number">2</span>, <span class="number">128</span>, <span class="number">1</span>);               <span class="comment">// motor B(left wheels), half speed, moving backward</span></span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">3000</span>);</span><br><span class="line"></span><br><span class="line">  <span class="built_in">stop</span>();						 <span class="comment">// Motor : Stand-by</span></span><br><span class="line">  <span class="comment">//delay(1000);</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">//LED Blink</span></span><br><span class="line">  <span class="built_in">digitalWrite</span>(ledPin, LOW);</span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">3500</span>);</span><br><span class="line">  <span class="built_in">digitalWrite</span>(ledPin, HIGH);</span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">500</span>);</span><br><span class="line">  <span class="built_in">digitalWrite</span>(ledPin, LOW);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">move</span><span class="params">(<span class="keyword">int</span> motor, <span class="keyword">int</span> speed, <span class="keyword">int</span> direction)</span> </span>&#123;   <span class="comment">//Move specific motor at speed and direction</span></span><br><span class="line"><span class="comment">//motor: A(Right) -&gt; 1, B(Left) -&gt; 2</span></span><br><span class="line"><span class="comment">//speed: 0 is off, and 255 is full speed</span></span><br><span class="line"><span class="comment">//direction: 0 clockwise, 1 counter-clockwise</span></span><br><span class="line"></span><br><span class="line">  <span class="built_in">digitalWrite</span>(PIN_STBY, HIGH);         <span class="comment">// move</span></span><br><span class="line"></span><br><span class="line">  boolean inPin1 = HIGH;            	<span class="comment">// Defalut(direction=0) - Clockwise</span></span><br><span class="line">  boolean inPin2 = LOW;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span>(direction == <span class="number">1</span>) &#123;             		<span class="comment">// Count-clockwise</span></span><br><span class="line">    inPin1 = LOW;</span><br><span class="line">    inPin2 = HIGH;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span>(motor == <span class="number">1</span>)&#123;                 		<span class="comment">// if motor == 1, right wheel</span></span><br><span class="line">    <span class="built_in">digitalWrite</span>(PIN_AIN1, inPin1);</span><br><span class="line">    <span class="built_in">digitalWrite</span>(PIN_AIN2, inPin2);</span><br><span class="line">    <span class="built_in">ledcWrite</span>(CH_PWMA, speed);</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;                         		<span class="comment">// if motor is not 1, left wheel</span></span><br><span class="line">    <span class="built_in">digitalWrite</span>(PIN_BIN1, inPin1);</span><br><span class="line">    <span class="built_in">digitalWrite</span>(PIN_BIN2, inPin2);</span><br><span class="line">    <span class="built_in">ledcWrite</span>(CH_PWMB, speed);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">stop</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="built_in">digitalWrite</span>(PIN_STBY, LOW);          <span class="comment">// stand-by = stop</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time datetime="2021-10-10T09:27:53.000Z" title="2021. 10. 10. 오후 6:27:53">2021-10-10</time>&nbsp;게시 됨</span><span class="level-item"><time datetime="2021-12-03T16:20:38.000Z" title="2021. 12. 4. 오전 1:20:38">2021-12-04</time>&nbsp;업데이트 됨</span><span class="level-item"><a class="link-muted" href="/categories/esp32/">ESP32</a></span><span class="level-item">28분안에 읽기 (약 4193 단어)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2021/10/10/ESP32-nRF24L01/">ESP32, nRF24L01 무선통신</a></h1><div class="content"><h3 id="nRF24L01"><a href="#nRF24L01" class="headerlink" title="nRF24L01"></a>nRF24L01</h3><h4 id="library"><a href="#library" class="headerlink" title="library"></a>library</h4><p><strong>스케치</strong>&gt; <strong>라이브러리 포함하기</strong>&gt; <strong>라이브러리 관리</strong>&gt; <strong>nRF24L01</strong> 검색한 후, <strong>RF24 by TMRh20, Avamander</strong> 설치</p>
<p><img src="/image/n/ESP32-nRF24L01-02.png"></p>
<br>

<h4 id="schematic-nRF24L01-receiver-with-ESP32"><a href="#schematic-nRF24L01-receiver-with-ESP32" class="headerlink" title="schematic: nRF24L01 receiver with ESP32"></a>schematic: nRF24L01 receiver with ESP32</h4><p><img src="/image/n/ESP32-nRF24L01-01.png"></p>
<p>※ nRF24L01 모듈에 따라 10uF 캐페시터가 없으면 통신이 안되는 경우가 있음. 이런 경우에만 사용할 것.</p>
<br>

<h5 id="pinmap-안테나를-위로-향하게-두고-모듈을-위에서-내려다-볼때의-핀배열"><a href="#pinmap-안테나를-위로-향하게-두고-모듈을-위에서-내려다-볼때의-핀배열" class="headerlink" title="pinmap: (안테나를 위로 향하게 두고, 모듈을 위에서 내려다 볼때의 핀배열)"></a>pinmap: (안테나를 위로 향하게 두고, 모듈을 위에서 내려다 볼때의 핀배열)</h5><table>
<thead>
<tr>
<th>ESP32</th>
<th>3V3</th>
<th>IO5</th>
<th>IO23</th>
<th>None</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td>↑</td>
<td>↑</td>
<td>↑</td>
<td>↑</td>
</tr>
<tr>
<td>nRF24L01</td>
<td>VCC + 10uF</td>
<td>CSN</td>
<td>MOSI</td>
<td>IRQ</td>
</tr>
<tr>
<td>(위에서 보이는 핀배열)</td>
<td>GND + 10uF</td>
<td>CE</td>
<td>SCK</td>
<td>MISO</td>
</tr>
<tr>
<td></td>
<td>↓</td>
<td>↓</td>
<td>↓</td>
<td>↓</td>
</tr>
<tr>
<td><strong>ESP32</strong></td>
<td><strong>GND</strong></td>
<td><strong>IO4</strong></td>
<td><strong>IO18</strong></td>
<td><strong>IO19</strong></td>
</tr>
</tbody></table>
<br>

<h4 id="sketch-1-1-Chat-Room"><a href="#sketch-1-1-Chat-Room" class="headerlink" title="sketch: 1:1 Chat Room"></a>sketch: 1:1 Chat Room</h4><ul>
<li>양방향 송수신을 위하여 위 회로도를 보고 2개의 모듈을 만든 뒤, 다음 스케치를 업로드한다.</li>
<li>시리얼 모니터를 띄운 뒤, 메세지를 전송해본다.</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Libraries for NRF24L01+ module.</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;SPI.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;nRF24L01.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;RF24.h&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="comment">//RF24 object with two pins defined with arguments. CE: 4, CSN: 5</span></span><br><span class="line"><span class="function">RF24 <span class="title">radio</span><span class="params">(<span class="number">4</span>, <span class="number">5</span>)</span></span>;</span><br><span class="line"> </span><br><span class="line"><span class="comment">//Address of the pipe. 40 bit long, you can choose this freely.</span></span><br><span class="line"><span class="comment">//Remember to use different address in different projects.</span></span><br><span class="line"><span class="keyword">long</span> <span class="keyword">long</span> address = <span class="number">0x1234ABCDEF</span>LL;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">char</span> stext[<span class="number">32</span>] = <span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="keyword">int</span> spos = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">char</span> rtext[<span class="number">32</span>] = <span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="keyword">int</span> rpos = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">sendText</span><span class="params">(<span class="keyword">char</span> * text, <span class="keyword">int</span> tlen)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  radio.<span class="built_in">stopListening</span>();</span><br><span class="line">  radio.<span class="built_in">openWritingPipe</span>(address);</span><br><span class="line">  radio.<span class="built_in">write</span>(stext, tlen);</span><br><span class="line"></span><br><span class="line">  Serial.<span class="built_in">print</span>(<span class="string">&quot;SEND: &quot;</span>);</span><br><span class="line">  Serial.<span class="built_in">println</span>(text);    </span><br><span class="line"></span><br><span class="line">  <span class="built_in">memset</span>(stext, <span class="number">0x00</span>, <span class="number">32</span>);</span><br><span class="line"></span><br><span class="line">  radio.<span class="built_in">openReadingPipe</span>(<span class="number">0</span>, address);</span><br><span class="line">  radio.<span class="built_in">startListening</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">setup</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="comment">//Start the radio</span></span><br><span class="line">  Serial.<span class="built_in">begin</span>(<span class="number">115200</span>);</span><br><span class="line">  radio.<span class="built_in">begin</span>();</span><br><span class="line"></span><br><span class="line">  <span class="comment">//Open reading pipe with given address and start listening for incoming data</span></span><br><span class="line">  radio.<span class="built_in">openReadingPipe</span>(<span class="number">0</span>, address);</span><br><span class="line">  radio.<span class="built_in">setPALevel</span>(RF24_PA_MIN); </span><br><span class="line">  radio.<span class="built_in">startListening</span>();</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">loop</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="keyword">while</span>(<span class="number">0</span> &lt; Serial.<span class="built_in">available</span>()) &#123;</span><br><span class="line">    stext[spos] = Serial.<span class="built_in">read</span>();</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span>(stext[spos] == <span class="number">0x0a</span>) &#123;</span><br><span class="line">      <span class="built_in">sendText</span>(stext, spos);</span><br><span class="line">      spos = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">      spos += <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (radio.<span class="built_in">available</span>()) &#123;</span><br><span class="line">    <span class="keyword">while</span> (radio.<span class="built_in">available</span>()) &#123;</span><br><span class="line">      radio.<span class="built_in">read</span>(rtext, <span class="number">32</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    Serial.<span class="built_in">print</span>(<span class="string">&quot;RECV: &quot;</span>);</span><br><span class="line">    Serial.<span class="built_in">println</span>(rtext);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<br>

<h4 id="sketch-1-1-Chat-Room-1"><a href="#sketch-1-1-Chat-Room-1" class="headerlink" title="sketch: 1:1 Chat Room"></a>sketch: 1:1 Chat Room</h4><p>다음은 처음 실행 후 시리얼모니터에 입력한 ID를 이용하여 Chat Room을 만드는 코드이다. </p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Libraries for NRF24L01+ module.</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;SPI.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;nRF24L01.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;RF24.h&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="comment">//RF24 object with two pins defined with arguments. CE: 4, CSN: 5</span></span><br><span class="line"><span class="function">RF24 <span class="title">radio</span><span class="params">(<span class="number">4</span>, <span class="number">5</span>)</span></span>;</span><br><span class="line"> </span><br><span class="line"><span class="comment">//Address of the pipe. 40 bit long, you can choose this freely.</span></span><br><span class="line"><span class="comment">//Remember to use different address in different projects.</span></span><br><span class="line"><span class="keyword">long</span> <span class="keyword">long</span> address = <span class="number">0x1234ABCDEF</span>LL;</span><br><span class="line"></span><br><span class="line">String username = <span class="string">&quot;&quot;</span>;</span><br><span class="line">String dataInput;</span><br><span class="line"><span class="keyword">char</span> dataToSend[<span class="number">32</span>];</span><br><span class="line"><span class="keyword">char</span> dataReceived[<span class="number">32</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">setup</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="comment">//Start the radio</span></span><br><span class="line">  Serial.<span class="built_in">begin</span>(<span class="number">115200</span>);</span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">2000</span>);</span><br><span class="line">  Serial.<span class="built_in">println</span>(<span class="string">&quot;Enter username: &quot;</span>);</span><br><span class="line">  radio.<span class="built_in">begin</span>();</span><br><span class="line">  radio.<span class="built_in">setRetries</span>(<span class="number">3</span>, <span class="number">5</span>);</span><br><span class="line">  <span class="comment">//Open reading pipe with given address and start listening for incoming data</span></span><br><span class="line">  radio.<span class="built_in">openWritingPipe</span>(address);</span><br><span class="line">  radio.<span class="built_in">openReadingPipe</span>(<span class="number">0</span>, address);</span><br><span class="line">  radio.<span class="built_in">setPALevel</span>(RF24_PA_MIN); </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">loop</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//set username</span></span><br><span class="line">  <span class="keyword">while</span>(username == <span class="string">&quot;&quot;</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span>(Serial.<span class="built_in">available</span>()) &#123;</span><br><span class="line">      username = Serial.<span class="built_in">readStringUntil</span>(<span class="string">&#x27;\n&#x27;</span>);</span><br><span class="line">      Serial.<span class="built_in">print</span>(<span class="string">&quot;Welcome &quot;</span>);</span><br><span class="line">      Serial.<span class="built_in">println</span>(username);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  radio.<span class="built_in">startListening</span>();</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span>(radio.<span class="built_in">available</span>()) &#123;</span><br><span class="line">    radio.<span class="built_in">read</span>(&amp;dataReceived, <span class="built_in"><span class="keyword">sizeof</span></span>(dataReceived));</span><br><span class="line">    Serial.<span class="built_in">println</span>(dataReceived);</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">if</span>(Serial.<span class="built_in">available</span>()) &#123;</span><br><span class="line">    radio.<span class="built_in">stopListening</span>();</span><br><span class="line"></span><br><span class="line">    dataInput = <span class="string">&quot;[&quot;</span> + username + <span class="string">&quot;] &quot;</span> + Serial.<span class="built_in">readStringUntil</span>(<span class="string">&#x27;\n&#x27;</span>);</span><br><span class="line">    Serial.<span class="built_in">println</span>(dataInput);</span><br><span class="line">    dataInput.<span class="built_in">toCharArray</span>(dataToSend, <span class="number">32</span>);</span><br><span class="line"></span><br><span class="line">    radio.<span class="built_in">write</span>(&amp;dataToSend, <span class="built_in"><span class="keyword">sizeof</span></span>(dataToSend));</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<br>

<br>

<h3 id="nRF24L01을-이용한-센서값-전송"><a href="#nRF24L01을-이용한-센서값-전송" class="headerlink" title="nRF24L01을 이용한 센서값 전송"></a>nRF24L01을 이용한 센서값 전송</h3><h4 id="for-Receiver"><a href="#for-Receiver" class="headerlink" title="for Receiver"></a>for Receiver</h4><h5 id="schematic"><a href="#schematic" class="headerlink" title="schematic"></a>schematic</h5><p><img src="/image/n/ESP32-nRF24L01-01.png"></p>
<br>

<h5 id="sketch"><a href="#sketch" class="headerlink" title="sketch"></a>sketch</h5><h6 id="long-long-address-x3D-0x1234ABCDEFLL"><a href="#long-long-address-x3D-0x1234ABCDEFLL" class="headerlink" title="long long address &#x3D; 0x1234ABCDEFLL;"></a>long long address &#x3D; 0x1234ABCDEFLL;</h6><ul>
<li>receiver와 transmitter의 페어링을 위한 파이프(주소)를 지정함. (receiver와 transmitter의 파이프(주소)는 동일해야 함)</li>
<li>주변 여러 사람이 동시에 nRF24L01 모듈을 사용할 경우, <strong>서로 다른 고유의 파이프(주소)를 지정</strong>하여야 한다.</li>
</ul>
<br>

<h6 id="uint16-t-temphumi-2"><a href="#uint16-t-temphumi-2" class="headerlink" title="uint16_t temphumi[2];"></a>uint16_t temphumi[2];</h6><ul>
<li><p>8-bit 기반 Arduino와 32-bit 기반 ESP32를 receiver와 transmitter로 혼용하여 사용할 경우, 아래와 같이 <strong>int를 사용하여 변수(혹은 배열)를 선언하면 문제가 발생</strong>함.</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> temphumi[<span class="number">2</span>];</span><br></pre></td></tr></table></figure>

<p>8비트 아키텍처에서 int는 16비트이지만, 32비트 아키텍처에서는 32비트로 정의되기 때문이며,</p>
</li>
<li><p>이로 인해 radio.write 또는 radio.read를 할때 일부 데이터가 송신(혹은 수신)되지 않을 수 있다.</p>
</li>
<li><p>그러므로, arduino와 ESP32를 함께 사용할때에는, 아래와 같은 형태로 변수(혹은 배열) 선언시 특정 비트의 변수로 제한하여 선언할 필요가 있다.</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">uint16_t</span> temphumi[<span class="number">2</span>];</span><br></pre></td></tr></table></figure>
</li>
<li><p>단, 송수신기로 Arduino만 사용하거나, 혹은 ESP32만 사용하는 경우에는 int를 사용해도 됨</p>
</li>
</ul>
<br>

<h6 id="radio-openReadingPipe-1-address"><a href="#radio-openReadingPipe-1-address" class="headerlink" title="radio.openReadingPipe(1, address);"></a>radio.openReadingPipe(1, address);</h6><p>페어링 파이프(주소)를 오픈</p>
<br>

<h4 id="for-Transmitter"><a href="#for-Transmitter" class="headerlink" title="for Transmitter"></a>for Transmitter</h4><h5 id="schematic-1"><a href="#schematic-1" class="headerlink" title="schematic"></a>schematic</h5><p>스케치를 업로드하고, 컴퓨터와 연결한 USB선을 분리한 뒤, 독립하여 동작하도록 외부 전원을 연결한다.</p>
<p>※ nRF24L01 모듈에 따라 10uF 캐페시터가 없으면 통신이 안되는 경우가 있음. 이런 경우에만 사용할 것.</p>
<p><img src="/image/n/ESP32-nRF24L01-03.png"></p>
<br>

<h5 id="18650을-사용하여-5V-외부-전원-만들기"><a href="#18650을-사용하여-5V-외부-전원-만들기" class="headerlink" title="18650을 사용하여 5V 외부 전원 만들기"></a>18650을 사용하여 5V 외부 전원 만들기</h5><ul>
<li>ESP32를 외부전원을 통해 동작시키려면, ESP32의 5V&#x2F;GND 단자를 사용하여 5<del>12V의 전압(최적 전압은 6</del>7V)을 공급하여야 한다.</li>
<li>18650 소켓에 F단자를 납땜하여 연결한다. (<strong>M단자는 서로 맞닿을 경우 과열 위험이 있으므로 사용금지!</strong>)</li>
</ul>
<p><img src="/image/n/ESP32-nRF24L01-04.png"></p>
<br>

<ul>
<li>DC-DC 5V 승압 모듈에 아래 그림과 같이 납땜하여 연결한다. (USB단자는 사용하지 않음)</li>
</ul>
<p><img src="/image/n/ESP32-nRF24L01-06.png"></p>
<br>

<p>※ USB단자가 있는 5V 승압 모듈을 사용하였지만, USB단자가 없는 승압모듈을 사용하면 더 깔끔하게 제작 가능하다.</p>
<p><img src="/image/n/ESP32-nRF24L01-05.png"></p>
<br>

<ul>
<li>위 사진과 같이 납땜한 승압 모듈을 18650배터리와 ESP32에 연결한다.</li>
</ul>
<table>
<thead>
<tr>
<th>승압 모듈</th>
<th>ESP32</th>
<th>18650배터리</th>
</tr>
</thead>
<tbody><tr>
<td>파란색 원 (GND)</td>
<td>GND</td>
<td></td>
</tr>
<tr>
<td>빨간색 원 (5V)</td>
<td>5V</td>
<td></td>
</tr>
<tr>
<td>노란색 원(IN+)</td>
<td></td>
<td>(+)극</td>
</tr>
<tr>
<td>초록색 원(IN-)</td>
<td></td>
<td>(-)극</td>
</tr>
</tbody></table>
<br>

<blockquote>
<p>(transmitter의 경우, 많은 전류를 사용하지 않으므로) 위 그림처럼 ESP32에 DC컨버터를 사용하여 전원을 공급하는 형태보다는, <strong>TTGO T-Energy</strong> 사용을 추천함</p>
</blockquote>
<table>
<thead>
<tr>
<th>TTGO T-Energy</th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td><img src="/image/n/TTGO-T-Energy03.png" style="zoom:67%;"></td>
<td><img src="/image/n/TTGO-T-Energy04.png" style="zoom:67%;"></td>
</tr>
</tbody></table>
<br>

<h5 id="sketch-DHT22-temperature-and-humidity-Sensor"><a href="#sketch-DHT22-temperature-and-humidity-Sensor" class="headerlink" title="sketch: DHT22 temperature and humidity Sensor"></a>sketch: DHT22 temperature and humidity Sensor</h5><h6 id="library-for-DHT11-or-DHT22-sensor"><a href="#library-for-DHT11-or-DHT22-sensor" class="headerlink" title="library for DHT11 or DHT22 sensor"></a>library for DHT11 or DHT22 sensor</h6><p>먼저 온습도 센서 데이터를 보내기 위해 온습도 센서 라이브러리를 설치 </p>
<p><strong>스케치</strong>&gt; <strong>라이브러리 포함하기</strong>&gt; <strong>라이브러리 관리</strong>&gt; <strong>DHT</strong> 검색</p>
<ul>
<li><p>먼저 **DHT sensor library (by Adafruit)**를 검색하여 <strong>설치</strong>를 누르면,</p>
<p><img src="/image/dht22-03.png"></p>
</li>
</ul>
<ul>
<li><p><strong>Dependencies for library DHT sensor library</strong> 창이 나오면 <strong>Install all</strong>을 클릭하여 2개의 라이브러리를 동시에 설치</p>
<p><img src="/image/dht22-04.png"></p>
</li>
</ul>
<br>

<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Libraries for NRF24L01+ module.</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;SPI.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;RF24.h&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="comment">//RF24 object with two pins defined with arguments. CE: 4, CSN: 5</span></span><br><span class="line"><span class="function">RF24 <span class="title">radio</span><span class="params">(<span class="number">4</span>, <span class="number">5</span>)</span></span>;</span><br><span class="line"> </span><br><span class="line"><span class="comment">//Address of the pipe. 40 bit long, you can choose this freely.</span></span><br><span class="line"><span class="comment">//Remember to use different address in different projects.</span></span><br><span class="line"><span class="keyword">long</span> <span class="keyword">long</span> address = <span class="number">0x1234ABCDEF</span>LL;</span><br><span class="line"></span><br><span class="line"><span class="comment">// for temperature, humidity sensor</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;DHT.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> DHTPIN    13         <span class="comment">// data pin</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> DHTTYPE   DHT22      <span class="comment">// change to DHT11 if you&#x27;re using the DHT11</span></span></span><br><span class="line"><span class="comment">//float temphumi[2];         // AM2301(DHT21) -&gt; DHT21, AM2302(DHT22) -&gt; DHT22</span></span><br><span class="line"><span class="keyword">uint16_t</span> temphumi[<span class="number">2</span>];</span><br><span class="line"><span class="function">DHT <span class="title">dht</span><span class="params">(DHTPIN, DHTTYPE)</span></span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">setup</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="comment">//Start the radio</span></span><br><span class="line">  Serial.begin(<span class="number">115200</span>);</span><br><span class="line"></span><br><span class="line">  radio.begin();</span><br><span class="line">  radio.openWritingPipe(address);</span><br><span class="line">  <span class="comment">//RF24_PA_MIN, RF24_PA_LOW, RF24_PA_HIGH and RF24_PA_MAX</span></span><br><span class="line">  <span class="comment">//NRF24L01: -18dBm, -12dBm,-6dBM, and 0dBm</span></span><br><span class="line">  radio.setPALevel(RF24_PA_LOW);</span><br><span class="line">  radio.stopListening();</span><br><span class="line">    </span><br><span class="line">  dht.begin();</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">loop</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="comment">//Get temperature from the sensor</span></span><br><span class="line">  <span class="keyword">uint16_t</span> t = dht.readTemperature();</span><br><span class="line">  <span class="keyword">uint16_t</span> h = dht.readHumidity();</span><br><span class="line"></span><br><span class="line">  temphumi[<span class="number">0</span>] = t;</span><br><span class="line">  temphumi[<span class="number">1</span>] = h;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//Send the temperature wirelessly, print error if failed</span></span><br><span class="line">  <span class="keyword">if</span> (!radio.write(&amp;temphumi, <span class="keyword">sizeof</span>(temphumi))) &#123;</span><br><span class="line">    Serial.println(F(<span class="string">&quot;Sending temperature failed&quot;</span>));</span><br><span class="line">      </span><br><span class="line">  <span class="comment">// Check if any reads failed and exit early (to try again).</span></span><br><span class="line">  <span class="keyword">if</span> (isnan(h) || isnan(t)) &#123;</span><br><span class="line">    Serial.println(F(<span class="string">&quot;Failed to read from DHT sensor!&quot;</span>));</span><br><span class="line">  <span class="keyword">return</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  delay(<span class="number">2000</span>);</span><br><span class="line">  &#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<br>

<ul>
<li><p>long long address &#x3D; 0x1234ABCDEFLL;</p>
<ul>
<li><p>receiver와 transmitter의 페어링을 위한 파이프(주소)를 지정함. (receiver와 transmitter의 파이프(주소)는 동일해야 함)</p>
</li>
<li><p>주변 여러 사람이 동시에 nRF24L01 모듈을 사용할 경우, <strong>서로 다른 고유의 파이프(주소)를 지정</strong>하여야 한다.</p>
</li>
</ul>
</li>
</ul>
<br>

<ul>
<li>radio.setPALevel(RF24_PA_LOW);<ul>
<li>RF24_PA_MIN</li>
<li>RF24_PA_LOW</li>
<li>RF24_PA_HIGH</li>
<li>RF24_PA_MAX: 가장 강함 (전류소모도 큼)</li>
</ul>
</li>
</ul>
<br>

<h4 id="result"><a href="#result" class="headerlink" title="result"></a>result</h4><p><img src="/image/n/ESP32-nRF24L01-07.png"></p>
<br>

<br>

<h3 id="nRF24L01-Dual-Joystick"><a href="#nRF24L01-Dual-Joystick" class="headerlink" title="nRF24L01 + Dual Joystick"></a>nRF24L01 + Dual Joystick</h3><p>2개의 조이스틱을 사용하여 x축, y축 좌표값을 받아보자.</p>
<br>

<h4 id="for-Transmitter-1"><a href="#for-Transmitter-1" class="headerlink" title="for Transmitter"></a>for Transmitter</h4><h5 id="schematic-nRF24L01-transmitter-with-ESP32-Dual-Joystick"><a href="#schematic-nRF24L01-transmitter-with-ESP32-Dual-Joystick" class="headerlink" title="schematic: nRF24L01 transmitter with ESP32, Dual Joystick"></a>schematic: nRF24L01 transmitter with ESP32, Dual Joystick</h5><p>하나의 조이스틱으로도 일반적인 조정이 가능하지만, 시판되는 조정기의 경우 dual joystick(혹은 dual channel)을 사용하는 형태가 많으므로, 여기서도 이와 같은 형태의 transmitter를 만들어 보자.</p>
<p><img src="/image/n/ESP32-nRF24L01-08.png"></p>
<ul>
<li><p>위 그림에서는 18650을 DC 컨버터를 사용하여 5V핀에 입력하고 있음.</p>
</li>
<li><p>(transmitter의 경우, 많은 전류를 사용하지 않으므로) 위 그림처럼 ESP32에 DC컨버터를 사용하여 전원을 공급하는 형태보다는, TTGO T-Energy 사용을 추천함</p>
<table>
<thead>
<tr>
<th>TTGO T-Energy</th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td><img src="/image/n/TTGO-T-Energy03.png" style="zoom:67%;"></td>
<td><img src="/image/n/TTGO-T-Energy04.png" style="zoom:67%;"></td>
</tr>
</tbody></table>
</li>
</ul>
<br>

<h6 id="pinmap"><a href="#pinmap" class="headerlink" title="pinmap"></a>pinmap</h6><table>
<thead>
<tr>
<th>ESP32</th>
<th>Joystick1 (x축)</th>
<th>Joystick2 (y축)</th>
</tr>
</thead>
<tbody><tr>
<td>GND</td>
<td>GND</td>
<td>GND</td>
</tr>
<tr>
<td>5V</td>
<td>5V</td>
<td>5V</td>
</tr>
<tr>
<td>25</td>
<td>VRX</td>
<td></td>
</tr>
<tr>
<td>32</td>
<td></td>
<td>VRY</td>
</tr>
</tbody></table>
<br>

<h5 id="sketch-nRF24L01-transmitter-with-ESP32-Dual-Joystick"><a href="#sketch-nRF24L01-transmitter-with-ESP32-Dual-Joystick" class="headerlink" title="sketch: nRF24L01 transmitter with ESP32, Dual Joystick"></a>sketch: nRF24L01 transmitter with ESP32, Dual Joystick</h5><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;SPI.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;RF24.h&gt;</span></span></span><br><span class="line"><span class="function">RF24 <span class="title">radio</span><span class="params">(<span class="number">4</span>, <span class="number">5</span>)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">long</span> <span class="keyword">long</span> address = <span class="number">0x1234ABCDEF</span>LL;</span><br><span class="line"></span><br><span class="line"><span class="comment">// for no interference, two joysticks must be used with each other ADC!  </span></span><br><span class="line"><span class="comment">// one joystick use ADC1: GPIO 36,39,32,33,34,35</span></span><br><span class="line"><span class="comment">// the other must use ADC2: GPIO 4,0,2,15,13,12,14,27,25,26</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> Jstick_x_pin = <span class="number">25</span>;           <span class="comment">// Left_Right GPIO25</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> Jstick_y_pin = <span class="number">32</span>;           <span class="comment">// Forward_Back GPIO32</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Value</span>&#123;</span></span><br><span class="line">  <span class="keyword">uint16_t</span> value_x;</span><br><span class="line">  <span class="keyword">uint16_t</span> value_y;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">Value data;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">setup</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  Serial.begin(<span class="number">115200</span>);</span><br><span class="line">  </span><br><span class="line">  radio.begin();</span><br><span class="line">  radio.openWritingPipe(address);</span><br><span class="line">  radio.setPALevel(RF24_PA_MIN);</span><br><span class="line">  radio.stopListening();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">loop</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  data.value_x = Jstick(Jstick_x_pin);</span><br><span class="line">  delay(<span class="number">10</span>);</span><br><span class="line">  data.value_y = Jstick(Jstick_y_pin);</span><br><span class="line">  delay(<span class="number">10</span>);</span><br><span class="line">  radio.write(&amp;data, <span class="keyword">sizeof</span>(Value));</span><br><span class="line"></span><br><span class="line">  <span class="comment">//Serial.print(&quot;x: &quot;); Serial.print(data.value_x);</span></span><br><span class="line">  <span class="comment">//Serial.print(&quot;, y: &quot;); Serial.println(data.value_y);</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">uint16_t</span> <span class="title">Jstick</span><span class="params">(<span class="keyword">int</span> Jstick_Pin)</span></span>&#123;</span><br><span class="line">  <span class="keyword">return</span> analogRead(Jstick_Pin);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<br>

<h5 id="Joystick-GPIO의-선정"><a href="#Joystick-GPIO의-선정" class="headerlink" title="Joystick GPIO의 선정"></a>Joystick GPIO의 선정</h5><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// for no interference, two joysticks must be used with each other ADC! </span></span><br><span class="line"><span class="comment">// one joystick use ADC1: GPIO 36,39,32,33,34,35</span></span><br><span class="line"><span class="comment">// the other must use ADC2: GPIO 4,0,2,15,13,12,14,27,25,26</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> Jstick_x_pin = <span class="number">25</span>;           <span class="comment">// Left_Right GPIO25</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> Jstick_y_pin = <span class="number">32</span>;           <span class="comment">// Forward_Back GPIO32</span></span><br></pre></td></tr></table></figure>

<ul>
<li>2개의 joystick을 동시에 사용할때 동일한 ADC의 GPIO를 사용하면, <strong>한쪽 joystick을 움직여 값을 변화시킬 경우 다른 한쪽 joystick을 움직이지 않았음에도 동시에 값이 일부 (소폭) 변화하는 현상</strong>이 생긴다.</li>
<li>이 문제를 해결하기 위해 각각의 joystick을 서로 다른 ADC에 연결한다.<ul>
<li>ADC1: GPIO 36,39,32,33,34,35 중 1개 사용 (예제에서는 GPIO 32를 y축 joystick으로 사용)</li>
<li>ADC2:  GPIO 4,(0),(2),15,13,(12),14,27,25,26 중 1개 사용 (()안의 핀은 사용시 주의 필요) (예제에서는 GPIO 25를 x축 joystick으로 사용)</li>
</ul>
</li>
<li>단, ESP32의 wifi 기능을 이용하면 ADC1핀 중에서 wifi 기능에 공유되는 핀의 사용에 제한을 받게 되므로 주의가 필요하다.</li>
<li>그밖에도 사용하는 ADC의 noise를 제거하기 위해 다음과 같은 방법을 쓰는 것이 좋다.<ul>
<li>GPIO와 GND에 100nF 케패시터를 연결하여 사용</li>
<li>10여회 정도의 값을 받아 평균값으로 사용</li>
</ul>
</li>
</ul>
<br>

<h4 id="for-Receiver-1"><a href="#for-Receiver-1" class="headerlink" title="for Receiver"></a>for Receiver</h4><h5 id="schematic-nRF24L01-receiver-with-ESP32-1"><a href="#schematic-nRF24L01-receiver-with-ESP32-1" class="headerlink" title="schematic: nRF24L01 receiver with ESP32"></a>schematic: nRF24L01 receiver with ESP32</h5><p><img src="/image/n/ESP32-nRF24L01-01.png"></p>
<br>

<h5 id="sketch-1"><a href="#sketch-1" class="headerlink" title="sketch"></a>sketch</h5><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;SPI.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;RF24.h&gt;</span></span></span><br><span class="line"><span class="function">RF24 <span class="title">radio</span><span class="params">(<span class="number">4</span> ,<span class="number">5</span>)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">long</span> <span class="keyword">long</span> address = <span class="number">0x1234ABCDEF</span>LL;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Value</span>&#123;</span></span><br><span class="line">  <span class="keyword">uint16_t</span> value_x;</span><br><span class="line">  <span class="keyword">uint16_t</span> value_y;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">Value data;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">setup</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  Serial.<span class="built_in">begin</span>(<span class="number">115200</span>);</span><br><span class="line">  radio.<span class="built_in">begin</span>();</span><br><span class="line">  radio.<span class="built_in">openReadingPipe</span>(<span class="number">1</span>, address);</span><br><span class="line">  radio.<span class="built_in">setPALevel</span>(RF24_PA_LOW);</span><br><span class="line">  radio.<span class="built_in">startListening</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">unsigned</span> <span class="keyword">long</span> lastRecvTime = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">recvData</span><span class="params">()</span></span>&#123;</span><br><span class="line">  <span class="keyword">while</span>( radio.<span class="built_in">available</span>())&#123;</span><br><span class="line">    radio.<span class="built_in">read</span>(&amp;data, <span class="built_in"><span class="keyword">sizeof</span></span>(Value));</span><br><span class="line">    lastRecvTime = <span class="built_in">millis</span>();  </span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">loop</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">unsigned</span> <span class="keyword">long</span> now = <span class="built_in">millis</span>();</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">if</span>( now - lastRecvTime &gt; <span class="number">1000</span>)&#123;</span><br><span class="line">	<span class="built_in">recvData</span>();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  Serial.<span class="built_in">print</span>(<span class="string">&quot;x: &quot;</span>); Serial.<span class="built_in">print</span>(data.value_x);</span><br><span class="line">  Serial.<span class="built_in">print</span>(<span class="string">&quot;, y: &quot;</span>); Serial.<span class="built_in">println</span>(data.value_y); </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<br>

<h4 id="result-1"><a href="#result-1" class="headerlink" title="result"></a>result</h4><p><img src="/image/n/ESP32-nRF24L01-09.png"></p>
<br>

<br>

<h3 id="nRF24L01-Dual-Joystick-Dual-Servomotors"><a href="#nRF24L01-Dual-Joystick-Dual-Servomotors" class="headerlink" title="nRF24L01 + Dual Joystick + Dual Servomotors"></a>nRF24L01 + Dual Joystick + Dual Servomotors</h3><h4 id="for-Receiver-2"><a href="#for-Receiver-2" class="headerlink" title="for Receiver"></a>for Receiver</h4><h5 id="schematic-nRF24L01-receiver-with-ESP32-Dual-Joystick"><a href="#schematic-nRF24L01-receiver-with-ESP32-Dual-Joystick" class="headerlink" title="schematic: nRF24L01 receiver with ESP32, Dual Joystick"></a>schematic: nRF24L01 receiver with ESP32, Dual Joystick</h5><p><img src="/image/n/ESP32-nRF24L01-10.png"></p>
<ul>
<li>MG996R과 같이 전류 사용량이 큰 서보 모터를 2개 이상 사용하는 경우, ESP32의 5V pin에서 공급하는 전류량이 부족하여 서보모터 동작이 원활치 않을 수 있다. 이런 경우에는 아래와 같이 외부 전원을 사용하여야 한다.</li>
</ul>
<br>

<h6 id="pinmap-1"><a href="#pinmap-1" class="headerlink" title="pinmap"></a>pinmap</h6><table>
<thead>
<tr>
<th>ESP32</th>
<th>servo_x</th>
<th>servo_y</th>
</tr>
</thead>
<tbody><tr>
<td>GND</td>
<td>GND (갈)</td>
<td>GND (갈)</td>
</tr>
<tr>
<td>5V</td>
<td>5V (빨)</td>
<td>5V (빨)</td>
</tr>
<tr>
<td>25</td>
<td>VRX (주)</td>
<td></td>
</tr>
<tr>
<td>32</td>
<td></td>
<td>VRY (주)</td>
</tr>
</tbody></table>
<br>

<h5 id="schematic-nRF24L01-receiver-with-ESP32-Dual-Joystick-External-Power-standalone"><a href="#schematic-nRF24L01-receiver-with-ESP32-Dual-Joystick-External-Power-standalone" class="headerlink" title="schematic: nRF24L01 receiver with ESP32, Dual Joystick, External Power (standalone)"></a>schematic: nRF24L01 receiver with ESP32, Dual Joystick, External Power (standalone)</h5><p><img src="/image/n/esp32-nRF24L01-servo-02.png"></p>
<br>

<h5 id="외부-전원의-구성"><a href="#외부-전원의-구성" class="headerlink" title="외부 전원의 구성"></a>외부 전원의 구성</h5><ul>
<li><p>18650 리튬이온 전지 2개를 사용하여 7.4V를 공급 (혹은 18650 3개를 사용하여 11.1V로 구성)</p>
</li>
<li><p>XL4015E1칩을 사용한 HW-514 DC-DC regulator를 사용하여,  7.4V → 5V로 전압을 낮춘다. (유사한 형태의 모듈 사용 가능)</p>
<table>
<thead>
<tr>
<th>HW-514 HC v0.2</th>
<th>Specification</th>
</tr>
</thead>
<tbody><tr>
<td><img src="/image/n/esp32-nRF24L01-servo-03.png" style="zoom:50%;"></td>
<td>Input voltage: 5-36V (6.5V 미만 입력시 디스플레이 동작안됨) <br><br>Output voltage: 1.25-32V continuously adjustable<br>Output current: adjustable, up to 5A (4.5A 이내 권장)<br>Output power: 75W max (50W 이내 권장)<br> <br>Conversion efficiency: up to 96%<br> <br>Working frequency: 180KHz<br>Short circuit protection: yes<br>Over-temperature protection<br>Input reverse polarity protection: None,<br>(필요시 고전류 다이오드를 입력단에 사용)<br> <br>Module Size: 68.2 * 38.8 * 15 (mm)</td>
</tr>
</tbody></table>
<ul>
<li><p>왼쪽 가변저항으로 출력 전압을 5V 조정 (오른쪽 가변저항은 출력 전류를 조정)</p>
</li>
<li><p>2P 출력단자는 모터에 직접 연결</p>
</li>
<li><p>USB포트는 USB-A to microUSB 케이블을 사용하여 ESP32에 연결 (이런 이유로 USB단자가 있는 모듈을 사용하는 것이 편함)</p>
</li>
</ul>
</li>
<li><p>아래와 같은 mini360, mini560 등의 소형 컨버터를 사용하면,</p>
<table>
<thead>
<tr>
<th align="center"><img src="/image/n/regulator-mini560.png" style="zoom:67%;"></th>
<th align="center"><img src="/image/n/regulator-mini360.png" style="zoom:47%;"></th>
</tr>
</thead>
</table>
<ul>
<li>SG90 서보모터는 정상적으로 동작</li>
<li>MG996R 서보모터를 연결한 경우에는 컨버터 자체가 불안정하여 모터 동작이 멈춤</li>
</ul>
</li>
</ul>
<br>

<h5 id="※-외부-전원-구성시-주의할-점"><a href="#※-외부-전원-구성시-주의할-점" class="headerlink" title="※ 외부 전원 구성시 주의할 점!"></a>※ 외부 전원 구성시 주의할 점!</h5><ul>
<li>외부 전원을 ESP32의 5V or 3.3V 핀에 직접 연결하지 않도록 한다.</li>
<li><strong>외부 전원을 DC 컨버터를 사용하여 5V or 3.3V로 만든 경우에도 5V or 3.3V 핀에 직접 연결하면 안된다.</strong></li>
<li>ESP32의 스펙상 5V or 3.3V 핀을 사용하여 외부 전원을 구성해도 된다고 나와 있지만, 실제로는 모터 등의 모듈이 작동하지 않거나, 심할 경우 ESP32 보드가 망가질 수 있으므로 이와 같은 구성은 지양한다.</li>
<li>(경험상) ESP32의 microUSB포트를 통해 전원을 공급하는 것이 가장 안정적으로 동작하였음!</li>
</ul>
<br>

<h5 id="sketch-nRF24L01-receiver-with-ESP32-Dual-Joystick-External-Power-standalone"><a href="#sketch-nRF24L01-receiver-with-ESP32-Dual-Joystick-External-Power-standalone" class="headerlink" title="sketch: nRF24L01 receiver with ESP32, Dual Joystick , External Power (standalone)"></a>sketch: nRF24L01 receiver with ESP32, Dual Joystick , External Power (standalone)</h5><h6 id="library-for-ESP32"><a href="#library-for-ESP32" class="headerlink" title="library for ESP32"></a>library for ESP32</h6><p><strong>스케치</strong>&gt; <strong>라이브러리 포함하기</strong>&gt; <strong>라이브러리 관리</strong> 에서 “<strong>esp32servo</strong>“ 검색 </p>
<p><img src="/image/n/esp32-nRF24L01-servo-01.png"></p>
<br>

<h6 id="sketch-2"><a href="#sketch-2" class="headerlink" title="sketch"></a>sketch</h6><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;SPI.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;RF24.h&gt;</span></span></span><br><span class="line"><span class="function">RF24 <span class="title">radio</span><span class="params">(<span class="number">4</span>, <span class="number">5</span>)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">long</span> <span class="keyword">long</span> address = <span class="number">0x1234ABCDEF</span>LL;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Value</span>&#123;</span></span><br><span class="line">  <span class="keyword">uint16_t</span> value_x;</span><br><span class="line">  <span class="keyword">uint16_t</span> value_y;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">Value data;</span><br><span class="line"></span><br><span class="line"><span class="comment">//Servo motor library for ESP32</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;ESP32Servo.h&gt;</span></span></span><br><span class="line"></span><br><span class="line">Servo servo_x;  <span class="comment">// create servo object to control a servo</span></span><br><span class="line">Servo servo_y;  <span class="comment">// 16 servo objects can be created on the ESP32</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> angle_x, angle_y;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Recommended PWM GPIO pins on the ESP32 include 2,4,12-19,21-23,25-27,32-33 </span></span><br><span class="line"><span class="keyword">int</span> servo_xPin = <span class="number">15</span>;</span><br><span class="line"><span class="keyword">int</span> servo_yPin = <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// RecvTime</span></span><br><span class="line"><span class="keyword">unsigned</span> <span class="keyword">long</span> lastRecvTime = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">recvData</span><span class="params">()</span></span>&#123;</span><br><span class="line">  <span class="keyword">while</span>( radio.available())&#123;</span><br><span class="line">    radio.read(&amp;data, <span class="keyword">sizeof</span>(Value));</span><br><span class="line">    lastRecvTime = millis();  </span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">setup</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  Serial.begin(<span class="number">115200</span>);</span><br><span class="line">  </span><br><span class="line">  radio.begin();</span><br><span class="line">  radio.openReadingPipe(<span class="number">1</span>, address);</span><br><span class="line">  radio.setPALevel(RF24_PA_LOW);</span><br><span class="line">  radio.startListening();</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// Allow allocation of all timers</span></span><br><span class="line">  ESP32PWM::allocateTimer(<span class="number">0</span>);</span><br><span class="line">  ESP32PWM::allocateTimer(<span class="number">1</span>);</span><br><span class="line">  ESP32PWM::allocateTimer(<span class="number">2</span>);</span><br><span class="line">  ESP32PWM::allocateTimer(<span class="number">3</span>);</span><br><span class="line">  servo_x.setPeriodHertz(<span class="number">50</span>);    <span class="comment">// standard 50 hz servo</span></span><br><span class="line">  servo_y.setPeriodHertz(<span class="number">50</span>);</span><br><span class="line">  servo_x.attach(servo_xPin, <span class="number">500</span>, <span class="number">2500</span>); <span class="comment">// attaches the servo on pin 25 &amp; 32 to the servo object</span></span><br><span class="line">  servo_y.attach(servo_yPin, <span class="number">500</span>, <span class="number">2500</span>);</span><br><span class="line">  <span class="comment">// using default min/max of 1000us and 2000us</span></span><br><span class="line">  <span class="comment">// different servos may require different min/max settings</span></span><br><span class="line">  <span class="comment">// for an accurate 0 to 180 sweep</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">loop</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  recvData();</span><br><span class="line">  <span class="keyword">unsigned</span> <span class="keyword">long</span> now = millis();</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">if</span>( now - lastRecvTime &gt; <span class="number">1000</span>)&#123;</span><br><span class="line">    <span class="comment">//ResetData();</span></span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  rotate_xy();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">rotate_xy</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  Serial.print(<span class="string">&quot;x: &quot;</span>); Serial.print(data.value_x);</span><br><span class="line">  Serial.print(<span class="string">&quot;, y: &quot;</span>); Serial.println(data.value_y);</span><br><span class="line">  angle_x = <span class="built_in">map</span>(data.value_x, <span class="number">0</span>, <span class="number">4095</span>, <span class="number">0</span>, <span class="number">180</span>);</span><br><span class="line">  angle_y = <span class="built_in">map</span>(data.value_y, <span class="number">0</span>, <span class="number">4095</span>, <span class="number">0</span>, <span class="number">180</span>);</span><br><span class="line">  servo_x.write(angle_x);</span><br><span class="line">  servo_y.write(angle_y);  </span><br><span class="line">  delay(<span class="number">10</span>); </span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<br>

<br>

<h4 id="조이스틱-중립-조정"><a href="#조이스틱-중립-조정" class="headerlink" title="조이스틱 중립 조정"></a>조이스틱 중립 조정</h4><ul>
<li><p>2개의 조이스틱을 중립에 두고, 시리얼 모니터를 통해 센서값을 확인했을때, x축 서보모터는 2700정도, y축 서보모터는 2800 정도의 값을 나타내었다. </p>
</li>
<li><p>이를 기준으로 조이스틱의 값에 따른 대략적인 형태를 생각해보면 (아래의 원 그림에 2개의 조이스틱 값을 모두 나타냄)</p>
<p><img src="/image/s/ESP32-2servo-02.png"></p>
</li>
<li><p>x축 조이스틱 값이</p>
<ul>
<li>1350~3400 일때: 중립 (서보모터는 90도 위치로 이동)</li>
<li>0~1350 일때: 서보모터 1도씩 감소 (0도 위치가 될때까지)<ul>
<li>단, 자동차 조향 시스템에 적용할 경우 <strong>55~90도</strong> 사이에서만 움직이도록 조정</li>
</ul>
</li>
<li>3400~4095 일때: 서보모터 1도씩 증가 (180도 위치가 될때까지) <ul>
<li>단, 자동차 조향 시스템에 적용할 경우 <strong>90~125도</strong> 사이에서만 움직이도록 조정</li>
</ul>
</li>
</ul>
</li>
<li><p>y축 조이스틱 값이</p>
<ul>
<li>1400~3350 일때: 중립 (서보모터는 90도 위치로 이동)</li>
<li>0~1400 일때: 서보모터 1도씩 감소 (0도 위치가 될때까지) (자동차에 적용시 브레이크 역할)</li>
<li>3350~4095 일때: 서보모터 1도씩 증가 (180도 위치가 될때까지) (자동차에 적용시 액셀레이터 역할)</li>
</ul>
</li>
<li><p>위 그림에 나타낸 값은 모든 조이스틱에 적용되는 절대적인 값이 아니며, 조이스틱마다 중립을 나타내는 센서값이 다르므로, 초기값을 100번 읽은 후 평균값을 만들어 사용한다.</p>
</li>
</ul>
<br>

<h5 id="sketch-3"><a href="#sketch-3" class="headerlink" title="sketch"></a>sketch</h5><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;SPI.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;RF24.h&gt;</span></span></span><br><span class="line"><span class="function">RF24 <span class="title">radio</span><span class="params">(<span class="number">4</span> ,<span class="number">5</span>)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">long</span> <span class="keyword">long</span> address = <span class="number">0x1234ABCDEF</span>LL;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Value</span>&#123;</span></span><br><span class="line">  <span class="keyword">uint16_t</span> value_x;</span><br><span class="line">  <span class="keyword">uint16_t</span> value_y;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">Value data;</span><br><span class="line"></span><br><span class="line"><span class="comment">//Servo motor library for ESP32</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;ESP32Servo.h&gt;</span></span></span><br><span class="line"></span><br><span class="line">Servo servo_x;  <span class="comment">// create servo object to control a servo</span></span><br><span class="line">Servo servo_y;  <span class="comment">// 16 servo objects can be created on the ESP32</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> angle_x = <span class="number">90</span>;</span><br><span class="line"><span class="keyword">int</span> angle_y = <span class="number">90</span>;</span><br><span class="line"><span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> center_x = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> center_y = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> ref_xl, ref_xr, ref_ya, ref_yb;    <span class="comment">// Servo rotation reference value </span></span><br><span class="line"></span><br><span class="line"><span class="comment">// for no interference, each joysticks must be used with other ADC! (* not recommended)</span></span><br><span class="line"><span class="comment">// one joystick use ADC1: GPIO 36,39,32,33,34,35</span></span><br><span class="line"><span class="comment">// the other must use ADC2: GPIO 4,0*,2,15,13,12,14,27,25,26</span></span><br><span class="line"><span class="keyword">int</span> servo_xPin = <span class="number">15</span>;</span><br><span class="line"><span class="keyword">int</span> servo_yPin = <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// RecvTime</span></span><br><span class="line"><span class="keyword">unsigned</span> <span class="keyword">long</span> lastRecvTime = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">centerData</span><span class="params">()</span></span>&#123;</span><br><span class="line">  <span class="keyword">while</span>(i &lt; <span class="number">100</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span>(radio.<span class="built_in">available</span>())&#123;</span><br><span class="line">      radio.<span class="built_in">read</span>(&amp;data, <span class="built_in"><span class="keyword">sizeof</span></span>(Value));</span><br><span class="line">      center_x = center_x + data.value_x;</span><br><span class="line">      center_y = center_y + data.value_y;</span><br><span class="line">      i++;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  center_x = center_x / <span class="number">100</span>;         <span class="comment">// x축 조이스틱 센터값</span></span><br><span class="line">  center_y = center_y / <span class="number">100</span>;         <span class="comment">// y축 조이스틱 센터값</span></span><br><span class="line"></span><br><span class="line">  ref_xl = center_x / <span class="number">2</span>;             <span class="comment">// 좌회전 동작 기준값</span></span><br><span class="line">  ref_xr = (<span class="number">4095</span> + center_x) / <span class="number">2</span>;    <span class="comment">// 우회전 동작 기준값</span></span><br><span class="line">  ref_ya = (<span class="number">4095</span> + center_y) / <span class="number">2</span>;    <span class="comment">// accelator 동작 기준값</span></span><br><span class="line">  ref_yb = center_y / <span class="number">2</span>;             <span class="comment">// brake 동작 기준값</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">recvData</span><span class="params">()</span></span>&#123;</span><br><span class="line">  <span class="keyword">while</span>(radio.<span class="built_in">available</span>())&#123;</span><br><span class="line">    radio.<span class="built_in">read</span>(&amp;data, <span class="built_in"><span class="keyword">sizeof</span></span>(Value));</span><br><span class="line">    lastRecvTime = <span class="built_in">millis</span>();  </span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">setup</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  Serial.<span class="built_in">begin</span>(<span class="number">115200</span>);</span><br><span class="line">  </span><br><span class="line">  radio.<span class="built_in">begin</span>();</span><br><span class="line">  radio.<span class="built_in">openReadingPipe</span>(<span class="number">1</span>, address);</span><br><span class="line">  radio.<span class="built_in">setPALevel</span>(RF24_PA_LOW);</span><br><span class="line">  radio.<span class="built_in">startListening</span>();</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// Allow allocation of all timers</span></span><br><span class="line">  ESP32PWM::<span class="built_in">allocateTimer</span>(<span class="number">0</span>);</span><br><span class="line">  ESP32PWM::<span class="built_in">allocateTimer</span>(<span class="number">1</span>);</span><br><span class="line">  ESP32PWM::<span class="built_in">allocateTimer</span>(<span class="number">2</span>);</span><br><span class="line">  ESP32PWM::<span class="built_in">allocateTimer</span>(<span class="number">3</span>);</span><br><span class="line">  servo_x.<span class="built_in">setPeriodHertz</span>(<span class="number">50</span>);    <span class="comment">// standard 50 hz servo</span></span><br><span class="line">  servo_y.<span class="built_in">setPeriodHertz</span>(<span class="number">50</span>);</span><br><span class="line">  servo_x.<span class="built_in">attach</span>(servo_xPin, <span class="number">500</span>, <span class="number">2500</span>); <span class="comment">// attaches the servo on pin 25 &amp; 32 to the servo object</span></span><br><span class="line">  servo_y.<span class="built_in">attach</span>(servo_yPin, <span class="number">500</span>, <span class="number">2500</span>);</span><br><span class="line">  <span class="comment">// using default min/max of 1000us and 2000us</span></span><br><span class="line">  <span class="comment">// different servos may require different min/max settings</span></span><br><span class="line">  <span class="comment">// for an accurate 0 to 180 sweep</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// center value</span></span><br><span class="line">  <span class="built_in">centerData</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">loop</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="keyword">unsigned</span> <span class="keyword">long</span> now = <span class="built_in">millis</span>();</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">if</span>( now - lastRecvTime &gt; <span class="number">5</span>)&#123;    <span class="comment">// 5ms 마다 서보출력</span></span><br><span class="line">    <span class="built_in">recvData</span>();</span><br><span class="line">    <span class="built_in">rotate_xy</span>();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">rotate_xy</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="comment">//Serial.print(&quot;x: &quot;); Serial.print(data.value_x);</span></span><br><span class="line">  <span class="comment">//Serial.print(&quot;, y: &quot;); Serial.println(data.value_y);</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">//x축 서보 구동 조건 설정</span></span><br><span class="line">  <span class="keyword">if</span>(data.value_x &lt; ref_xl) &#123;</span><br><span class="line">    <span class="keyword">if</span>(angle_x &gt; <span class="number">0</span>) &#123;</span><br><span class="line">      angle_x--;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">      angle_x = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span>(data.value_x &gt; ref_xr) &#123;</span><br><span class="line">    <span class="keyword">if</span>(angle_x &lt; <span class="number">180</span>) &#123;</span><br><span class="line">      angle_x++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">      angle_x = <span class="number">180</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">if</span>(angle_x &lt; <span class="number">90</span>) &#123;</span><br><span class="line">      angle_x++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(angle_x &gt; <span class="number">90</span>) &#123;</span><br><span class="line">      angle_x--;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">      angle_x = <span class="number">90</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"> <span class="comment">//y축 서보 구동 조건 설정</span></span><br><span class="line"> <span class="keyword">if</span>(data.value_y &lt; ref_yb) &#123;</span><br><span class="line">    <span class="keyword">if</span>(angle_y &gt; <span class="number">0</span>) &#123;</span><br><span class="line">      angle_y--;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">      angle_y = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span>(data.value_y &gt; ref_ya) &#123;</span><br><span class="line">    <span class="keyword">if</span>(angle_y &lt; <span class="number">180</span>) &#123;</span><br><span class="line">      angle_y++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">      angle_y = <span class="number">180</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">if</span>(angle_y &lt; <span class="number">90</span>) &#123;</span><br><span class="line">      angle_y++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(angle_y &gt; <span class="number">90</span>) &#123;</span><br><span class="line">      angle_y--;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">      angle_y = <span class="number">90</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  servo_x.<span class="built_in">write</span>(angle_x);</span><br><span class="line">  servo_y.<span class="built_in">write</span>(angle_y);</span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">5</span>);                    <span class="comment">// delay를 더 줄이면 서보 모터 기어에 무리가 감</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time datetime="2021-09-26T09:27:53.000Z" title="2021. 9. 26. 오후 6:27:53">2021-09-26</time>&nbsp;게시 됨</span><span class="level-item"><time datetime="2021-11-17T03:28:46.000Z" title="2021. 11. 17. 오후 12:28:46">2021-11-17</time>&nbsp;업데이트 됨</span><span class="level-item"><a class="link-muted" href="/categories/esp32/">ESP32</a></span><span class="level-item">한 시간안에 읽기 (약 11105 단어)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2021/09/26/ESP32-OLED/">ESP32, OLED (한글 출력 하기)</a></h1><div class="content"><h3 id="OLED"><a href="#OLED" class="headerlink" title="OLED"></a>OLED</h3><h4 id="종류"><a href="#종류" class="headerlink" title="종류"></a>종류</h4><p>ESP32나 Arduino에서 사용할 수 있는  oled의 종류는 매우 많지만, 주로 128*64 픽셀을 가진 0.96인치, 1.3인치의 SSD1306, SH1106 컨트롤러를 사용한 oled가 판매되고 있으며, 통신 프로토콜은 I2C나 SPI를 사용한다. oled 모듈 구입시 픽셀수, 컨트롤러 및 통신프로토콜을 잘 알아두어야 스케치 작성시 참고할 수 있음에 유의한다. I2C 방식은 GPIO를 2개만 사용하여 구성이 쉽다는 장점이 있고, SPI방식은 4~5개의 GPIO를 사용하지만 속도가 빠르다는 장점이 있다. 겉모습만으로는 컨트롤러를 확인하기는 어렵다.</p>
<table>
<thead>
<tr>
<th>I2C</th>
<th>SPI</th>
</tr>
</thead>
<tbody><tr>
<td><img src="/image/u/u8g2-oled-i2c-01.png"></td>
<td><img src="/image/u/u8g2-oled-spi-01.png"></td>
</tr>
<tr>
<td><img src="/image/u/u8g2-oled-i2c-02.png"></td>
<td><img src="/image/u/u8g2-oled-spi-02.png"></td>
</tr>
</tbody></table>
<p>이밖에도 U8g2 라이브러리에서 사용가능한 다양한 oled의 종류를 아래 링크에서 확인할 수 있다.</p>
<p><a target="_blank" rel="external nofollow noopener noreferrer" href="https://github.com/olikraus/u8g2/wiki/u8g2setupcpp#constructor-reference">Constructor Reference for U8g2 library</a></p>
 <br>

<br>

<h3 id="SPI-OLED"><a href="#SPI-OLED" class="headerlink" title="SPI OLED"></a>SPI OLED</h3><h4 id="pinmap"><a href="#pinmap" class="headerlink" title="pinmap"></a>pinmap</h4><table>
<thead>
<tr>
<th>OLED</th>
<th>ESP32 (HW_SPI로 사용시) (VSPI)</th>
<th></th>
<th>(I2C겸용보드인 경우)</th>
</tr>
</thead>
<tbody><tr>
<td>GND</td>
<td>GND</td>
<td></td>
<td></td>
</tr>
<tr>
<td>VDD</td>
<td>3.3V</td>
<td></td>
<td></td>
</tr>
<tr>
<td>D0</td>
<td><strong>18</strong> (HW_SPI 사용시 GPIO_18로 고정)</td>
<td>SCK&#x2F;CLK&#x2F;CLOCK</td>
<td>SCL</td>
</tr>
<tr>
<td>D1</td>
<td><strong>23</strong> (HW_SPI 사용시 GPIO_23으로 고정)</td>
<td>DATA&#x2F;DIN&#x2F;MOSI</td>
<td>SDA</td>
</tr>
<tr>
<td>RES</td>
<td>15</td>
<td>RST&#x2F;RESET</td>
<td></td>
</tr>
<tr>
<td>DC</td>
<td>14</td>
<td>Data Command</td>
<td></td>
</tr>
<tr>
<td>CS</td>
<td>5</td>
<td>Chip Select</td>
<td></td>
</tr>
</tbody></table>
<p>※ HW_SPI로 사용하는 경우에는 D0, D1의 핀번호를 바꿀 수 없으며, SW_SPI로 사용하는 경우에는 사용되는 모든 핀의 번호를 임의로 지정하여 사용할 수 있다.</p>
<br>

<h4 id="schematic"><a href="#schematic" class="headerlink" title="schematic"></a>schematic</h4><ul>
<li>SW_SPI 연결시에는 스케치에서 지정하는 GPIO핀에 연결한다.</li>
<li>HW_SPI로 연결할 때의 회로도는 아래 그림과 같다.</li>
</ul>
<p><img src="/image/u/u8g2-oled-spi-03.png"></p>
<br>

<h4 id="sketch"><a href="#sketch" class="headerlink" title="sketch"></a>sketch</h4><p>oled를 SPI로 연결하는 경우, 다음을 추가해야 한다.</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;SPI.h&gt;</span></span></span><br></pre></td></tr></table></figure>

<br>

<h5 id="sketch-SH1106-HW-SPI"><a href="#sketch-SH1106-HW-SPI" class="headerlink" title="sketch: SH1106, HW_SPI"></a>sketch: SH1106, HW_SPI</h5><p>HW_SPI를 사용하는 경우에는 D0(CLK), D1(MOSI)을 ESP32에 지정된 핀으로 사용하기 때문에, 나머지 3개의 핀만 sketch에서 지정해주면 된다.</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// for HW_SPI (VSPI)</span></span><br><span class="line"><span class="function">U8G2_SH1106_128X64_NONAME_F_4W_HW_SPI <span class="title">u8g2</span><span class="params">(U8G2_R0, <span class="comment">/* cs=*/</span> <span class="number">5</span>, <span class="comment">/* dc=*/</span> <span class="number">14</span>, <span class="comment">/* reset=*/</span> <span class="number">15</span>)</span></span>;</span><br></pre></td></tr></table></figure>

<br>

<h5 id="sketch-SH1106-SW-SPI"><a href="#sketch-SH1106-SW-SPI" class="headerlink" title="sketch: SH1106, SW_SPI"></a>sketch: SH1106, SW_SPI</h5><p>SW_SPI를 사용하는 경우, 4~5개의 핀을 sketch에 지정해주어야 한다.</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// for SW_SPI</span></span><br><span class="line"><span class="function">U8G2_SH1106_128X64_NONAME_F_4W_SW_SPI <span class="title">u8g2</span><span class="params">(U8G2_R0, <span class="comment">/* clock=*/</span> <span class="number">26</span>, <span class="comment">/* data=*/</span> <span class="number">25</span>, <span class="comment">/* cs=*/</span> <span class="number">5</span>, <span class="comment">/* dc=*/</span> <span class="number">14</span>, <span class="comment">/* reset=*/</span> <span class="number">15</span>)</span></span>;</span><br></pre></td></tr></table></figure>

<br>

<h5 id="sketch-SSD1306-HW-SPI"><a href="#sketch-SSD1306-HW-SPI" class="headerlink" title="sketch: SSD1306, HW_SPI"></a>sketch: SSD1306, HW_SPI</h5><p>SSD1306을 사용하는 oled의 경우 <strong>U8G2_SH1106_</strong>~ 부분을 <strong>U8G2_SSD1306_</strong>~ 으로 수정하여 사용한다. 자세한 옵션은 <a target="_blank" rel="external nofollow noopener noreferrer" href="https://github.com/olikraus/u8g2/wiki/u8g2setupcpp#constructor-reference">Constructor Reference for U8g2 library</a>에서 확인할 수 있다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// for HW_SPI (VSPI)</span><br><span class="line">U8G2_SSD1306_128X64_NONAME_F_4W_HW_SPI u8g2(U8G2_R0, /* cs=*/ 5, /* dc=*/ 14, /* reset=*/ 15);</span><br></pre></td></tr></table></figure>

<br>

<h5 id="sketch-SSD1306-SW-SPI"><a href="#sketch-SSD1306-SW-SPI" class="headerlink" title="sketch: SSD1306, SW_SPI"></a>sketch: SSD1306, SW_SPI</h5><p>SW_SPI를 사용하는 경우, 4~5개의 핀을 sketch에 지정해주어야 한다.</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// for SW_SPI</span></span><br><span class="line"><span class="function">U8G2_SSD1306_128X64_NONAME_F_4W_SW_SPI <span class="title">u8g2</span><span class="params">(U8G2_R0, <span class="comment">/* clock=*/</span> <span class="number">26</span>, <span class="comment">/* data=*/</span> <span class="number">25</span>, <span class="comment">/* cs=*/</span> <span class="number">5</span>, <span class="comment">/* dc=*/</span> <span class="number">14</span>, <span class="comment">/* reset=*/</span> <span class="number">15</span>)</span></span>;</span><br></pre></td></tr></table></figure>

<br>

<br>

<h3 id="I2C-OLED"><a href="#I2C-OLED" class="headerlink" title="I2C OLED"></a>I2C OLED</h3><h4 id="pinmap-1"><a href="#pinmap-1" class="headerlink" title="pinmap"></a>pinmap</h4><table>
<thead>
<tr>
<th>OLED</th>
<th>ESP32</th>
</tr>
</thead>
<tbody><tr>
<td>GND</td>
<td>GND</td>
</tr>
<tr>
<td>VDD</td>
<td>3.3V</td>
</tr>
<tr>
<td>SDA</td>
<td><strong>21</strong> (HW_I2C 사용시 GPIO_21로 고정)</td>
</tr>
<tr>
<td>SCL</td>
<td><strong>22</strong> (HW_I2C 사용시 GPIO_22으로 고정)</td>
</tr>
</tbody></table>
<br>

<h4 id="schematic-1"><a href="#schematic-1" class="headerlink" title="schematic"></a>schematic</h4><p><img src="/image/u/u8g2-oled-i2c-03.png"></p>
<br>

<h4 id="sketch-1"><a href="#sketch-1" class="headerlink" title="sketch"></a>sketch</h4><h5 id="sketch-SH1106-HW-I2C"><a href="#sketch-SH1106-HW-I2C" class="headerlink" title="sketch: SH1106, HW_I2C"></a>sketch: SH1106, HW_I2C</h5><p>HW_I2C를 사용하는 경우에는 SDA, SCL을 ESP32에 지정된 핀으로 사용하기 때문에, 구동 드라이버만 지정해주면 된다.</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// for SH1106,  I2C, (ESP32: SDA 21, SCL 22)</span></span><br><span class="line"><span class="function">U8G2_SH1106_128X64_NONAME_F_HW_I2C <span class="title">u8g2</span><span class="params">(U8G2_R0, <span class="comment">/* reset=*/</span> U8X8_PIN_NONE)</span></span>;</span><br></pre></td></tr></table></figure>

<br>

<h5 id="sketch-SSD1306-HW-I2C"><a href="#sketch-SSD1306-HW-I2C" class="headerlink" title="sketch: SSD1306, HW_I2C"></a>sketch: SSD1306, HW_I2C</h5><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// for SSD1306, I2C, (ESP32: SDA 21, SCL 22)</span></span><br><span class="line"><span class="function">U8G2_SSD1306_128X64_NONAME_F_HW_I2C <span class="title">u8g2</span><span class="params">(U8G2_R0, <span class="comment">/* reset=*/</span> U8X8_PIN_NONE)</span></span>;</span><br></pre></td></tr></table></figure>

<br>

<br>

<h3 id="U8g2-라이브러리"><a href="#U8g2-라이브러리" class="headerlink" title="U8g2 라이브러리"></a>U8g2 라이브러리</h3><p>ESP32나 Arduino에서 OLED를 사용을 위한 대표적인 라이브러리는 3~4가지 정도이다.</p>
<ul>
<li>U8glib</li>
<li><strong>U8g2</strong></li>
<li>Adafruit SSD1306</li>
<li>UTF8_HanDraw</li>
</ul>
<p>이들 중에서도 특히 U8glib와 Adafruit SSD1306 라이브러리가 가장 많이 사용되고 있다. 그렇지만 한글 출력이 쉽지 않다는 단점이 있으며, U8glib는 현재 개발이 중단된 상태이기도 하다. U8g2는 U8glib를 이어 새롭게 개발되는 라이브러리이며, U8glib의 기능을 모두 포함하고 있으므로 접근이 용이하다. 그러므로 여기서는 U8g2 라이브러리를 중심으로 ESP32에서 OLED를 사용하는 방법을 알아보고, 이에 더하여 한글 출력이 용이한 UTF8_HanDraw를 사용해보도록 한다.</p>
<br>

<h4 id="사용-방법"><a href="#사용-방법" class="headerlink" title="사용 방법"></a>사용 방법</h4><h5 id="라이브러리-설치"><a href="#라이브러리-설치" class="headerlink" title="라이브러리 설치"></a>라이브러리 설치</h5><ul>
<li><strong>스케치</strong>&gt; <strong>라이브러리 포함하기</strong>&gt; <strong>라이브러리 관리</strong>&gt; <strong>u8g2</strong> 검색 후 <strong>설치</strong> 클릭</li>
</ul>
<p><img src="/image/u/u8g2-01.png"></p>
<br>

<h5 id="U8g2-reference"><a href="#U8g2-reference" class="headerlink" title="U8g2 reference"></a>U8g2 reference</h5><p>U8g2 라이브러리 사용에 필요한 명령어들은 <a target="_blank" rel="external nofollow noopener noreferrer" href="https://github.com/olikraus/u8g2/wiki/u8g2reference">u8g2reference · olikraus&#x2F;u8g2 Wiki · GitHub</a> 를 참고한다.</p>
<br>

<h4 id="sketch-2"><a href="#sketch-2" class="headerlink" title="sketch"></a>sketch</h4><ul>
<li><p>SH1106 드라이버를 사용하여 HW_SPI로 OLED 출력을 수행할 경우, 아래와 같은 예제를 사용해볼 수 있다.</p>
</li>
<li><p>실제 사용하는 OLED 드라이버와 통신 프로토콜에 따라 sketch를 수정해서 사용해야 한다.</p>
</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;Arduino.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;U8g2lib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// for SPI</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;SPI.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// for using Korean NanumGothicCoding font</span></span><br><span class="line"><span class="comment">//#include &quot;u8g2_font_unifont_t_korean_NanumGothicCoding_16.h&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Please UNCOMMENT one of the contructor lines below</span></span><br><span class="line"><span class="comment">// U8g2 Contructor List (Frame Buffer)</span></span><br><span class="line"><span class="comment">// The complete list is available here: https://github.com/olikraus/u8g2/wiki/u8g2setupcpp</span></span><br><span class="line"><span class="comment">// Please update the pin numbers according to your setup. Use U8X8_PIN_NONE if the reset pin is not connected</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// for HW_SPI (VSPI)</span></span><br><span class="line"><span class="function">U8G2_SH1106_128X64_NONAME_F_4W_HW_SPI <span class="title">u8g2</span><span class="params">(U8G2_R0, <span class="comment">/* cs=*/</span> <span class="number">5</span>, <span class="comment">/* dc=*/</span> <span class="number">14</span>, <span class="comment">/* reset=*/</span> <span class="number">15</span>)</span></span>;</span><br><span class="line"><span class="comment">// for SW_SPI</span></span><br><span class="line"><span class="comment">//U8G2_SH1106_128X64_NONAME_F_4W_SW_SPI u8g2(U8G2_R0, /* clock=*/ 26, /* data=*/ 25, /* cs=*/ 5, /* dc=*/ 14, /* reset=*/ 15);</span></span><br><span class="line"><span class="comment">// for SSD1306, I2C, (ESP32: SDA 21, SCL 22)</span></span><br><span class="line"><span class="comment">//U8G2_SSD1306_128X64_NONAME_F_HW_I2C u8g2(U8G2_R0, /* reset=*/ U8X8_PIN_NONE);</span></span><br><span class="line"><span class="comment">// for SH1106,  I2C, (ESP32: SDA 21, SCL 22)</span></span><br><span class="line"><span class="comment">//U8G2_SH1106_128X64_NONAME_F_HW_I2C u8g2(U8G2_R0, /* reset=*/ U8X8_PIN_NONE);</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">setup</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  u8g2.begin();</span><br><span class="line">  u8g2.enableUTF8Print();   <span class="comment">// enable UTF8 support for the Arduino print() function</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">loop</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  u8g2.firstPage();</span><br><span class="line">  <span class="keyword">do</span> &#123;</span><br><span class="line">    u8g2.setFont(u8g2_font_ncenB14_tr);</span><br><span class="line">    u8g2.drawStr(<span class="number">0</span>,<span class="number">15</span>, <span class="string">&quot;SKS STEAM!&quot;</span>);</span><br><span class="line">    u8g2.drawTriangle(<span class="number">27</span>,<span class="number">50</span>, <span class="number">64</span>,<span class="number">32</span>, <span class="number">100</span>,<span class="number">50</span>);</span><br><span class="line">  &#125; <span class="keyword">while</span> ( u8g2.nextPage() );</span><br><span class="line">  delay(<span class="number">1000</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<br>

<h5 id="기본-사용-선언"><a href="#기본-사용-선언" class="headerlink" title="기본 사용 선언"></a>기본 사용 선언</h5><p>void setup() 내에 U8g2 라이브러리를 사용하여 oled를 사용하는 것을 선언 한다.</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">u8g2.begin();</span><br></pre></td></tr></table></figure>

<br>

<h5 id="폰트"><a href="#폰트" class="headerlink" title="폰트"></a>폰트</h5><ul>
<li>폰트는 <strong>u8g2_font_ncenB14_tr</strong>를 사용하고 있는데, <a target="_blank" rel="external nofollow noopener noreferrer" href="https://github.com/olikraus/u8g2/wiki/fntlist8#u8g2-font-list">fntlist8 · olikraus&#x2F;u8g2 Wiki · GitHub</a>에서 글자 크기별로 사용 가능한 폰트 목록을 확인할 수 있다.</li>
<li>폰트명에 ncenB14가 포함되어 있으므로 <strong>폰트(세로) 픽셀수가 14</strong> 라는 것을 알 수 있다.</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">u8g2.setFont(u8g2_font_ncenB14_tr);</span><br></pre></td></tr></table></figure>

<br>

<h5 id="drawing-sheet-사용하여-그림-그려보기"><a href="#drawing-sheet-사용하여-그림-그려보기" class="headerlink" title="drawing sheet 사용하여, 그림 그려보기"></a>drawing sheet 사용하여, 그림 그려보기</h5><p>128X64 픽셀을 표시한 Drawing Sheet를 사용하여, 원하는 그림을 그려보자.</p>
<p><a href="/attach/OLED_128X64_drawing_sheet.xlsx">Drawing Sheet</a></p>
<br>

<h5 id="drawStr"><a href="#drawStr" class="headerlink" title="drawStr"></a>drawStr</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">u8g2.drawStr(0,15, &quot;SKS STEAM!&quot;)</span><br></pre></td></tr></table></figure>

<ul>
<li>drawStr를 통해 문자를 프린트할 수 있다.</li>
<li>예제에서 사용한 <strong>0,15</strong>는 프린트할 문자열 “<strong>SKS STEAM!</strong>“ 중 맨 앞글자인 “<strong>S</strong>“의 왼쪽 아래 시작 픽셀을 의미한다. </li>
<li>폰트사이즈가 14이므로 <strong>0,15</strong> 픽셀에서 시작하며, <strong>0,1</strong> 픽셀까지 출력에 사용한다.</li>
<li>만약 시작 픽셀을 <strong>0,14</strong>로 바꾸면, <strong>0,0</strong> 픽셀까지 출력하므로, 문자를 올바르게 출력할 수 있다.</li>
<li>만약 시작 픽셀을 <strong>0,13</strong>으로 2픽셀 위로 올리게되면 <strong>0,-1</strong> 픽셀까지 출력되므로, 글자의 맨 윗부분 1행 전체가 삭제된 상태로 출력된다.</li>
<li>음수(-)를 허용하므로, 이를 적절히 이용하면 가로방향 또는 세로방향 스크롤로 사용할 수 있다.</li>
</ul>
<br>

<h5 id="drawTriangle"><a href="#drawTriangle" class="headerlink" title="drawTriangle"></a>drawTriangle</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">u8g2.drawTriangle(27,50, 64,32, 100,50);</span><br></pre></td></tr></table></figure>

<ul>
<li>U8g2 라이브러리에서 삼각형을 그릴때 사용하는 명령어이다.</li>
<li>지정된 픽셀(128x64)내에 3쌍의 순서쌍으로 3개의 꼭지점을 지정하면 이에 맞춰 삼각형을 그린다. 여기서는 (27,50), (64,32), (100,50)이 꼭지점이다.</li>
</ul>
<br>

<p>※ 그밖의 도형을 그리거나 글자 모양을 바꾸려면, <a target="_blank" rel="external nofollow noopener noreferrer" href="https://github.com/olikraus/u8g2/wiki/u8g2reference">u8g2reference · olikraus&#x2F;u8g2 Wiki · GitHub</a> 를 참고한다.</p>
<br>

<h4 id="한글-사용하기"><a href="#한글-사용하기" class="headerlink" title="한글 사용하기"></a>한글 사용하기</h4><p>U8g2 라이브러리에서 한글을 사용하려면, 한글 폰트를 사용하여야 한다. 기본적으로 제공되는 한글 폰트는 2가지가 있다.</p>
<ul>
<li><p>u8g2_font_unifont_t_korean1 : 사용가능한 글자가 제한되며, 용량이 17kB 정도</p>
</li>
<li><p>u8g2_font_unifont_t_korean2 : korean1폰트보다 사용가능한 글자수가 많으나, 용량이 70kB 정도</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">u8g2.setFont(u8g2_font_unifont_t_korean2);</span><br></pre></td></tr></table></figure>
</li>
<li><p>한글 사용을 위해 void setup()에 아래의 코드를 추가하여야 한다.</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">u8g2.enableUTF8Print();   <span class="comment">// enable UTF8 support for the Arduino print() function</span></span><br></pre></td></tr></table></figure></li>
</ul>
<br>

<h5 id="sketch-한글-사용하기"><a href="#sketch-한글-사용하기" class="headerlink" title="sketch: 한글 사용하기"></a>sketch: 한글 사용하기</h5><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;Arduino.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;U8g2lib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// for SPI</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;SPI.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Please UNCOMMENT one of the contructor lines below</span></span><br><span class="line"><span class="comment">// U8g2 Contructor List (Frame Buffer)</span></span><br><span class="line"><span class="comment">// The complete list is available here: https://github.com/olikraus/u8g2/wiki/u8g2setupcpp</span></span><br><span class="line"><span class="comment">// Please update the pin numbers according to your setup. Use U8X8_PIN_NONE if the reset pin is not connected</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// for HW_SPI (VSPI)</span></span><br><span class="line"><span class="function">U8G2_SH1106_128X64_NONAME_F_4W_HW_SPI <span class="title">u8g2</span><span class="params">(U8G2_R0, <span class="comment">/* cs=*/</span> <span class="number">5</span>, <span class="comment">/* dc=*/</span> <span class="number">14</span>, <span class="comment">/* reset=*/</span> <span class="number">15</span>)</span></span>;</span><br><span class="line"><span class="comment">// for SW_SPI</span></span><br><span class="line"><span class="comment">//U8G2_SH1106_128X64_NONAME_F_4W_SW_SPI u8g2(U8G2_R0, /* clock=*/ 26, /* data=*/ 25, /* cs=*/ 5, /* dc=*/ 14, /* reset=*/ 15);</span></span><br><span class="line"><span class="comment">// for SSD1306, I2C, (ESP32: SDA 21, SCL 22)</span></span><br><span class="line"><span class="comment">//U8G2_SSD1306_128X64_NONAME_F_HW_I2C u8g2(U8G2_R0, /* reset=*/ U8X8_PIN_NONE);</span></span><br><span class="line"><span class="comment">// for SH1106,  I2C, (ESP32: SDA 21, SCL 22)</span></span><br><span class="line"><span class="comment">//U8G2_SH1106_128X64_NONAME_F_HW_I2C u8g2(U8G2_R0, /* reset=*/ U8X8_PIN_NONE);</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">setup</span><span class="params">(<span class="keyword">void</span>)</span> </span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  u8g2.begin();</span><br><span class="line">  u8g2.enableUTF8Print();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">loop</span><span class="params">(<span class="keyword">void</span>)</span> </span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  u8g2.firstPage();</span><br><span class="line">  <span class="keyword">do</span> &#123;</span><br><span class="line">    u8g2.setFont(u8g2_font_ncenB14_tr);</span><br><span class="line">    u8g2.drawStr(<span class="number">0</span>, <span class="number">15</span>, <span class="string">&quot;SKS STEAM!&quot;</span>);</span><br><span class="line">    u8g2.drawTriangle(<span class="number">27</span>,<span class="number">50</span>, <span class="number">64</span>,<span class="number">32</span>, <span class="number">100</span>,<span class="number">50</span>);</span><br><span class="line">  &#125; <span class="keyword">while</span> ( u8g2.nextPage() );</span><br><span class="line">  delay(<span class="number">1000</span>);</span><br><span class="line"></span><br><span class="line">  u8g2.firstPage();</span><br><span class="line">  <span class="keyword">do</span> &#123;</span><br><span class="line">    <span class="comment">//u8g2.setFont(u8g2_font_unifont_t_korean1);</span></span><br><span class="line">    u8g2.setFont(u8g2_font_unifont_t_korean2);</span><br><span class="line">    u8g2.setFontDirection(<span class="number">0</span>);</span><br><span class="line">    u8g2.clearBuffer();</span><br><span class="line">    u8g2.setCursor(<span class="number">0</span>, <span class="number">16</span>);</span><br><span class="line">    u8g2.print(<span class="string">&quot;Hello!&quot;</span>);</span><br><span class="line">    u8g2.setCursor(<span class="number">0</span>, <span class="number">40</span>);</span><br><span class="line">    u8g2.print(<span class="string">&quot;안녕하세요.&quot;</span>);  </span><br><span class="line">    u8g2.sendBuffer();</span><br><span class="line">  &#125; <span class="keyword">while</span> ( u8g2.nextPage() );</span><br><span class="line">  delay(<span class="number">1000</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<br>

<h4 id="나눔고딕폰트-사용하기"><a href="#나눔고딕폰트-사용하기" class="headerlink" title="나눔고딕폰트 사용하기"></a>나눔고딕폰트 사용하기</h4><ul>
<li><p>(한글의 모든 글자를 사용해야 할 경우) U8g2 라이브러리에서 사용할 나눔고딕 폰트를 다운로드 (created by xyz37) 한다.</p>
<p><a target="_blank" rel="external nofollow noopener noreferrer" href="https://github.com/xyz37/U8G2_Korean_Font/blob/master/Samples/U8g2_PrintUTF8/u8g2_font_unifont_t_korean_NanumGothicCoding_16.h">u8g2_font_unifont_t_korean_NanumGothicCoding_16.h</a></p>
<p>※ <strong>주의!</strong> 폰트 크기가 1.09MB이므로 메모리가 작은 <strong>아두이노에서는 위 폰트를 사용하기 어렵지만, ESP32에서 사용할 수 있다.</strong> U8g2에서 제공하는 폰트인 korean1이 17k, korean2는 70k이므로 아두이노를 사용해야하는 경우는, (모든 한글 글자를 표현할 수 없더라도) korean1이나 korean2 폰트를 사용해야 한다.</p>
</li>
</ul>
<br>

<ul>
<li><p>다운로드 받은 나눔고딕 폰트 파일을 **”u8g2 라이브러리 폴더”**에 넣는다.</p>
<p><img src="/image/u/u8g2-02.png"></p>
</li>
</ul>
<br>

<ul>
<li><p>u8g2 라이브러리 폴더의 위치를 모를 경우,</p>
<p>아래 그림과 같이 아두이노 IDE에서 <strong>파일</strong>&gt; <strong>환경설정</strong> 에서 <strong>스케치북 위치</strong>를 확인한 후,</p>
</li>
</ul>
<p><img src="/image/u/u8g2-03.png"></p>
<p>​		<strong>(스케치북 위치)&#x2F;libraries&#x2F;U8g2&#x2F;src&#x2F;</strong> 폴더를 찾아, 폰트 파일을 넣는다.</p>
<br>

<ul>
<li><p>위 폰트를 사용하려면 스케치에 다음을 포함해야 한다.</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;u8g2_font_unifont_t_korean_NanumGothicCoding_16.h&quot;</span></span></span><br></pre></td></tr></table></figure>

 <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">loop</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  u8g2.setFont(u8g2_font_unifont_t_korean_NanumGothicCoding_16);</span><br><span class="line">  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<br>

<h5 id="sketch-3"><a href="#sketch-3" class="headerlink" title="sketch"></a>sketch</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;Arduino.h&gt;</span><br><span class="line">#include &lt;U8g2lib.h&gt;</span><br><span class="line"></span><br><span class="line">// for SPI</span><br><span class="line">#include &lt;SPI.h&gt;</span><br><span class="line"></span><br><span class="line">// for using Korean NanumGothicCoding font</span><br><span class="line">#include &quot;u8g2_font_unifont_t_korean_NanumGothicCoding_16.h&quot;</span><br><span class="line"></span><br><span class="line">// Please UNCOMMENT one of the contructor lines below</span><br><span class="line">// U8g2 Contructor List (Frame Buffer)</span><br><span class="line">// The complete list is available here: https://github.com/olikraus/u8g2/wiki/u8g2setupcpp</span><br><span class="line">// Please update the pin numbers according to your setup. Use U8X8_PIN_NONE if the reset pin is not connected</span><br><span class="line"></span><br><span class="line">// for HW_SPI (VSPI)</span><br><span class="line">U8G2_SH1106_128X64_NONAME_F_4W_HW_SPI u8g2(U8G2_R0, /* cs=*/ 5, /* dc=*/ 14, /* reset=*/ 15);</span><br><span class="line">// for SW_SPI</span><br><span class="line">//U8G2_SH1106_128X64_NONAME_F_4W_SW_SPI u8g2(U8G2_R0, /* clock=*/ 26, /* data=*/ 25, /* cs=*/ 5, /* dc=*/ 14, /* reset=*/ 15);</span><br><span class="line">// for SSD1306, I2C, (ESP32: SDA 21, SCL 22)</span><br><span class="line">//U8G2_SSD1306_128X64_NONAME_F_HW_I2C u8g2(U8G2_R0, /* reset=*/ U8X8_PIN_NONE);</span><br><span class="line">// for SH1106,  I2C, (ESP32: SDA 21, SCL 22)</span><br><span class="line">//U8G2_SH1106_128X64_NONAME_F_HW_I2C u8g2(U8G2_R0, /* reset=*/ U8X8_PIN_NONE);</span><br><span class="line"></span><br><span class="line">void setup(void) </span><br><span class="line">&#123;</span><br><span class="line">  u8g2.begin();</span><br><span class="line">  u8g2.enableUTF8Print();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void loop(void) </span><br><span class="line">&#123;</span><br><span class="line">  u8g2.firstPage();</span><br><span class="line">  do &#123;</span><br><span class="line">    u8g2.setFont(u8g2_font_ncenB14_tr);</span><br><span class="line">    u8g2.drawStr(0, 15, &quot;SKS STEAM!&quot;);</span><br><span class="line">    u8g2.drawTriangle(27,50, 64,32, 100,50);</span><br><span class="line">  &#125; while ( u8g2.nextPage() );</span><br><span class="line">  delay(1000);</span><br><span class="line"></span><br><span class="line">  u8g2.firstPage();</span><br><span class="line">  do &#123;</span><br><span class="line">    //u8g2.setFont(u8g2_font_unifont_t_korean1);</span><br><span class="line">    //u8g2.setFont(u8g2_font_unifont_t_korean2);</span><br><span class="line">    u8g2.setFont(u8g2_font_unifont_t_korean_NanumGothicCoding_16);</span><br><span class="line">    u8g2.setFontDirection(0);</span><br><span class="line">    u8g2.clearBuffer();</span><br><span class="line">    u8g2.setCursor(0, 16);</span><br><span class="line">    u8g2.print(&quot;Hello!&quot;);</span><br><span class="line">    u8g2.setCursor(0, 40);</span><br><span class="line">    u8g2.print(&quot;안녕하세요.&quot;);  </span><br><span class="line">    u8g2.sendBuffer();</span><br><span class="line">  &#125; while ( u8g2.nextPage() );</span><br><span class="line">  delay(1000);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<br>

<br>

<h3 id="비트맵-그림-x2F-사진-출력하기"><a href="#비트맵-그림-x2F-사진-출력하기" class="headerlink" title="비트맵 그림&#x2F;사진 출력하기"></a>비트맵 그림&#x2F;사진 출력하기</h3><p>OLED의 해상도(128×64)에 맞추어 그림이나 로고를 출력해보자. 윈도우 기준으로 설명하며, Mac의 경우 GIMP에서 비슷한 작업을 수행할 수 있다.</p>
<br>

<h4 id="사진-or-로고-그림파일-준비"><a href="#사진-or-로고-그림파일-준비" class="headerlink" title="사진 or 로고 그림파일 준비"></a>사진 or 로고 그림파일 준비</h4><h5 id="사진-픽셀수-조정"><a href="#사진-픽셀수-조정" class="headerlink" title="사진 픽셀수 조정"></a>사진 픽셀수 조정</h5><p>우선 oled에 출력하려는 작은 사진이나 로고 파일(.jpg or .png 등)을 준비한 뒤, 사용하는 oled의 해상도(예를들어 128×64) 고려하여 사진의 픽셀 수를 줄여야 한다. (※주의할 점: 화면상에 보이는 크기를 축소하는 것이 아니라 실제 픽셀수를 조정해야 함!)</p>
<br>

<ul>
<li><p>윈도우에서 <strong>그림판</strong>을 연다. (그림판3D 아님!) : <strong>시작</strong>&gt; <strong>Windows 보조프로그램</strong>&gt; <strong>그림판</strong></p>
<p><img src="/image/u/u8g2-bitmap-01.png"></p>
</li>
</ul>
<br>

<ul>
<li><p>그림판 하단에 불러온 그림의 실제 픽셀수가 나타납니다. (픽셀수 오른쪽의 % 수치는 화면상에서 보이는 확대&#x2F;축소 비율이므로, 여기서는 신경쓰지 않는다.)</p>
<p><img src="/image/u/u8g2-bitmap-02.png"></p>
</li>
</ul>
<br>

<ul>
<li><p><strong>Ctrl-A를 눌러 전체 그림을 선택</strong>하면 그림 겉테두리에 점선이 표시되는데, 이때 (파란색 동그라미 표시된) <strong>사진 오른쪽 상단 모서리</strong>의 포인트를 마우스로 클릭하여 픽셀사이즈를 <strong>원본 그림의 비율에 맞추어</strong> 128x64 이하로 조정한다. 예시에서는 1000x1000px, 즉 1:1의 비율 그림이므로 64x64로 조정하였다. 캔버스 크기를 나타내는 1000x1000px 왼쪽에, 축소되는 그림의 픽셀수가 나타나므로, 이를 확인하면서 픽셀수를 64x64로 조정하면 된다.</p>
<p><img src="/image/u/u8g2-bitmap-03.png"></p>
</li>
</ul>
<br>

<ul>
<li>64x64px이 표시되어는 부분은, 마우스로 크기를 조정한 뒤에 클릭하고 있는 마우스 버튼에서 손을 떼는 순간 사라진다. (신경쓰지 않아도 됨)</li>
</ul>
<br>

<ul>
<li><strong>중요!</strong> 위 그림처럼 <strong>축소된 작은 그림</strong>(전체 캔버스가 아님!)의 테두리에 점선이 남아 있는 상태에서 <strong>Ctrl-c</strong>를 눌러, 축소된 그림만 클립보드에 복사한다.</li>
</ul>
<br>

<ul>
<li><p>메뉴에서 <strong>파일</strong>&gt; <strong>새로 만들기</strong>&gt;를 클릭한다.</p>
<p>이때, <strong>변경내용을 저장하시겠습니까?</strong> 팝업이 뜨면 <strong>저장 안 함</strong> 클릭 (저장을 해도 관계없으나, 원본파일이 사라짐)</p>
</li>
</ul>
<br>

<ul>
<li><p>메뉴에서 <strong>파일</strong>&gt; <strong>속성</strong>&gt; 을 클릭한 뒤</p>
<p><img src="/image/u/u8g2-bitmap-04.png"></p>
</li>
</ul>
<br>

<ul>
<li><p>이미지 속성에서 단위를 픽셀로 지정하고, 너비와 높이를 oled의 전체 픽셀 사이즈(128x64)로 조정한다. </p>
<p><img src="/image/u/u8g2-bitmap-05.png"></p>
</li>
</ul>
<br>

<ul>
<li><p>그림판에 128x64 크기의 캔버스가 나타난다. (화면상에 나타나는 크기가 너무 작아 확대&#x2F;축소 비율을 100%로 조정함)</p>
<p><img src="/image/u/u8g2-bitmap-06.png"></p>
</li>
</ul>
<br>

<ul>
<li><p>위 상태에서 <strong>Ctrl-v</strong>를 클릭하여, 클립보드에 복사한 그림을 붙여넣기 한다.</p>
<p><img src="/image/u/u8g2-bitmap-07.png"></p>
</li>
</ul>
<br>

<ul>
<li><p>붙여넣은 그림을 마우스로 클릭하여 위치를 조정한다. 추가로 그림판의 텍스트 기능을 사용하여 글씨를 넣어보았다.</p>
<p><img src="/image/u/u8g2-bitmap-08.png"></p>
</li>
</ul>
<br>

<h5 id="단색-1-bit-비트맵-bmp-파일로-저장하기"><a href="#단색-1-bit-비트맵-bmp-파일로-저장하기" class="headerlink" title="단색 1-bit 비트맵 bmp 파일로 저장하기"></a>단색 1-bit 비트맵 bmp 파일로 저장하기</h5><ul>
<li><p>이제 작업한 파일을 1-bit 비트맵 bmp 파일로 저장한다. <strong>파일</strong>&gt; <strong>다른 이름으로 저장</strong>&gt; <strong>BMP 그림</strong> 을 클릭한 뒤,</p>
<p><img src="/image/u/u8g2-bitmap-09.png">)</p>
</li>
</ul>
<br>

<ul>
<li><p>저장할 경로와 파일이름을 지정한 뒤, 파일 형식을 *<em>단색 비트맵(</em>.bmp; *dlb)**으로 지정하여 저장한다. (사진 품질 저하에 대한 경고를 확인하면 최종 저장 된다.)</p>
<p><img src="/image/u/u8g2-bitmap-10.png"></p>
</li>
</ul>
<br>

<ul>
<li><p>최종 결과물은 다음과 같다. (<a href="/attach/apeach.bmp">어피치 로고 bmp 파일 다운로드</a>)</p>
<p><img src="/image/u/u8g2-bitmap-11.png"></p>
</li>
</ul>
<br>

<p>※ Mac에서는 GIMP를 이용하여 단색 비트맵 파일로 저장할 수 있다.</p>
<p>​	<a target="_blank" rel="external nofollow noopener noreferrer" href="https://community.silabs.com/s/article/creating-monochrome-bitmap-files-for-lcd-glib-using-gimp?language=en_US">링크 참고 - Creating monochrome bitmap files for LCD &#x2F; GLIB using GIMP</a>)</p>
<br>

<h4 id="단색-bmp-파일을-hex파일로-변경하기"><a href="#단색-bmp-파일을-hex파일로-변경하기" class="headerlink" title="단색 bmp 파일을 hex파일로 변경하기"></a>단색 bmp 파일을 hex파일로 변경하기</h4><h5 id="프로그램-설치"><a href="#프로그램-설치" class="headerlink" title="프로그램 설치"></a>프로그램 설치</h5><p>이제 아래와 같은 bitmap converter 프로그램을 사용하여, 단색 bmp 파일을 hex 파일로 변경한다. (여기서는 윈도우 기준으로 설명)</p>
<ul>
<li>윈도우: <a href="/attach/LCDAssistant.zip">LCD Assistant</a></li>
<li>Mac: <a href="/attach/BitmapToC.app.zip">BitmapToC</a></li>
</ul>
<br>

<h5 id="bmp-→-hex"><a href="#bmp-→-hex" class="headerlink" title="bmp → hex"></a>bmp → hex</h5><ul>
<li><p>LCD Assistant를 실행한 후,</p>
<p><strong>File</strong>&gt; <strong>Load image</strong>&gt; 를 클릭하여 위에서 제작한 단색 bmp 파일을 연다.</p>
<p><img src="/image/u/u8g2-bitmap-12.png"></p>
</li>
</ul>
<br>

<ul>
<li>Byte orientation을 <strong>Horizontal</strong>로 변경한다. Size, Pixel&#x2F;byte, Table name은 자동으로 지정되나, 만일 자동으로 설정되지 않는 경우, 아래와 같이 변경한다.<ul>
<li>Size: OLED 픽셀수</li>
<li>Pixel&#x2F;byte: 8</li>
<li>Table name: 스케치내에서 사용할 이름</li>
</ul>
</li>
</ul>
<br>

<ul>
<li><p><strong>File</strong>&gt; <strong>Save output</strong>&gt; 를 클릭하여 파일을 저장한다. 이때 파일 형식을 별도로 지정하지 않으며, 사용할 파일이름에 <strong>.h</strong> 또는 <strong>.txt</strong> 를 덧붙여 구분하여도 된다. 예시에서는 <a href="../attach/apeach.h">apeach.h</a> 로 지정하였다.</p>
<p><img src="/image/u/u8g2-bitmap-13.png"></p>
</li>
</ul>
<br>

<ul>
<li>메모장이나 텍스트 에디터 등을 사용하여 apeach.h 파일을 열어보면, 단색 bmp 파일의 hex 코드를 볼 수 있다. 이제 이를 sketch에 반영하면 된다.</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="keyword">unsigned</span> <span class="keyword">char</span> apeach [] = &#123;</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x70</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x8C</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x01</span>, <span class="number">0x03</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x02</span>, <span class="number">0x00</span>, <span class="number">0x80</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x0C</span>, <span class="number">0x00</span>, <span class="number">0x60</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x18</span>, <span class="number">0x00</span>, <span class="number">0x10</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x20</span>, <span class="number">0x00</span>, <span class="number">0x08</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0xC0</span>, <span class="number">0x00</span>, <span class="number">0x04</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x01</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x02</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x02</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x01</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x04</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x80</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x08</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x40</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x10</span>, <span class="number">0x38</span>, <span class="number">0x00</span>, <span class="number">0xF0</span>, <span class="number">0x60</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x30</span>, <span class="number">0xC6</span>, <span class="number">0x01</span>, <span class="number">0x8C</span>, <span class="number">0x20</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x21</span>, <span class="number">0x01</span>, <span class="number">0x02</span>, <span class="number">0x02</span>, <span class="number">0x30</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x21</span>, <span class="number">0x10</span>, <span class="number">0x84</span>, <span class="number">0x22</span>, <span class="number">0x10</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x42</span>, <span class="number">0x10</span>, <span class="number">0x84</span>, <span class="number">0x61</span>, <span class="number">0x10</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x42</span>, <span class="number">0x00</span>, <span class="number">0x84</span>, <span class="number">0x01</span>, <span class="number">0x08</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x42</span>, <span class="number">0x00</span>, <span class="number">0x85</span>, <span class="number">0xF9</span>, <span class="number">0x08</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x43</span>, <span class="number">0xFF</span>, <span class="number">0x86</span>, <span class="number">0x06</span>, <span class="number">0x08</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x40</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x08</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x40</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x08</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x40</span>, <span class="number">0x01</span>, <span class="number">0xFF</span>, <span class="number">0x00</span>, <span class="number">0x10</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x20</span>, <span class="number">0x01</span>, <span class="number">0x55</span>, <span class="number">0x00</span>, <span class="number">0x10</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x20</span>, <span class="number">0x01</span>, <span class="number">0xD6</span>, <span class="number">0x00</span>, <span class="number">0x10</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x10</span>, <span class="number">0x00</span>, <span class="number">0x38</span>, <span class="number">0x00</span>, <span class="number">0x20</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x18</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x60</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x0C</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0xC0</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x02</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x01</span>, <span class="number">0x80</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x01</span>, <span class="number">0xC0</span>, <span class="number">0x00</span>, <span class="number">0x06</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x3E</span>, <span class="number">0x00</span>, <span class="number">0xF8</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x61</span>, <span class="number">0xFF</span>, <span class="number">0x10</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x40</span>, <span class="number">0x00</span>, <span class="number">0x08</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0xC0</span>, <span class="number">0x00</span>, <span class="number">0x08</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x90</span>, <span class="number">0x00</span>, <span class="number">0x48</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x90</span>, <span class="number">0x00</span>, <span class="number">0x24</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x03</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x0F</span>, <span class="number">0xF0</span>, <span class="number">0x90</span>, <span class="number">0x00</span>, <span class="number">0x24</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x03</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x18</span>, <span class="number">0x18</span>, <span class="number">0x90</span>, <span class="number">0x00</span>, <span class="number">0x24</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x03</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x23</span>, <span class="number">0xC4</span>, <span class="number">0x90</span>, <span class="number">0x00</span>, <span class="number">0x24</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x03</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x4C</span>, <span class="number">0x36</span>, <span class="number">0x90</span>, <span class="number">0x00</span>, <span class="number">0x24</span>, <span class="number">0x03</span>, <span class="number">0xD9</span>, <span class="number">0x9C</span>, <span class="number">0x0E</span>, <span class="number">0x07</span>, <span class="number">0xB0</span>, <span class="number">0xF3</span>, <span class="number">0x38</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0xD8</span>, <span class="number">0x1A</span>, <span class="number">0x90</span>, <span class="number">0x00</span>, <span class="number">0x24</span>, <span class="number">0x07</span>, <span class="number">0xF9</span>, <span class="number">0xFE</span>, <span class="number">0x1F</span>, <span class="number">0x8F</span>, <span class="number">0xF1</span>, <span class="number">0xF3</span>, <span class="number">0x7C</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x93</span>, <span class="number">0xCB</span>, <span class="number">0xF0</span>, <span class="number">0x00</span>, <span class="number">0x28</span>, <span class="number">0x0E</span>, <span class="number">0x39</span>, <span class="number">0xC7</span>, <span class="number">0x31</span>, <span class="number">0x9C</span>, <span class="number">0x73</span>, <span class="number">0x83</span>, <span class="number">0x8C</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0xA6</span>, <span class="number">0x25</span>, <span class="number">0x30</span>, <span class="number">0x00</span>, <span class="number">0x28</span>, <span class="number">0x0C</span>, <span class="number">0x19</span>, <span class="number">0x83</span>, <span class="number">0x21</span>, <span class="number">0x98</span>, <span class="number">0x33</span>, <span class="number">0x03</span>, <span class="number">0x0C</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0xA4</span>, <span class="number">0x35</span>, <span class="number">0xD0</span>, <span class="number">0x00</span>, <span class="number">0x20</span>, <span class="number">0x0C</span>, <span class="number">0x19</span>, <span class="number">0x83</span>, <span class="number">0x7F</span>, <span class="number">0x98</span>, <span class="number">0x33</span>, <span class="number">0x03</span>, <span class="number">0x0C</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0xA4</span>, <span class="number">0x96</span>, <span class="number">0x10</span>, <span class="number">0x00</span>, <span class="number">0x20</span>, <span class="number">0x0C</span>, <span class="number">0x19</span>, <span class="number">0x83</span>, <span class="number">0x3E</span>, <span class="number">0x18</span>, <span class="number">0x33</span>, <span class="number">0x03</span>, <span class="number">0x0C</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x97</span>, <span class="number">0x94</span>, <span class="number">0x10</span>, <span class="number">0xFC</span>, <span class="number">0x20</span>, <span class="number">0x0E</span>, <span class="number">0x39</span>, <span class="number">0xC7</span>, <span class="number">0x30</span>, <span class="number">0x9C</span>, <span class="number">0x73</span>, <span class="number">0x83</span>, <span class="number">0x0C</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x90</span>, <span class="number">0x34</span>, <span class="number">0x10</span>, <span class="number">0x84</span>, <span class="number">0x20</span>, <span class="number">0x07</span>, <span class="number">0xF9</span>, <span class="number">0xFE</span>, <span class="number">0x3F</span>, <span class="number">0x8F</span>, <span class="number">0xF1</span>, <span class="number">0xF3</span>, <span class="number">0x0C</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x48</span>, <span class="number">0x24</span>, <span class="number">0x10</span>, <span class="number">0x84</span>, <span class="number">0x20</span>, <span class="number">0x03</span>, <span class="number">0xD9</span>, <span class="number">0xBC</span>, <span class="number">0x0F</span>, <span class="number">0x07</span>, <span class="number">0xB0</span>, <span class="number">0xF3</span>, <span class="number">0x0C</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x47</span>, <span class="number">0xCC</span>, <span class="number">0x11</span>, <span class="number">0x04</span>, <span class="number">0x40</span>, <span class="number">0x00</span>, <span class="number">0x01</span>, <span class="number">0x80</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x30</span>, <span class="number">0x18</span>, <span class="number">0x09</span>, <span class="number">0x02</span>, <span class="number">0x40</span>, <span class="number">0x00</span>, <span class="number">0x01</span>, <span class="number">0x80</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x1C</span>, <span class="number">0x30</span>, <span class="number">0x06</span>, <span class="number">0x01</span>, <span class="number">0x80</span>, <span class="number">0x00</span>, <span class="number">0x01</span>, <span class="number">0x80</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x03</span>, <span class="number">0xC0</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<br>

<h3 id="스케치에-이미지-hex-코드-넣기"><a href="#스케치에-이미지-hex-코드-넣기" class="headerlink" title="스케치에 이미지 hex 코드 넣기"></a>스케치에 이미지 hex 코드 넣기</h3><h4 id="sketch-4"><a href="#sketch-4" class="headerlink" title="sketch"></a>sketch</h4><p>위에서 만든 어피치로고와 함께 학교로고를 추가로 만들고, 2개의 이미지를 OLED에 3초씩 출력하는 코드이다.</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;Arduino.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;U8g2lib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;SPI.h&gt;</span>                                                   <span class="comment">// for SPI</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// #include &quot;u8g2_font_unifont_t_korean_NanumGothicCoding_16.h&quot;       // for using Korean NanumGothicCoding font</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Please UNCOMMENT one of the contructor lines below</span></span><br><span class="line"><span class="comment">// U8g2 Contructor List (Frame Buffer)</span></span><br><span class="line"><span class="comment">// The complete list is available here: https://github.com/olikraus/u8g2/wiki/u8g2setupcpp</span></span><br><span class="line"><span class="comment">// Please update the pin numbers according to your setup. Use U8X8_PIN_NONE if the reset pin is not connected</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// for HW_SPI (VSPI)</span></span><br><span class="line"><span class="function">U8G2_SH1106_128X64_NONAME_F_4W_HW_SPI <span class="title">u8g2</span><span class="params">(U8G2_R0, <span class="comment">/* cs=*/</span> <span class="number">5</span>, <span class="comment">/* dc=*/</span> <span class="number">14</span>, <span class="comment">/* reset=*/</span> <span class="number">15</span>)</span></span>;</span><br><span class="line"><span class="comment">// for SW_SPI</span></span><br><span class="line"><span class="comment">//U8G2_SH1106_128X64_NONAME_F_4W_SW_SPI u8g2(U8G2_R0, /* clock=*/ 26, /* data=*/ 25, /* cs=*/ 5, /* dc=*/ 14, /* reset=*/ 15);</span></span><br><span class="line"><span class="comment">// for SSD1306, I2C, (ESP32: SDA 21, SCL 22)</span></span><br><span class="line"><span class="comment">//U8G2_SSD1306_128X64_NONAME_F_HW_I2C u8g2(U8G2_R0, /* reset=*/ U8X8_PIN_NONE);</span></span><br><span class="line"><span class="comment">// for SH1106,  I2C, (ESP32: SDA 21, SCL 22)</span></span><br><span class="line"><span class="comment">//U8G2_SH1106_128X64_NONAME_F_HW_I2C u8g2(U8G2_R0, /* reset=*/ U8X8_PIN_NONE);</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">unsigned</span> <span class="keyword">char</span> apeach [] = &#123;</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x70</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x8C</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x01</span>, <span class="number">0x03</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x02</span>, <span class="number">0x00</span>, <span class="number">0x80</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x0C</span>, <span class="number">0x00</span>, <span class="number">0x60</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x18</span>, <span class="number">0x00</span>, <span class="number">0x10</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x20</span>, <span class="number">0x00</span>, <span class="number">0x08</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0xC0</span>, <span class="number">0x00</span>, <span class="number">0x04</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x01</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x02</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x02</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x01</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x04</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x80</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x08</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x40</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x10</span>, <span class="number">0x38</span>, <span class="number">0x00</span>, <span class="number">0xF0</span>, <span class="number">0x60</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x30</span>, <span class="number">0xC6</span>, <span class="number">0x01</span>, <span class="number">0x8C</span>, <span class="number">0x20</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x21</span>, <span class="number">0x01</span>, <span class="number">0x02</span>, <span class="number">0x02</span>, <span class="number">0x30</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x21</span>, <span class="number">0x10</span>, <span class="number">0x84</span>, <span class="number">0x22</span>, <span class="number">0x10</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x42</span>, <span class="number">0x10</span>, <span class="number">0x84</span>, <span class="number">0x61</span>, <span class="number">0x10</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x42</span>, <span class="number">0x00</span>, <span class="number">0x84</span>, <span class="number">0x01</span>, <span class="number">0x08</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x42</span>, <span class="number">0x00</span>, <span class="number">0x85</span>, <span class="number">0xF9</span>, <span class="number">0x08</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x43</span>, <span class="number">0xFF</span>, <span class="number">0x86</span>, <span class="number">0x06</span>, <span class="number">0x08</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x40</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x08</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x40</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x08</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x40</span>, <span class="number">0x01</span>, <span class="number">0xFF</span>, <span class="number">0x00</span>, <span class="number">0x10</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x20</span>, <span class="number">0x01</span>, <span class="number">0x55</span>, <span class="number">0x00</span>, <span class="number">0x10</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x20</span>, <span class="number">0x01</span>, <span class="number">0xD6</span>, <span class="number">0x00</span>, <span class="number">0x10</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x10</span>, <span class="number">0x00</span>, <span class="number">0x38</span>, <span class="number">0x00</span>, <span class="number">0x20</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x18</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x60</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x0C</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0xC0</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x02</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x01</span>, <span class="number">0x80</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x01</span>, <span class="number">0xC0</span>, <span class="number">0x00</span>, <span class="number">0x06</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x3E</span>, <span class="number">0x00</span>, <span class="number">0xF8</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x61</span>, <span class="number">0xFF</span>, <span class="number">0x10</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x40</span>, <span class="number">0x00</span>, <span class="number">0x08</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0xC0</span>, <span class="number">0x00</span>, <span class="number">0x08</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x90</span>, <span class="number">0x00</span>, <span class="number">0x48</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x90</span>, <span class="number">0x00</span>, <span class="number">0x24</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x03</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x0F</span>, <span class="number">0xF0</span>, <span class="number">0x90</span>, <span class="number">0x00</span>, <span class="number">0x24</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x03</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x18</span>, <span class="number">0x18</span>, <span class="number">0x90</span>, <span class="number">0x00</span>, <span class="number">0x24</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x03</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x23</span>, <span class="number">0xC4</span>, <span class="number">0x90</span>, <span class="number">0x00</span>, <span class="number">0x24</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x03</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x4C</span>, <span class="number">0x36</span>, <span class="number">0x90</span>, <span class="number">0x00</span>, <span class="number">0x24</span>, <span class="number">0x03</span>, <span class="number">0xD9</span>, <span class="number">0x9C</span>, <span class="number">0x0E</span>, <span class="number">0x07</span>, <span class="number">0xB0</span>, <span class="number">0xF3</span>, <span class="number">0x38</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0xD8</span>, <span class="number">0x1A</span>, <span class="number">0x90</span>, <span class="number">0x00</span>, <span class="number">0x24</span>, <span class="number">0x07</span>, <span class="number">0xF9</span>, <span class="number">0xFE</span>, <span class="number">0x1F</span>, <span class="number">0x8F</span>, <span class="number">0xF1</span>, <span class="number">0xF3</span>, <span class="number">0x7C</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x93</span>, <span class="number">0xCB</span>, <span class="number">0xF0</span>, <span class="number">0x00</span>, <span class="number">0x28</span>, <span class="number">0x0E</span>, <span class="number">0x39</span>, <span class="number">0xC7</span>, <span class="number">0x31</span>, <span class="number">0x9C</span>, <span class="number">0x73</span>, <span class="number">0x83</span>, <span class="number">0x8C</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0xA6</span>, <span class="number">0x25</span>, <span class="number">0x30</span>, <span class="number">0x00</span>, <span class="number">0x28</span>, <span class="number">0x0C</span>, <span class="number">0x19</span>, <span class="number">0x83</span>, <span class="number">0x21</span>, <span class="number">0x98</span>, <span class="number">0x33</span>, <span class="number">0x03</span>, <span class="number">0x0C</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0xA4</span>, <span class="number">0x35</span>, <span class="number">0xD0</span>, <span class="number">0x00</span>, <span class="number">0x20</span>, <span class="number">0x0C</span>, <span class="number">0x19</span>, <span class="number">0x83</span>, <span class="number">0x7F</span>, <span class="number">0x98</span>, <span class="number">0x33</span>, <span class="number">0x03</span>, <span class="number">0x0C</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0xA4</span>, <span class="number">0x96</span>, <span class="number">0x10</span>, <span class="number">0x00</span>, <span class="number">0x20</span>, <span class="number">0x0C</span>, <span class="number">0x19</span>, <span class="number">0x83</span>, <span class="number">0x3E</span>, <span class="number">0x18</span>, <span class="number">0x33</span>, <span class="number">0x03</span>, <span class="number">0x0C</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x97</span>, <span class="number">0x94</span>, <span class="number">0x10</span>, <span class="number">0xFC</span>, <span class="number">0x20</span>, <span class="number">0x0E</span>, <span class="number">0x39</span>, <span class="number">0xC7</span>, <span class="number">0x30</span>, <span class="number">0x9C</span>, <span class="number">0x73</span>, <span class="number">0x83</span>, <span class="number">0x0C</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x90</span>, <span class="number">0x34</span>, <span class="number">0x10</span>, <span class="number">0x84</span>, <span class="number">0x20</span>, <span class="number">0x07</span>, <span class="number">0xF9</span>, <span class="number">0xFE</span>, <span class="number">0x3F</span>, <span class="number">0x8F</span>, <span class="number">0xF1</span>, <span class="number">0xF3</span>, <span class="number">0x0C</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x48</span>, <span class="number">0x24</span>, <span class="number">0x10</span>, <span class="number">0x84</span>, <span class="number">0x20</span>, <span class="number">0x03</span>, <span class="number">0xD9</span>, <span class="number">0xBC</span>, <span class="number">0x0F</span>, <span class="number">0x07</span>, <span class="number">0xB0</span>, <span class="number">0xF3</span>, <span class="number">0x0C</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x47</span>, <span class="number">0xCC</span>, <span class="number">0x11</span>, <span class="number">0x04</span>, <span class="number">0x40</span>, <span class="number">0x00</span>, <span class="number">0x01</span>, <span class="number">0x80</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x30</span>, <span class="number">0x18</span>, <span class="number">0x09</span>, <span class="number">0x02</span>, <span class="number">0x40</span>, <span class="number">0x00</span>, <span class="number">0x01</span>, <span class="number">0x80</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x1C</span>, <span class="number">0x30</span>, <span class="number">0x06</span>, <span class="number">0x01</span>, <span class="number">0x80</span>, <span class="number">0x00</span>, <span class="number">0x01</span>, <span class="number">0x80</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x03</span>, <span class="number">0xC0</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">unsigned</span> <span class="keyword">char</span> skslogo_1bit_128x64 [] = &#123;</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x2E</span>, <span class="number">0x66</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0xC9</span>, <span class="number">0x64</span>, <span class="number">0x20</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x49</span>, <span class="number">0x66</span>, <span class="number">0x60</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x08</span>, <span class="number">0x76</span>, <span class="number">0x28</span>, <span class="number">0x64</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x44</span>, <span class="number">0x40</span>, <span class="number">0x06</span>, <span class="number">0xE5</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x64</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x2E</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x78</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x16</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x01</span>, <span class="number">0x20</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x04</span>, <span class="number">0x10</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x05</span>, <span class="number">0xA0</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x28</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x02</span>, <span class="number">0x40</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x20</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x11</span>, <span class="number">0x00</span>, <span class="number">0x80</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0xA0</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x24</span>, <span class="number">0x01</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x6E</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x22</span>, <span class="number">0x07</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x12</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x1C</span>, <span class="number">0x0E</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x10</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x60</span>, <span class="number">0x1E</span>, <span class="number">0x00</span>, <span class="number">0x07</span>, <span class="number">0x00</span>, <span class="number">0x08</span>, <span class="number">0x80</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0xB8</span>, <span class="number">0x3C</span>, <span class="number">0x00</span>, <span class="number">0x07</span>, <span class="number">0xE0</span>, <span class="number">0x03</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0xC0</span>, <span class="number">0x3C</span>, <span class="number">0x00</span>, <span class="number">0x07</span>, <span class="number">0xF8</span>, <span class="number">0x01</span>, <span class="number">0x40</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x30</span>, <span class="number">0x7C</span>, <span class="number">0x00</span>, <span class="number">0x0F</span>, <span class="number">0xF0</span>, <span class="number">0x03</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0xFC</span>, <span class="number">0x00</span>, <span class="number">0x0F</span>, <span class="number">0xF8</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x01</span>, <span class="number">0xE0</span>, <span class="number">0xFC</span>, <span class="number">0x00</span>, <span class="number">0x01</span>, <span class="number">0xF0</span>, <span class="number">0x01</span>, <span class="number">0x60</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0xC0</span>, <span class="number">0xFF</span>, <span class="number">0x00</span>, <span class="number">0x0F</span>, <span class="number">0xE0</span>, <span class="number">0x02</span>, <span class="number">0x20</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x41</span>, <span class="number">0xFF</span>, <span class="number">0xF0</span>, <span class="number">0x0F</span>, <span class="number">0xC0</span>, <span class="number">0x03</span>, <span class="number">0xC0</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x02</span>, <span class="number">0x01</span>, <span class="number">0xFF</span>, <span class="number">0xF8</span>, <span class="number">0x3F</span>, <span class="number">0xC0</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x01</span>, <span class="number">0xC1</span>, <span class="number">0xFF</span>, <span class="number">0xFF</span>, <span class="number">0xFF</span>, <span class="number">0xC0</span>, <span class="number">0x01</span>, <span class="number">0xE0</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x01</span>, <span class="number">0x01</span>, <span class="number">0xFF</span>, <span class="number">0x8D</span>, <span class="number">0xB1</span>, <span class="number">0xF8</span>, <span class="number">0x01</span>, <span class="number">0x10</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x01</span>, <span class="number">0xC1</span>, <span class="number">0xFF</span>, <span class="number">0xB5</span>, <span class="number">0x26</span>, <span class="number">0xFC</span>, <span class="number">0x01</span>, <span class="number">0xE0</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x03</span>, <span class="number">0xFF</span>, <span class="number">0x9C</span>, <span class="number">0x73</span>, <span class="number">0xFE</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x03</span>, <span class="number">0xC3</span>, <span class="number">0xFF</span>, <span class="number">0xC4</span>, <span class="number">0x78</span>, <span class="number">0xFE</span>, <span class="number">0x01</span>, <span class="number">0xE0</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x05</span>, <span class="number">0x41</span>, <span class="number">0xFF</span>, <span class="number">0x35</span>, <span class="number">0x26</span>, <span class="number">0xFF</span>, <span class="number">0x01</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x02</span>, <span class="number">0x01</span>, <span class="number">0xFF</span>, <span class="number">0x85</span>, <span class="number">0x90</span>, <span class="number">0xFF</span>, <span class="number">0x01</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x01</span>, <span class="number">0xFF</span>, <span class="number">0xFF</span>, <span class="number">0xFF</span>, <span class="number">0xFF</span>, <span class="number">0x80</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x01</span>, <span class="number">0xFF</span>, <span class="number">0xFF</span>, <span class="number">0xFF</span>, <span class="number">0xFF</span>, <span class="number">0x80</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x01</span>, <span class="number">0xFF</span>, <span class="number">0xFF</span>, <span class="number">0xFF</span>, <span class="number">0xFF</span>, <span class="number">0x80</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0xFF</span>, <span class="number">0xFF</span>, <span class="number">0xFF</span>, <span class="number">0xFF</span>, <span class="number">0x80</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x20</span>, <span class="number">0xFF</span>, <span class="number">0xFF</span>, <span class="number">0xFF</span>, <span class="number">0xFF</span>, <span class="number">0x82</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x01</span>, <span class="number">0xF0</span>, <span class="number">0x7F</span>, <span class="number">0xFF</span>, <span class="number">0xFF</span>, <span class="number">0xFF</span>, <span class="number">0x03</span>, <span class="number">0x80</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x07</span>, <span class="number">0xF0</span>, <span class="number">0x7F</span>, <span class="number">0xFF</span>, <span class="number">0xFF</span>, <span class="number">0xFF</span>, <span class="number">0x07</span>, <span class="number">0xE0</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x1F</span>, <span class="number">0xF8</span>, <span class="number">0x3F</span>, <span class="number">0xFF</span>, <span class="number">0x3F</span>, <span class="number">0xFE</span>, <span class="number">0x07</span>, <span class="number">0xF8</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x7F</span>, <span class="number">0xF8</span>, <span class="number">0x0F</span>, <span class="number">0xFE</span>, <span class="number">0x3F</span>, <span class="number">0xFC</span>, <span class="number">0x0F</span>, <span class="number">0xFE</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0xE6</span>, <span class="number">0x7C</span>, <span class="number">0x03</span>, <span class="number">0xF8</span>, <span class="number">0xFF</span>, <span class="number">0xF8</span>, <span class="number">0x0F</span>, <span class="number">0x1F</span>, <span class="number">0x80</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0xF1</span>, <span class="number">0x7C</span>, <span class="number">0x00</span>, <span class="number">0x03</span>, <span class="number">0xFF</span>, <span class="number">0xF0</span>, <span class="number">0x1F</span>, <span class="number">0xA1</span>, <span class="number">0x80</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0xF3</span>, <span class="number">0xFE</span>, <span class="number">0x03</span>, <span class="number">0xFF</span>, <span class="number">0xFF</span>, <span class="number">0xE0</span>, <span class="number">0x3F</span>, <span class="number">0x37</span>, <span class="number">0x80</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x7B</span>, <span class="number">0xDF</span>, <span class="number">0x00</span>, <span class="number">0xFF</span>, <span class="number">0xFF</span>, <span class="number">0x80</span>, <span class="number">0x7F</span>, <span class="number">0x97</span>, <span class="number">0x80</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x7B</span>, <span class="number">0x67</span>, <span class="number">0x80</span>, <span class="number">0x3F</span>, <span class="number">0xFE</span>, <span class="number">0x00</span>, <span class="number">0xFA</span>, <span class="number">0xD7</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x3F</span>, <span class="number">0xE7</span>, <span class="number">0xC0</span>, <span class="number">0x07</span>, <span class="number">0xF0</span>, <span class="number">0x01</span>, <span class="number">0xF9</span>, <span class="number">0xFE</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x3E</span>, <span class="number">0x0F</span>, <span class="number">0xE0</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x03</span>, <span class="number">0xF8</span>, <span class="number">0xFE</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x1F</span>, <span class="number">0x5C</span>, <span class="number">0xF8</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x0F</span>, <span class="number">0xFB</span>, <span class="number">0x7C</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x0F</span>, <span class="number">0x38</span>, <span class="number">0x7E</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x1F</span>, <span class="number">0xB6</span>, <span class="number">0xBC</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x0F</span>, <span class="number">0xF0</span>, <span class="number">0x7F</span>, <span class="number">0x80</span>, <span class="number">0x00</span>, <span class="number">0xFF</span>, <span class="number">0x87</span>, <span class="number">0xB8</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x07</span>, <span class="number">0xE0</span>, <span class="number">0xCF</span>, <span class="number">0xF8</span>, <span class="number">0x07</span>, <span class="number">0xFB</span>, <span class="number">0x8F</span>, <span class="number">0xF0</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x03</span>, <span class="number">0xED</span>, <span class="number">0xD3</span>, <span class="number">0xFF</span>, <span class="number">0xFF</span>, <span class="number">0xE3</span>, <span class="number">0x27</span>, <span class="number">0xE0</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x01</span>, <span class="number">0xFA</span>, <span class="number">0xAB</span>, <span class="number">0xFF</span>, <span class="number">0xFF</span>, <span class="number">0x38</span>, <span class="number">0x73</span>, <span class="number">0xC0</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0xF7</span>, <span class="number">0xCE</span>, <span class="number">0x3F</span>, <span class="number">0xFE</span>, <span class="number">0xB9</span>, <span class="number">0xE7</span>, <span class="number">0x80</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x7F</span>, <span class="number">0x15</span>, <span class="number">0x30</span>, <span class="number">0xFE</span>, <span class="number">0x37</span>, <span class="number">0xFF</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x3F</span>, <span class="number">0x0E</span>, <span class="number">0x31</span>, <span class="number">0xFE</span>, <span class="number">0xDE</span>, <span class="number">0xFE</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x1F</span>, <span class="number">0xCD</span>, <span class="number">0x30</span>, <span class="number">0xEF</span>, <span class="number">0xDC</span>, <span class="number">0xFC</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x07</span>, <span class="number">0xFB</span>, <span class="number">0xB0</span>, <span class="number">0xEF</span>, <span class="number">0x9F</span>, <span class="number">0xF8</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x03</span>, <span class="number">0xFE</span>, <span class="number">0xE1</span>, <span class="number">0xD7</span>, <span class="number">0x6F</span>, <span class="number">0xE0</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0xFF</span>, <span class="number">0xF9</span>, <span class="number">0xDA</span>, <span class="number">0x7F</span>, <span class="number">0x80</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x3F</span>, <span class="number">0xFF</span>, <span class="number">0xBB</span>, <span class="number">0xFE</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x0F</span>, <span class="number">0xFF</span>, <span class="number">0xFF</span>, <span class="number">0xF8</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0xFF</span>, <span class="number">0xFF</span>, <span class="number">0xC0</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x07</span>, <span class="number">0xF0</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">setup</span><span class="params">(<span class="keyword">void</span>)</span> </span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  u8g2.begin();</span><br><span class="line">  u8g2.enableUTF8Print();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">loop</span><span class="params">(<span class="keyword">void</span>)</span> </span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  u8g2.firstPage();</span><br><span class="line">  <span class="keyword">do</span> &#123;</span><br><span class="line">    u8g2.drawBitmap( <span class="number">0</span>, <span class="number">0</span>, <span class="number">16</span>, <span class="number">64</span>, apeach);</span><br><span class="line">  &#125; <span class="keyword">while</span>(u8g2.nextPage());</span><br><span class="line">  delay(<span class="number">3000</span>);</span><br><span class="line">  </span><br><span class="line">  u8g2.firstPage();</span><br><span class="line">  <span class="keyword">do</span> &#123;</span><br><span class="line">    u8g2.drawBitmap( <span class="number">0</span>, <span class="number">0</span>, <span class="number">16</span>, <span class="number">64</span>, skslogo_1bit_128x64);</span><br><span class="line">  &#125; <span class="keyword">while</span>(u8g2.nextPage());</span><br><span class="line">  delay(<span class="number">3000</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><br><br></p>
<h3 id="센서값-출력하기"><a href="#센서값-출력하기" class="headerlink" title="센서값 출력하기"></a>센서값 출력하기</h3><h4 id="DS18b20-온도센서"><a href="#DS18b20-온도센서" class="headerlink" title="DS18b20 온도센서"></a>DS18b20 온도센서</h4><h5 id="pinmap-2"><a href="#pinmap-2" class="headerlink" title="pinmap"></a>pinmap</h5><table>
<thead>
<tr>
<th>OLED</th>
<th>ESP32 (HW_SPI로 사용시) (VSPI)</th>
<th></th>
<th>DS18b20</th>
<th>4.7kΩ</th>
</tr>
</thead>
<tbody><tr>
<td>GND</td>
<td>GND</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>VDD</td>
<td>3.3V</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>D0</td>
<td><strong>18</strong> (HW_SPI 사용시 GPIO_18로 고정)</td>
<td>SCK&#x2F;CLK&#x2F;CLOCK</td>
<td></td>
<td></td>
</tr>
<tr>
<td>D1</td>
<td><strong>23</strong> (HW_SPI 사용시 GPIO_23으로 고정)</td>
<td>DATA&#x2F;DIN&#x2F;MOSI</td>
<td></td>
<td></td>
</tr>
<tr>
<td>RES</td>
<td>15</td>
<td>RST&#x2F;RESET</td>
<td></td>
<td></td>
</tr>
<tr>
<td>DC</td>
<td>14</td>
<td>Data Command</td>
<td></td>
<td></td>
</tr>
<tr>
<td>CS</td>
<td>5</td>
<td>Chip Select</td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td>GND</td>
<td></td>
<td>GND (Black)</td>
<td></td>
</tr>
<tr>
<td></td>
<td>5V</td>
<td></td>
<td>VCC (Red)</td>
<td>O</td>
</tr>
<tr>
<td></td>
<td>13</td>
<td></td>
<td>Signal (Yellow)</td>
<td>O</td>
</tr>
</tbody></table>
<br>

<h5 id="schematic-2"><a href="#schematic-2" class="headerlink" title="schematic"></a>schematic</h5><p><img src="/image/u/u8g2-DS18b20-01.png"></p>
<br>

<h5 id="library"><a href="#library" class="headerlink" title="library"></a>library</h5><p><strong>Sketch</strong>&gt; <strong>Include Library</strong>&gt; <strong>Manage Libraries</strong>&gt;</p>
<ul>
<li>OneWire (by Jim Studt etc.)</li>
<li>DallasTemperature (by Miles Burton)</li>
</ul>
<br>

<h5 id="sketch-5"><a href="#sketch-5" class="headerlink" title="sketch"></a>sketch</h5><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;Arduino.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;U8g2lib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// for SPI</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;SPI.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// for using Korean NanumGothicCoding font</span></span><br><span class="line"><span class="comment">// #include &quot;u8g2_font_unifont_t_korean_NanumGothicCoding_16.h&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Please UNCOMMENT one of the contructor lines below</span></span><br><span class="line"><span class="comment">// U8g2 Contructor List (Frame Buffer)</span></span><br><span class="line"><span class="comment">// The complete list is available here: https://github.com/olikraus/u8g2/wiki/u8g2setupcpp</span></span><br><span class="line"><span class="comment">// Please update the pin numbers according to your setup. Use U8X8_PIN_NONE if the reset pin is not connected</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// for HW_SPI (VSPI)</span></span><br><span class="line"><span class="function">U8G2_SH1106_128X64_NONAME_F_4W_HW_SPI <span class="title">u8g2</span><span class="params">(U8G2_R0, <span class="comment">/* cs=*/</span> <span class="number">5</span>, <span class="comment">/* dc=*/</span> <span class="number">14</span>, <span class="comment">/* reset=*/</span> <span class="number">15</span>)</span></span>;</span><br><span class="line"><span class="comment">// for SW_SPI</span></span><br><span class="line"><span class="comment">//U8G2_SH1106_128X64_NONAME_F_4W_SW_SPI u8g2(U8G2_R0, /* clock=*/ 26, /* data=*/ 25, /* cs=*/ 5, /* dc=*/ 14, /* reset=*/ 15);</span></span><br><span class="line"><span class="comment">// for SSD1306, I2C, (ESP32: SDA 21, SCL 22)</span></span><br><span class="line"><span class="comment">//U8G2_SSD1306_128X64_NONAME_F_HW_I2C u8g2(U8G2_R0, /* reset=*/ U8X8_PIN_NONE);</span></span><br><span class="line"><span class="comment">// for SH1106,  I2C, (ESP32: SDA 21, SCL 22)</span></span><br><span class="line"><span class="comment">//U8G2_SH1106_128X64_NONAME_F_HW_I2C u8g2(U8G2_R0, /* reset=*/ U8X8_PIN_NONE);</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;OneWire.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;DallasTemperature.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> TEMP_PIN 13</span></span><br><span class="line"></span><br><span class="line"><span class="function">OneWire <span class="title">oneWire</span><span class="params">(TEMP_PIN)</span></span>;</span><br><span class="line"><span class="function">DallasTemperature <span class="title">sensors</span><span class="params">(&amp;oneWire)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">unsigned</span> <span class="keyword">long</span> startTime = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">unsigned</span> <span class="keyword">char</span> skslogo_1bit_128x64 [] = &#123;</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x2E</span>, <span class="number">0x66</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0xC9</span>, <span class="number">0x64</span>, <span class="number">0x20</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x49</span>, <span class="number">0x66</span>, <span class="number">0x60</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x08</span>, <span class="number">0x76</span>, <span class="number">0x28</span>, <span class="number">0x64</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x44</span>, <span class="number">0x40</span>, <span class="number">0x06</span>, <span class="number">0xE5</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x64</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x2E</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x78</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x16</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x01</span>, <span class="number">0x20</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x04</span>, <span class="number">0x10</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x05</span>, <span class="number">0xA0</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x28</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x02</span>, <span class="number">0x40</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x20</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x11</span>, <span class="number">0x00</span>, <span class="number">0x80</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0xA0</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x24</span>, <span class="number">0x01</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x6E</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x22</span>, <span class="number">0x07</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x12</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x1C</span>, <span class="number">0x0E</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x10</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x60</span>, <span class="number">0x1E</span>, <span class="number">0x00</span>, <span class="number">0x07</span>, <span class="number">0x00</span>, <span class="number">0x08</span>, <span class="number">0x80</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0xB8</span>, <span class="number">0x3C</span>, <span class="number">0x00</span>, <span class="number">0x07</span>, <span class="number">0xE0</span>, <span class="number">0x03</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0xC0</span>, <span class="number">0x3C</span>, <span class="number">0x00</span>, <span class="number">0x07</span>, <span class="number">0xF8</span>, <span class="number">0x01</span>, <span class="number">0x40</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x30</span>, <span class="number">0x7C</span>, <span class="number">0x00</span>, <span class="number">0x0F</span>, <span class="number">0xF0</span>, <span class="number">0x03</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0xFC</span>, <span class="number">0x00</span>, <span class="number">0x0F</span>, <span class="number">0xF8</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x01</span>, <span class="number">0xE0</span>, <span class="number">0xFC</span>, <span class="number">0x00</span>, <span class="number">0x01</span>, <span class="number">0xF0</span>, <span class="number">0x01</span>, <span class="number">0x60</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0xC0</span>, <span class="number">0xFF</span>, <span class="number">0x00</span>, <span class="number">0x0F</span>, <span class="number">0xE0</span>, <span class="number">0x02</span>, <span class="number">0x20</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x41</span>, <span class="number">0xFF</span>, <span class="number">0xF0</span>, <span class="number">0x0F</span>, <span class="number">0xC0</span>, <span class="number">0x03</span>, <span class="number">0xC0</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x02</span>, <span class="number">0x01</span>, <span class="number">0xFF</span>, <span class="number">0xF8</span>, <span class="number">0x3F</span>, <span class="number">0xC0</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x01</span>, <span class="number">0xC1</span>, <span class="number">0xFF</span>, <span class="number">0xFF</span>, <span class="number">0xFF</span>, <span class="number">0xC0</span>, <span class="number">0x01</span>, <span class="number">0xE0</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x01</span>, <span class="number">0x01</span>, <span class="number">0xFF</span>, <span class="number">0x8D</span>, <span class="number">0xB1</span>, <span class="number">0xF8</span>, <span class="number">0x01</span>, <span class="number">0x10</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x01</span>, <span class="number">0xC1</span>, <span class="number">0xFF</span>, <span class="number">0xB5</span>, <span class="number">0x26</span>, <span class="number">0xFC</span>, <span class="number">0x01</span>, <span class="number">0xE0</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x03</span>, <span class="number">0xFF</span>, <span class="number">0x9C</span>, <span class="number">0x73</span>, <span class="number">0xFE</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x03</span>, <span class="number">0xC3</span>, <span class="number">0xFF</span>, <span class="number">0xC4</span>, <span class="number">0x78</span>, <span class="number">0xFE</span>, <span class="number">0x01</span>, <span class="number">0xE0</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x05</span>, <span class="number">0x41</span>, <span class="number">0xFF</span>, <span class="number">0x35</span>, <span class="number">0x26</span>, <span class="number">0xFF</span>, <span class="number">0x01</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x02</span>, <span class="number">0x01</span>, <span class="number">0xFF</span>, <span class="number">0x85</span>, <span class="number">0x90</span>, <span class="number">0xFF</span>, <span class="number">0x01</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x01</span>, <span class="number">0xFF</span>, <span class="number">0xFF</span>, <span class="number">0xFF</span>, <span class="number">0xFF</span>, <span class="number">0x80</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x01</span>, <span class="number">0xFF</span>, <span class="number">0xFF</span>, <span class="number">0xFF</span>, <span class="number">0xFF</span>, <span class="number">0x80</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x01</span>, <span class="number">0xFF</span>, <span class="number">0xFF</span>, <span class="number">0xFF</span>, <span class="number">0xFF</span>, <span class="number">0x80</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0xFF</span>, <span class="number">0xFF</span>, <span class="number">0xFF</span>, <span class="number">0xFF</span>, <span class="number">0x80</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x20</span>, <span class="number">0xFF</span>, <span class="number">0xFF</span>, <span class="number">0xFF</span>, <span class="number">0xFF</span>, <span class="number">0x82</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x01</span>, <span class="number">0xF0</span>, <span class="number">0x7F</span>, <span class="number">0xFF</span>, <span class="number">0xFF</span>, <span class="number">0xFF</span>, <span class="number">0x03</span>, <span class="number">0x80</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x07</span>, <span class="number">0xF0</span>, <span class="number">0x7F</span>, <span class="number">0xFF</span>, <span class="number">0xFF</span>, <span class="number">0xFF</span>, <span class="number">0x07</span>, <span class="number">0xE0</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x1F</span>, <span class="number">0xF8</span>, <span class="number">0x3F</span>, <span class="number">0xFF</span>, <span class="number">0x3F</span>, <span class="number">0xFE</span>, <span class="number">0x07</span>, <span class="number">0xF8</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x7F</span>, <span class="number">0xF8</span>, <span class="number">0x0F</span>, <span class="number">0xFE</span>, <span class="number">0x3F</span>, <span class="number">0xFC</span>, <span class="number">0x0F</span>, <span class="number">0xFE</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0xE6</span>, <span class="number">0x7C</span>, <span class="number">0x03</span>, <span class="number">0xF8</span>, <span class="number">0xFF</span>, <span class="number">0xF8</span>, <span class="number">0x0F</span>, <span class="number">0x1F</span>, <span class="number">0x80</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0xF1</span>, <span class="number">0x7C</span>, <span class="number">0x00</span>, <span class="number">0x03</span>, <span class="number">0xFF</span>, <span class="number">0xF0</span>, <span class="number">0x1F</span>, <span class="number">0xA1</span>, <span class="number">0x80</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0xF3</span>, <span class="number">0xFE</span>, <span class="number">0x03</span>, <span class="number">0xFF</span>, <span class="number">0xFF</span>, <span class="number">0xE0</span>, <span class="number">0x3F</span>, <span class="number">0x37</span>, <span class="number">0x80</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x7B</span>, <span class="number">0xDF</span>, <span class="number">0x00</span>, <span class="number">0xFF</span>, <span class="number">0xFF</span>, <span class="number">0x80</span>, <span class="number">0x7F</span>, <span class="number">0x97</span>, <span class="number">0x80</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x7B</span>, <span class="number">0x67</span>, <span class="number">0x80</span>, <span class="number">0x3F</span>, <span class="number">0xFE</span>, <span class="number">0x00</span>, <span class="number">0xFA</span>, <span class="number">0xD7</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x3F</span>, <span class="number">0xE7</span>, <span class="number">0xC0</span>, <span class="number">0x07</span>, <span class="number">0xF0</span>, <span class="number">0x01</span>, <span class="number">0xF9</span>, <span class="number">0xFE</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x3E</span>, <span class="number">0x0F</span>, <span class="number">0xE0</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x03</span>, <span class="number">0xF8</span>, <span class="number">0xFE</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x1F</span>, <span class="number">0x5C</span>, <span class="number">0xF8</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x0F</span>, <span class="number">0xFB</span>, <span class="number">0x7C</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x0F</span>, <span class="number">0x38</span>, <span class="number">0x7E</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x1F</span>, <span class="number">0xB6</span>, <span class="number">0xBC</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x0F</span>, <span class="number">0xF0</span>, <span class="number">0x7F</span>, <span class="number">0x80</span>, <span class="number">0x00</span>, <span class="number">0xFF</span>, <span class="number">0x87</span>, <span class="number">0xB8</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x07</span>, <span class="number">0xE0</span>, <span class="number">0xCF</span>, <span class="number">0xF8</span>, <span class="number">0x07</span>, <span class="number">0xFB</span>, <span class="number">0x8F</span>, <span class="number">0xF0</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x03</span>, <span class="number">0xED</span>, <span class="number">0xD3</span>, <span class="number">0xFF</span>, <span class="number">0xFF</span>, <span class="number">0xE3</span>, <span class="number">0x27</span>, <span class="number">0xE0</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x01</span>, <span class="number">0xFA</span>, <span class="number">0xAB</span>, <span class="number">0xFF</span>, <span class="number">0xFF</span>, <span class="number">0x38</span>, <span class="number">0x73</span>, <span class="number">0xC0</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0xF7</span>, <span class="number">0xCE</span>, <span class="number">0x3F</span>, <span class="number">0xFE</span>, <span class="number">0xB9</span>, <span class="number">0xE7</span>, <span class="number">0x80</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x7F</span>, <span class="number">0x15</span>, <span class="number">0x30</span>, <span class="number">0xFE</span>, <span class="number">0x37</span>, <span class="number">0xFF</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x3F</span>, <span class="number">0x0E</span>, <span class="number">0x31</span>, <span class="number">0xFE</span>, <span class="number">0xDE</span>, <span class="number">0xFE</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x1F</span>, <span class="number">0xCD</span>, <span class="number">0x30</span>, <span class="number">0xEF</span>, <span class="number">0xDC</span>, <span class="number">0xFC</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x07</span>, <span class="number">0xFB</span>, <span class="number">0xB0</span>, <span class="number">0xEF</span>, <span class="number">0x9F</span>, <span class="number">0xF8</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x03</span>, <span class="number">0xFE</span>, <span class="number">0xE1</span>, <span class="number">0xD7</span>, <span class="number">0x6F</span>, <span class="number">0xE0</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0xFF</span>, <span class="number">0xF9</span>, <span class="number">0xDA</span>, <span class="number">0x7F</span>, <span class="number">0x80</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x3F</span>, <span class="number">0xFF</span>, <span class="number">0xBB</span>, <span class="number">0xFE</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x0F</span>, <span class="number">0xFF</span>, <span class="number">0xFF</span>, <span class="number">0xF8</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0xFF</span>, <span class="number">0xFF</span>, <span class="number">0xC0</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x07</span>, <span class="number">0xF0</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span>, <span class="number">0x00</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">setup</span><span class="params">(<span class="keyword">void</span>)</span> </span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  u8g2.begin();</span><br><span class="line">  u8g2.enableUTF8Print();</span><br><span class="line"></span><br><span class="line">  u8g2.firstPage();</span><br><span class="line">  <span class="keyword">do</span> &#123;</span><br><span class="line">    u8g2.drawBitmap( <span class="number">0</span>, <span class="number">0</span>, <span class="number">16</span>, <span class="number">64</span>, skslogo_1bit_128x64);</span><br><span class="line">  &#125; <span class="keyword">while</span>(u8g2.nextPage());</span><br><span class="line">  delay(<span class="number">3000</span>);</span><br><span class="line"></span><br><span class="line">  u8g2.firstPage();</span><br><span class="line">  <span class="keyword">do</span> &#123;</span><br><span class="line">    u8g2.setFont(u8g2_font_ncenB14_tr);</span><br><span class="line">    u8g2.drawStr(<span class="number">0</span>, <span class="number">15</span>, <span class="string">&quot;SKS STEAM!&quot;</span>);</span><br><span class="line">    u8g2.drawTriangle(<span class="number">27</span>,<span class="number">50</span>, <span class="number">64</span>,<span class="number">32</span>, <span class="number">100</span>,<span class="number">50</span>);</span><br><span class="line">  &#125; <span class="keyword">while</span> ( u8g2.nextPage() );</span><br><span class="line">  delay(<span class="number">3000</span>);</span><br><span class="line"></span><br><span class="line">  startTime = millis();</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// Start up the DS18b20 library</span></span><br><span class="line">  sensors.begin();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">loop</span><span class="params">(<span class="keyword">void</span>)</span> </span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="keyword">unsigned</span> <span class="keyword">long</span> ttime = millis();</span><br><span class="line"></span><br><span class="line">  sensors.requestTemperatures();</span><br><span class="line">  <span class="keyword">float</span> temperatureC = sensors.getTempCByIndex(<span class="number">0</span>);</span><br><span class="line">  <span class="keyword">float</span> temperatureF = sensors.getTempFByIndex(<span class="number">0</span>);</span><br><span class="line">  </span><br><span class="line">  u8g2.firstPage();</span><br><span class="line">  <span class="keyword">do</span> &#123;</span><br><span class="line">    <span class="comment">//u8g2.setFont(u8g2_font_unifont_t_korean1);</span></span><br><span class="line">    u8g2.setFont(u8g2_font_unifont_t_korean2);</span><br><span class="line">    <span class="comment">//u8g2.setFont(u8g2_font_unifont_t_korean_NanumGothicCoding_16);</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// Title</span></span><br><span class="line">    u8g2.setCursor(<span class="number">8</span>, <span class="number">14</span>);</span><br><span class="line">    u8g2.print(<span class="string">&quot;[[ 온도측정 ]]&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// actual time measured. (1초 마다 출력되지는 않음)</span></span><br><span class="line">    u8g2.setCursor(<span class="number">0</span>, <span class="number">31</span>);</span><br><span class="line">    u8g2.print(<span class="string">&quot;시간: &quot;</span>);</span><br><span class="line">    u8g2.setCursor(<span class="number">63</span>, <span class="number">31</span>);</span><br><span class="line">    u8g2.print(getTime(ttime));</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Celcius temperature</span></span><br><span class="line">    u8g2.setFont(u8g2_font_unifont_t_korean2);</span><br><span class="line">    u8g2.setCursor(<span class="number">0</span>, <span class="number">47</span>);</span><br><span class="line">    u8g2.print(<span class="string">&quot;섭씨: &quot;</span>);</span><br><span class="line">    u8g2.setFont(u8g2_font_unifont_tf);</span><br><span class="line">    <span class="keyword">if</span>(temperatureC&lt;<span class="number">100</span>) &#123;</span><br><span class="line">      u8g2.setCursor(<span class="number">71</span>, <span class="number">47</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">      u8g2.setCursor(<span class="number">63</span>, <span class="number">47</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    u8g2.print(temperatureC, <span class="number">2</span>);</span><br><span class="line">    u8g2.drawGlyph(<span class="number">111</span>, <span class="number">47</span>, <span class="number">0x00b0</span>); <span class="comment">// degree</span></span><br><span class="line">    u8g2.drawStr(<span class="number">119</span>, <span class="number">47</span>, <span class="string">&quot;C&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Fahrenheit temperature</span></span><br><span class="line">    u8g2.setFont(u8g2_font_unifont_t_korean2);</span><br><span class="line">    u8g2.setCursor(<span class="number">0</span>, <span class="number">63</span>);</span><br><span class="line">    u8g2.print(<span class="string">&quot;화씨: &quot;</span>);</span><br><span class="line">    u8g2.setFont(u8g2_font_unifont_tf);</span><br><span class="line">    <span class="keyword">if</span>(temperatureF&lt;<span class="number">100</span>) &#123;</span><br><span class="line">      u8g2.setCursor(<span class="number">71</span>, <span class="number">63</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">      u8g2.setCursor(<span class="number">63</span>, <span class="number">63</span>);</span><br><span class="line">    &#125;    </span><br><span class="line">    u8g2.print(temperatureF, <span class="number">2</span>);</span><br><span class="line">    u8g2.drawGlyph(<span class="number">111</span>, <span class="number">63</span>, <span class="number">0x00b0</span>); <span class="comment">// degree</span></span><br><span class="line">    u8g2.drawStr(<span class="number">119</span>, <span class="number">63</span>, <span class="string">&quot;F&quot;</span>);</span><br><span class="line">    </span><br><span class="line">  &#125; <span class="keyword">while</span> ( u8g2.nextPage() );</span><br><span class="line">  delay(<span class="number">1000</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">String <span class="title">getTime</span><span class="params">(<span class="keyword">unsigned</span> <span class="keyword">long</span> ttime)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">int</span> sec = ttime / <span class="number">1000</span>; <span class="keyword">int</span> min = sec / <span class="number">60</span>; <span class="keyword">int</span> hr = min / <span class="number">60</span>;</span><br><span class="line">  String ts = <span class="string">&quot;&quot;</span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 시간</span></span><br><span class="line">  <span class="keyword">if</span> (hr &lt; <span class="number">10</span>) ts += <span class="string">&quot;0&quot;</span>;</span><br><span class="line">  ts += hr;</span><br><span class="line">  ts += <span class="string">&quot;:&quot;</span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 분</span></span><br><span class="line">  <span class="keyword">if</span> ((min % <span class="number">60</span>) &lt; <span class="number">10</span>) ts += <span class="string">&quot;0&quot;</span>;</span><br><span class="line">  ts += min % <span class="number">60</span>;</span><br><span class="line">  ts += <span class="string">&quot;:&quot;</span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 초</span></span><br><span class="line">  <span class="keyword">if</span> ((sec % <span class="number">60</span>) &lt; <span class="number">10</span>) ts += <span class="string">&quot;0&quot;</span>;</span><br><span class="line">  ts += sec % <span class="number">60</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> (ts);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<br>

<h5 id="result"><a href="#result" class="headerlink" title="result"></a>result</h5><p><img src="/image/u/u8g2-bitmap-14.png"></p>
<br>

<br>

<h3 id="UTF8-HanDraw-라이브러리-한글-출력하기"><a href="#UTF8-HanDraw-라이브러리-한글-출력하기" class="headerlink" title="UTF8_HanDraw 라이브러리 한글 출력하기"></a>UTF8_HanDraw 라이브러리 한글 출력하기</h3><h4 id="ESP32-SPIFFS-영역에-폰트-업로드"><a href="#ESP32-SPIFFS-영역에-폰트-업로드" class="headerlink" title="ESP32 SPIFFS 영역에 폰트 업로드"></a>ESP32 SPIFFS 영역에 폰트 업로드</h4><ul>
<li><p>SPIFFS란?</p>
<ul>
<li>**SPIFFS(Serial Peripheral Interface Flash File System)**는 ESP32와 ESP8266의 모듈에 내부 탑재 되어 있는 메모리를 저장공간으로 사용하기 위한 파일 시스템이다.</li>
<li>ESP8266과 ESP32에는 보통 <strong>4MByte의 메모리</strong>가 탑재되어 있으며 이 메모리의 일부를 플래쉬 메모리로 사용하고 나머지를 파일 저장공간으로 사용할 수가 있다.</li>
<li><strong>작은 용량의 SD카드가 내장</strong>이 되었다고 생각하면 이해하기 쉽다.</li>
</ul>
</li>
<li><p>아두이노에서의 SPIFFS의 이용</p>
<ul>
<li><p>아두이노 IDE에는 이 메모리의 분리를 설정할 수 있는 메뉴가 있다. 아두이노IDE에서 아래의 항목을 설정하는 것 만으로 스케치를 업로드하면 영역이 분할되어 스케치가 업로드 된다. </p>
<p><strong>툴</strong>&gt; <strong>Partition Scheme</strong>&gt; <strong>Default 4MB with spiffs (1.2MB APPS &#x2F; 1.5MB SPIFFS)</strong></p>
</li>
<li><p>기본설정은 위와 같지만 SPIFFS 용량이 부족하다면, **위 메뉴에서 **</p>
<p>**No OTA(1MB APP&#x2F;3MB SPIFFS)**와 같은 다른 설정을 선택하여, 코딩이 들어가는 플래쉬 메모리를 1MByte를 사용하고, 나머지 3MByte의 SPIFFS영역에는 코딩에서 필요한 자료(예를 들면 그림파일이나 텍스트 파일등)을 업로드 하고 코딩에서 그 파일을 사용하면 됩니다.</p>
</li>
<li><p>아두이노 우노의 플래쉬메모리가 32KByte인 것을 고려하면 ESP32에 플래쉬 메모리를 1MByte만 할당 하는 것도 적지 않은 할당이지만, ESP32의 고급기능(WIFI, 블루투스)등을 사용하면 이 메모리도 모자라게 되는 경우도 있다.</p>
</li>
</ul>
</li>
</ul>
<br>

<ul>
<li><p>아두이노 IDE에 SPIFFS 설정하기</p>
<ul>
<li><p>아두이노 IDE에서 ESP32의 SPIFFS영역에 파일을 올리기 위해서는 별도의 툴을 설치하여야 한다. 아래의 링크를 클릭하여 ESP32FS-1.0.zip 파일을 다운로드 받은 뒤, </p>
<p><a target="_blank" rel="external nofollow noopener noreferrer" href="https://github.com/me-no-dev/arduino-esp32fs-plugin/releases/"><strong>https://github.com/me-no-dev/arduino-esp32fs-plugin/releases/</strong></a></p>
</li>
<li><p>압축을 풀어 나오는 ESP32FS폴더를 아두이노 설치 폴더 내의 tools폴더 아래에 복사한다.</p>
<p>예를들면, c:\Program Files (x86)\Arduino\tools\ESP32FS\tool\esp32fs.jar</p>
<p>같은 형태로 파일 경로가 만들어져야 한다.</p>
</li>
<li><p>아두이노IDE를 종료하였다가 다시 실행시키면</p>
<p><strong>툴</strong>&gt; <strong>ESP32 Sketch Data Upload</strong> 항목이 만들어진다.</p>
<p><img src="/image/ESP32-OLED-02.png"></p>
</li>
</ul>
</li>
</ul>
<br>

<ul>
<li>SPIFFS에 (폰트) 파일 업로드하기<ul>
<li>기본적으로 ESP32의 SPIFFS에 파일을 업로드 하기 위해서는, <strong>업로드하려는 스케치(.ino) 파일이 위치한 폴더에 data폴더를 생성</strong>한 뒤, <strong>업로드하려는 파일을 복사</strong>해 넣으면 된다.</li>
<li>그러므로 이번 과정에서 SPIFFS에 (폰트)파일을 업로드하려면, (폰트) 파일을 업로드하려는 스케치(UTF8_HanDraw.ino)가 저장되어 있는 폴더 안에, (UTF8_HanDraw.zip 파일의 압축을 풀었을때 만들어진) data폴더를 복사해 넣으면 된다.</li>
<li>아두이노 IDE에 스케치를 열고, 메뉴에 추가된 <strong>ESP32 Sketch Data Upload</strong>를 클릭하면, 스케치 파일은 컴파일 후 APP영역에 저장되고, Data폴더안의 (폰트) 파일은 SPIFFS영역에 분리되어 저장된다.</li>
</ul>
</li>
</ul>
<br>

<h4 id="schematic-3"><a href="#schematic-3" class="headerlink" title="schematic"></a>schematic</h4><table>
<thead>
<tr>
<th>OLED (I2C)</th>
<th>ESP32</th>
<th>if, Arduino UNO</th>
</tr>
</thead>
<tbody><tr>
<td>GND</td>
<td>GND</td>
<td>GND</td>
</tr>
<tr>
<td>VCC</td>
<td>3V3</td>
<td>3V3</td>
</tr>
<tr>
<td>SCL</td>
<td>22</td>
<td>A5</td>
</tr>
<tr>
<td>SDA</td>
<td>21</td>
<td>A4</td>
</tr>
</tbody></table>
<p><img src="/image/ESP32-OLED-03.png"></p>
<br>

<h4 id="sketch-6"><a href="#sketch-6" class="headerlink" title="sketch"></a>sketch</h4><p>출처: [OLED에 한글을 출력하자 by Andy Kim (andy-power.blogspot.com)](<a target="_blank" rel="external nofollow noopener noreferrer" href="http://andy-power.blogspot.com/2018/08/oled.html">Andy Kim: OLED에 한글을 출력하자. (andy-power.blogspot.com)</a>)</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;Arduino.h&gt;</span><br><span class="line">#include &quot;Display_SSD1306.h&quot;</span><br><span class="line">#include &quot;HanDraw.h&quot;</span><br><span class="line"></span><br><span class="line">#define OLED_RESET -1             // for S/W 리셋</span><br><span class="line">Display_SSD1306 Oled(OLED_RESET);</span><br><span class="line"></span><br><span class="line">/************************* Global variables *********************************/</span><br><span class="line">unsigned long startTime = 0;</span><br><span class="line">uint32_t loopcnt = 0;</span><br><span class="line">char fpsbuf[128] = &quot;FPS:&quot;;</span><br><span class="line">bool invert = true;  // 화면을 역상으로 표시</span><br><span class="line"></span><br><span class="line">void setup() &#123;</span><br><span class="line">  Serial.begin(115200);</span><br><span class="line">  delay(50);</span><br><span class="line"></span><br><span class="line">  // Oled를 I2C 방식으로 연결하고, 그 주소는 0x3c</span><br><span class="line">  Oled.begin(SSD1306_SWITCHCAPVCC, 0x3C, false);</span><br><span class="line">  </span><br><span class="line">  // Callback 함수를 설정해 주면 필요시 호출 하여 사용함.</span><br><span class="line">  HanDraw.begin(12, </span><br><span class="line">    // 화면 지우는 콜백함수 </span><br><span class="line">    [](void) &#123;  Oled.clearDisplay(); &#125;,</span><br><span class="line">    // 1개 픽셀을 그리는 콜백 함수</span><br><span class="line">    [](int16_t x, int16_t y, uint16_t color) &#123; Oled.drawPixel(x, y, color); &#125;,</span><br><span class="line">    // 메모리에서 Display 표시 버퍼까지 보내는 함수</span><br><span class="line">    [](void) &#123; Oled.display(); &#125;</span><br><span class="line">  );</span><br><span class="line"></span><br><span class="line">  HanDraw.display(); // 사실상 Oled.display() 와 동일....</span><br><span class="line">  delay(2000);</span><br><span class="line"></span><br><span class="line">  HanDraw.clear();</span><br><span class="line">  HanDraw.setFontSize(12);</span><br><span class="line">  // 특수한 문자 몇개는... 아래와 같이 주면 출력된다. (통용되는 코드가 아니라 변칙 코드임)</span><br><span class="line">  // 12px:한글 21℃℉‰μ°   라고 출력</span><br><span class="line">  HanDraw.drawString(1, 0, &quot;12px:한글 21\x10\x0f\x11\x12\x13&quot;); </span><br><span class="line">  HanDraw.setFontSize(14);</span><br><span class="line">  // 14:아래첨자 A₁₂₃₄   라고 출력</span><br><span class="line">  HanDraw.drawString(1, 13, &quot;14:아래첨자 A\x0b\x0c\x0d\x0e&quot;);</span><br><span class="line">  HanDraw.setFontSize(16);</span><br><span class="line">  // 16:위첨자 M¹²³⁴   라고 출력</span><br><span class="line">  HanDraw.drawString(1, 28, &quot;16:위첨자 M\x15\x16\x17\x18&quot;);</span><br><span class="line">  HanDraw.display();</span><br><span class="line">  delay(3000);</span><br><span class="line"></span><br><span class="line">  HanDraw.setFontSize(12);</span><br><span class="line">  startTime = millis();</span><br><span class="line">  delay(1);</span><br><span class="line">  Serial.println(&quot;Setup All done&quot;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">String getTime(unsigned long  ttime) &#123;</span><br><span class="line">  int sec = ttime / 1000; int min = sec / 60; int hr = min / 60;</span><br><span class="line">  String ts = &quot;&quot;; </span><br><span class="line">  if (hr &lt; 10) ts += &quot;0&quot;;</span><br><span class="line">  ts += hr;   ts += &quot;:&quot;;</span><br><span class="line">  if ((min % 60) &lt; 10) ts += &quot;0&quot;;</span><br><span class="line">  ts += min % 60;   ts += &quot;:&quot;;</span><br><span class="line">  if ((sec % 60) &lt; 10) ts += &quot;0&quot;;</span><br><span class="line">  ts += sec % 60;</span><br><span class="line">  return (ts);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void loop() &#123;</span><br><span class="line">  unsigned long  ttime = millis();</span><br><span class="line">  dtostrf(loopcnt * 1000.0 / (ttime - startTime), 5, 2,   fpsbuf + 4);</span><br><span class="line"></span><br><span class="line">  HanDraw.clear();</span><br><span class="line">  HanDraw.drawString(15, 2, &quot;[[ 화면 정보 ]]&quot;);</span><br><span class="line">  HanDraw.drawString(2, 14, &quot;--------------------&quot;);</span><br><span class="line">  HanDraw.drawString(2, 24, &quot;한글 출력 테스트&quot;);</span><br><span class="line">  HanDraw.drawString(2, 38, fpsbuf);</span><br><span class="line">  HanDraw.drawString(2, 51, getTime(ttime));</span><br><span class="line">  HanDraw.display();</span><br><span class="line"></span><br><span class="line">  loopcnt++;</span><br><span class="line">  if (loopcnt % 100 == 0) &#123;</span><br><span class="line">    Oled.invertDisplay(invert);</span><br><span class="line">    invert = !invert;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<br>

<br>

<h3 id="OLED에-DS18b20-온도-출력하기"><a href="#OLED에-DS18b20-온도-출력하기" class="headerlink" title="OLED에 DS18b20 온도 출력하기"></a>OLED에 DS18b20 온도 출력하기</h3><h4 id="schematic-4"><a href="#schematic-4" class="headerlink" title="schematic"></a>schematic</h4><p><img src="/image/ESP32-OLED-04.png"></p>
<table>
<thead>
<tr>
<th>OLED (I2C)</th>
<th>ESP32</th>
<th>DS18b20</th>
<th>4.7kΩ</th>
</tr>
</thead>
<tbody><tr>
<td>GND</td>
<td>GND</td>
<td>BLK</td>
<td></td>
</tr>
<tr>
<td>VCC</td>
<td>3V3</td>
<td></td>
<td></td>
</tr>
<tr>
<td>SCL</td>
<td>33</td>
<td></td>
<td></td>
</tr>
<tr>
<td>SDA</td>
<td>32</td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td>5V</td>
<td>RED</td>
<td>O</td>
</tr>
<tr>
<td></td>
<td>GPIO13</td>
<td>YELLOW</td>
<td>O</td>
</tr>
</tbody></table>
<br>

<h4 id="library-1"><a href="#library-1" class="headerlink" title="library"></a>library</h4><p><strong>Sketch</strong>&gt; <strong>Include Library</strong>&gt; <strong>Manage Libraries</strong>&gt;</p>
<ul>
<li>OneWire (by Jim Studt etc.)</li>
<li>DallasTemperature (by Miles Burton)</li>
</ul>
<br>

<h4 id="sketch-7"><a href="#sketch-7" class="headerlink" title="sketch"></a>sketch</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;Arduino.h&gt;</span><br><span class="line"></span><br><span class="line">#include &lt;OneWire.h&gt;</span><br><span class="line">#include &lt;DallasTemperature.h&gt;</span><br><span class="line"></span><br><span class="line">#define TEMP_PIN 13</span><br><span class="line"></span><br><span class="line">OneWire oneWire(TEMP_PIN);</span><br><span class="line">DallasTemperature sensors(&amp;oneWire);</span><br><span class="line"></span><br><span class="line">#include &quot;Display_SSD1306.h&quot;</span><br><span class="line">#include &quot;HanDraw.h&quot;</span><br><span class="line"></span><br><span class="line">#define OLED_RESET -1              // for  S/W 리셋</span><br><span class="line">Display_SSD1306 Oled(OLED_RESET);</span><br><span class="line"></span><br><span class="line">/************************* Global variables *********************************/</span><br><span class="line">unsigned long startTime = 0;</span><br><span class="line">uint32_t loopcnt = 0;</span><br><span class="line">char fpsbuf[128] = &quot;FPS:&quot;;</span><br><span class="line">char tC[128];</span><br><span class="line">char tF[128];</span><br><span class="line">bool invert = true;  // 화면을 역상으로 표시</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">void setup() &#123;</span><br><span class="line">  Serial.begin(115200);</span><br><span class="line">  delay(50);</span><br><span class="line"></span><br><span class="line">  // Oled를 I2C 방식으로 연결하고, 그 주소는 0x3c</span><br><span class="line">  Oled.begin(SSD1306_SWITCHCAPVCC, 0x3C, false);</span><br><span class="line">  </span><br><span class="line">  // Callback 함수를 설정해 주면 필요시 호출 하여 사용함.</span><br><span class="line">  HanDraw.begin(12, </span><br><span class="line">    // 화면 지우는 콜백함수 </span><br><span class="line">    [](void) &#123;  Oled.clearDisplay(); &#125;,</span><br><span class="line">    // 1개 픽셀을 그리는 콜백 함수</span><br><span class="line">    [](int16_t x, int16_t y, uint16_t color) &#123; Oled.drawPixel(x, y, color); &#125;,</span><br><span class="line">    // 메모리에서 Display 표시 버퍼까지 보내는 함수</span><br><span class="line">    [](void) &#123; Oled.display(); &#125;</span><br><span class="line">  );</span><br><span class="line"></span><br><span class="line">  startTime = millis();</span><br><span class="line">  delay(1);</span><br><span class="line">  </span><br><span class="line">  // Start up the DS18b20 library</span><br><span class="line">  sensors.begin();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void loop() &#123;</span><br><span class="line">  unsigned long  ttime = millis();</span><br><span class="line">  dtostrf(loopcnt * 1000.0 / (ttime - startTime), 5, 2, fpsbuf + 4);</span><br><span class="line"></span><br><span class="line">  sensors.requestTemperatures();</span><br><span class="line">  float temperatureC = sensors.getTempCByIndex(0);</span><br><span class="line">  float temperatureF = sensors.getTempFByIndex(0);</span><br><span class="line">  dtostrf(temperatureC, 6, 2, tC);</span><br><span class="line">  String tempC = &quot;섭씨온도 * &quot; + (String)tC + &quot;\x10&quot;;</span><br><span class="line">  dtostrf(temperatureF, 6, 2, tF);</span><br><span class="line">  String tempF = &quot;화씨온도 * &quot; + (String)tF + &quot;\x0f&quot;;</span><br><span class="line"></span><br><span class="line">  HanDraw.display();</span><br><span class="line"></span><br><span class="line">  HanDraw.clear();</span><br><span class="line">  HanDraw.setFontSize(12);</span><br><span class="line">  HanDraw.drawString(15, 2, &quot;[[ 온도 측정 ]]&quot;);</span><br><span class="line">  HanDraw.drawString(2, 14, &quot;--------------------&quot;);</span><br><span class="line">  HanDraw.drawString(2, 24, getTime(ttime));</span><br><span class="line">  HanDraw.drawString(2, 38, tempC);</span><br><span class="line">  HanDraw.drawString(2, 51, tempF);</span><br><span class="line">  HanDraw.display();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">String getTime(unsigned long ttime) &#123;</span><br><span class="line">  int sec = ttime / 1000; int min = sec / 60; int hr = min / 60;</span><br><span class="line">  //String ts = &quot;&quot;;</span><br><span class="line">  String ts = &quot;측정시간 * &quot;;</span><br><span class="line">  if (hr &lt; 10) ts += &quot;0&quot;;</span><br><span class="line">  ts += hr;   ts += &quot;:&quot;;</span><br><span class="line">  if ((min % 60) &lt; 10) ts += &quot;0&quot;;</span><br><span class="line">  ts += min % 60;   ts += &quot;:&quot;;</span><br><span class="line">  if ((sec % 60) &lt; 10) ts += &quot;0&quot;;</span><br><span class="line">  ts += sec % 60;</span><br><span class="line">  return (ts);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time datetime="2021-09-25T09:27:53.000Z" title="2021. 9. 25. 오후 6:27:53">2021-09-25</time>&nbsp;게시 됨</span><span class="level-item"><time datetime="2021-11-17T03:32:54.000Z" title="2021. 11. 17. 오후 12:32:54">2021-11-17</time>&nbsp;업데이트 됨</span><span class="level-item"><a class="link-muted" href="/categories/esp32/">ESP32</a></span><span class="level-item">3분안에 읽기 (약 442 단어)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2021/09/25/ESP32-%EC%8A%A4%ED%85%9D%EB%AA%A8%ED%84%B0-%EC%A0%9C%EC%96%B4/">ESP32, 스텝모터</a></h1><div class="content"><h3 id="스텝-모터-28BYJ-48"><a href="#스텝-모터-28BYJ-48" class="headerlink" title="스텝 모터, 28BYJ-48"></a>스텝 모터, 28BYJ-48</h3><h4 id="Specification"><a href="#Specification" class="headerlink" title="Specification"></a>Specification</h4><img src="/image/s/Step-Motor-02.png" style="zoom: 80%;">

<ul>
<li><p>정격전압: 5VDC</p>
</li>
<li><p>기어비: 1&#x2F;64<br>$$<br>\frac {32}{9} \times \frac {22}{11} \times \frac {26}{9} \times \frac {31}{10} &#x3D; 63.68395 \fallingdotseq 64<br>$$</p>
</li>
</ul>
<img src="/image/s/Step-Motor-01.png" style="zoom: 50%;">

<ul>
<li>스트라이드 각도<ul>
<li><strong>스펙상 5.625º &#x2F; 64</strong> &#x3D; 0.087890625<ul>
<li>그러므로,  360º &#x2F; 0.087890625 &#x3D; 4096 스텝</li>
</ul>
</li>
<li><strong>실제로는 11.25º &#x2F; 64</strong> &#x3D; 0.17578125<ul>
<li>그러므로,  360º &#x2F; 0.17578125 &#x3D; <strong>2048 스텝으로 1회전</strong></li>
</ul>
</li>
</ul>
</li>
<li>Frequency: 100Hz</li>
<li>토크: 34.3mN,m</li>
</ul>
<br>

<h3 id="모터드라이브-ULN2003"><a href="#모터드라이브-ULN2003" class="headerlink" title="모터드라이브 ULN2003"></a>모터드라이브 ULN2003</h3><img src="/image/s/Step-Motor-03.png" style="zoom:67%;">

<br>

<br>

<h3 id="스텝-모터의-구동"><a href="#스텝-모터의-구동" class="headerlink" title="스텝 모터의 구동"></a>스텝 모터의 구동</h3><h4 id="schematic"><a href="#schematic" class="headerlink" title="schematic"></a>schematic</h4><p><img src="/image/s/Step-Motor-04.png"></p>
<br>

<h4 id="Pin-Map"><a href="#Pin-Map" class="headerlink" title="Pin Map"></a>Pin Map</h4><table>
<thead>
<tr>
<th>외부전원</th>
<th>모터드라이브</th>
<th>ESP32</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td>INT1</td>
<td>19</td>
</tr>
<tr>
<td></td>
<td>INT2</td>
<td>18</td>
</tr>
<tr>
<td></td>
<td>INT3</td>
<td>5</td>
</tr>
<tr>
<td></td>
<td>INT4</td>
<td>17</td>
</tr>
<tr>
<td>(+) 5V</td>
<td>GND</td>
<td></td>
</tr>
<tr>
<td>(-)</td>
<td>VCC</td>
<td></td>
</tr>
</tbody></table>
<p>※ 모터드라이브에 연결하는 전원(VCC)는 <strong>외부전원 5V를 사용</strong>한다. (ESP32의 5V는, 전류가 부족하여 ESP32와 연결한 노트북에 영향을 줄 수 있으므로, 사용하지 않는 것이 좋다.)</p>
<br>

<h4 id="스텝업-모듈"><a href="#스텝업-모듈" class="headerlink" title="스텝업 모듈"></a>스텝업 모듈</h4><img src="/image/s/Stepup-Module-01.png" style="zoom:67%;">

<ul>
<li>입력전압: 0.9~5V</li>
<li>출력전압: 5V</li>
<li>출력전류: 500~600mA</li>
<li>최대효율: 96%</li>
</ul>
<br>

<h4 id="sketch"><a href="#sketch" class="headerlink" title="sketch"></a>sketch</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;Stepper.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> stepsPerRevolution = <span class="number">2048</span>;  <span class="comment">// change this to fit the number of steps per revolution</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ULN2003 Motor Driver Pins</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> IN1 19</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> IN2 18</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> IN3 5</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> IN4 17</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// initialize the stepper library</span></span><br><span class="line"><span class="function">Stepper <span class="title">myStepper</span><span class="params">(stepsPerRevolution, IN1, IN3, IN2, IN4)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">setup</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="comment">// set the speed at 5 rpm</span></span><br><span class="line">  myStepper.<span class="built_in">setSpeed</span>(<span class="number">5</span>);</span><br><span class="line">  <span class="comment">// initialize the serial port</span></span><br><span class="line">  Serial.<span class="built_in">begin</span>(<span class="number">115200</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">loop</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="comment">// step one revolution in one direction:</span></span><br><span class="line">  Serial.<span class="built_in">println</span>(<span class="string">&quot;clockwise&quot;</span>);</span><br><span class="line">  myStepper.<span class="built_in">step</span>(stepsPerRevolution);</span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">1000</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// step one revolution in the other direction:</span></span><br><span class="line">  Serial.<span class="built_in">println</span>(<span class="string">&quot;counterclockwise&quot;</span>);</span><br><span class="line">  myStepper.<span class="built_in">step</span>(-stepsPerRevolution);</span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">1000</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><p>setSpeed(5);</p>
<ul>
<li><p>외부 전원의 전력에 따라 최대값이 달라짐. </p>
</li>
<li><p>5V 전원 사용시 16이 최대값인 경우가 있었고. 그 이상은 안정적으로 회전이 안되며, 17을 넣으면 한바퀴 돌고 정지. 18을 넣으면 돌지 않음.</p>
</li>
<li><p>7.4V 전원 사용시 22가 최대값인 경우가 있었고, 그 이상은 안정적으로 회전이 안됨. (23을 넣으면 시계방향 회전 후, 반시계방향 회전이 안됨. 24를 넣으면 돌지 않음)</p>
</li>
<li><p>전압에 따라 수치가 고정된 것은 아닌 듯 하며, 외부 전원의 상태에 따라 달라질 수 있으므로 테스트가 필요함.</p>
</li>
</ul>
</li>
</ul>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time datetime="2021-09-16T15:41:00.000Z" title="2021. 9. 17. 오전 12:41:00">2021-09-17</time>&nbsp;게시 됨</span><span class="level-item"><time datetime="2021-11-17T03:37:10.000Z" title="2021. 11. 17. 오후 12:37:10">2021-11-17</time>&nbsp;업데이트 됨</span><span class="level-item"><a class="link-muted" href="/categories/esp32/">ESP32</a></span><span class="level-item">8분안에 읽기 (약 1148 단어)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2021/09/17/ESP32-%EC%98%A8%EB%8F%84%EC%B8%A1%EC%A0%95-DS18b20/">ESP32, 온도측정(DS18b20), PLX_DAQ</a></h1><div class="content"><h3 id="DS18b20-온도센서"><a href="#DS18b20-온도센서" class="headerlink" title="DS18b20 온도센서"></a>DS18b20 온도센서</h3><p>DS18b20 온도 센서를 이용하여 온도를 측정한다. </p>
<ul>
<li>one-wire 버스 통신</li>
<li>공급전압: 3.0V ~ 5.5V</li>
<li>작동온도: -55ºC ~ +125ºC</li>
<li>오차: +&#x2F;-0.5 ºC (-10ºC ~ 85ºC 범위에서)</li>
</ul>
<br>

<h4 id="Pinout"><a href="#Pinout" class="headerlink" title="Pinout"></a>Pinout</h4><p><img src="/image/DS18b20.png"></p>
<br>

<h4 id="schematic"><a href="#schematic" class="headerlink" title="schematic"></a>schematic</h4><p>DS18b20 센서는 두 가지 연결방법을 제공하는데, 하나는 VCC를 5V에 연결하는 Normal Mode이고 다른 하나는 VCC를 GND에 연결하는 Parasite Mode이다. 두가지 방법 모두 지원되지만 (경험상) Normal를 추천하며 (원인은 잘 모르겠지만) Parasite Mode에서는 온도센서가 작동이 되지 않는 경우도 가끔 있었다. 회로 구성을 위해 <strong>4.7㏀ 저항 1개</strong>가 필요하며 Normal Mode 구성을 위해 다음 그림과 같이 연결한다.</p>
<ul>
<li>3가닥의 선에 브레드보드에 연결할 수 있는 핀을 납땜하고, 노란색선과 빨간색선의 연결부위에 4.7㏀ 저항을 추가로 납땜하여 연결한다.</li>
</ul>
<p><img src="/image/ESP32-DS18b20-R01.png"></p>
<ul>
<li>수축튜브를 사용하여 연결부위를 절연한 뒤,</li>
</ul>
<p><img src="/image/ESP32-DS18b20-R02.png"></p>
<ul>
<li>구경이 조금 더 큰 수축튜브를 사용하여 3가닥을 하나로 감싸 마무리한다.</li>
</ul>
<p><img src="/image/ESP32-DS18b20-R03.png"></p>
<br>

<h5 id="Normal-Mode"><a href="#Normal-Mode" class="headerlink" title="Normal Mode"></a>Normal Mode</h5><p><img src="/image/ESP32-DS18b20-temperature.png"></p>
<br>

<br>

<h3 id="라이브러리-준비하기"><a href="#라이브러리-준비하기" class="headerlink" title="라이브러리 준비하기"></a>라이브러리 준비하기</h3><p><strong>Sketch</strong>&gt; <strong>Include Library</strong>&gt; <strong>Manage Libraries</strong>&gt;</p>
<ul>
<li>OneWire (by Jim Studt etc.)</li>
<li>DallasTemperature (by Miles Burton)</li>
</ul>
<br>

<h4 id="sketch"><a href="#sketch" class="headerlink" title="sketch"></a>sketch</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;OneWire.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;DallasTemperature.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> TEMP_PIN 4</span></span><br><span class="line"></span><br><span class="line"><span class="function">OneWire <span class="title">oneWire</span><span class="params">(TEMP_PIN)</span></span>;</span><br><span class="line"><span class="function">DallasTemperature <span class="title">sensors</span><span class="params">(&amp;oneWire)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">setup</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  Serial.<span class="built_in">begin</span>(<span class="number">115200</span>);  </span><br><span class="line">  Serial.<span class="built_in">println</span>(<span class="string">&quot;DallasTemperature IC Control&quot;</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Start up the library</span></span><br><span class="line">  sensors.<span class="built_in">begin</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">loop</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  sensors.<span class="built_in">requestTemperatures</span>();</span><br><span class="line">  <span class="keyword">float</span> temperatureC = sensors.<span class="built_in">getTempCByIndex</span>(<span class="number">0</span>);</span><br><span class="line">  <span class="keyword">float</span> temperatureF = sensors.<span class="built_in">getTempFByIndex</span>(<span class="number">0</span>);</span><br><span class="line">  Serial.<span class="built_in">print</span>(temperatureC);</span><br><span class="line">  Serial.<span class="built_in">println</span>(<span class="string">&quot;*C&quot;</span>);</span><br><span class="line">  Serial.<span class="built_in">print</span>(temperatureF);</span><br><span class="line">  Serial.<span class="built_in">println</span>(<span class="string">&quot;*F&quot;</span>);</span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">2000</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<br>

<br>

<h3 id="PLX-DAQ"><a href="#PLX-DAQ" class="headerlink" title="PLX-DAQ"></a>PLX-DAQ</h3><p>ESP32를 사용하여 센서데이터를 Excel로 보내고 실시간 그래프를 그려주는 Excel 매크로 파일이다. Parallax에서 만든 것이지만, 현재 공식적인 업데이트는 중지되어 있다. 이런 이유로 Parallax 홈페이지에서 다운로드 받을 수 있는 PLX-DAQ는 최신 버전의 Excel에서 활용이 불가능하며, ESP32에서의 활용도 불가능하다. 현재는 아두이노 포럼 등에서 최신 버전의 Excel과 ESP32 등에서 활용 가능하도록 업데이트를 진행하고 있으므로 Parallax 홈페이지가 아닌, 아두이노 포럼에서 다운로드 받도록 한다.</p>
<br>

<h4 id="download"><a href="#download" class="headerlink" title="download"></a>download</h4><p><a target="_blank" rel="external nofollow noopener noreferrer" href="https://forum.arduino.cc/t/plx-daq-version-2-now-with-64-bit-support-and-further-new-features/420628/72#msg3251256">PLX-DAQ version 2 - now with 64 bit support! (and further new features) - Using Arduino &#x2F; Interfacing w&#x2F; Software on the Computer - Arduino Forum</a>)</p>
<br>

<h4 id="sketch-1"><a href="#sketch-1" class="headerlink" title="sketch"></a>sketch</h4><ul>
<li><p><strong>void setup()</strong></p>
<ul>
<li>Excel Sheet Clear</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Serial.println(&quot;CLEARDATA&quot;);</span><br></pre></td></tr></table></figure>

<ul>
<li>Label 만들기 (콤마(,)로 구분)</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Serial.println(&quot;LABEL,Date,Time,Millis,SensorValue&quot;);</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>void loop()</strong></p>
<ul>
<li>Data 출력</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Serial.println( (String) &quot;DATA,DATE,TIME,&quot; + millis() + &quot;,&quot; + SensorValue );</span><br><span class="line">  delay(200);</span><br></pre></td></tr></table></figure>

<p>(혹은, 아래와 같이 라인을 구분하는 것도 좋은 방법이다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Serial.print(&quot;DATA,DATE,TIME,&quot;);</span><br><span class="line">Serial.print(millis());</span><br><span class="line">Serial.print(&quot;,&quot;);</span><br><span class="line">Serial.print(i);</span><br><span class="line">Serial.print(&quot;,&quot;);</span><br><span class="line">Serial.println(SensorValue);</span><br></pre></td></tr></table></figure>

<ul>
<li>DATA 출력시작은 Serial.print(“DATA,”); 로 하며, DATA 출력종료는 println을 통해 개행한다.</li>
<li>delay를 500이상 주어야 안정적으로 데이터를 수신한다.</li>
</ul>
</li>
<li><p><strong>전체 sketch</strong></p>
<p>GPIO4 데이터를 엑셀 파일에 기록한다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">int i = 0;</span><br><span class="line">const int SensorPin = 4;</span><br><span class="line">float SensorValue;</span><br><span class="line"></span><br><span class="line">void setup() &#123;</span><br><span class="line">  Serial.begin(115200);</span><br><span class="line">  Serial.println(&quot;CLEARDATA&quot;);</span><br><span class="line">  Serial.println(&quot;LABEL,Date,Time,Millis,Times,SensorValue&quot;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void loop() &#123;</span><br><span class="line">  SensorValue = analogRead(SensorPin)/100.00;</span><br><span class="line">  Serial.print(&quot;DATA,DATE,TIME,&quot;);</span><br><span class="line">  Serial.print(millis());</span><br><span class="line">  Serial.print(&quot;,&quot;);</span><br><span class="line">  Serial.print(i);</span><br><span class="line">  Serial.print(&quot;,&quot;);</span><br><span class="line">  Serial.println(SensorValue);</span><br><span class="line">  i++;</span><br><span class="line">  delay(5000);  // 5초마다 1번씩 측정</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<br>

<br>

<h3 id="온도센서의-온도값-기록하기"><a href="#온도센서의-온도값-기록하기" class="headerlink" title="온도센서의 온도값 기록하기"></a>온도센서의 온도값 기록하기</h3><h4 id="sketch-2"><a href="#sketch-2" class="headerlink" title="sketch"></a>sketch</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;OneWire.h&gt;</span><br><span class="line">#include &lt;DallasTemperature.h&gt;</span><br><span class="line"></span><br><span class="line">int i = 0;</span><br><span class="line">const int SensorPin = 4;</span><br><span class="line">float temperatureC;</span><br><span class="line">//float temperatureF;</span><br><span class="line"></span><br><span class="line">OneWire oneWire(SensorPin);</span><br><span class="line">DallasTemperature sensors(&amp;oneWire);</span><br><span class="line"></span><br><span class="line">void setup() &#123;</span><br><span class="line">  Serial.begin(115200);  </span><br><span class="line">  Serial.println(&quot;DallasTemperature IC Control&quot;);</span><br><span class="line"></span><br><span class="line">  // Start up the library</span><br><span class="line">  sensors.begin();</span><br><span class="line">  Serial.println(&quot;CLEARDATA&quot;);</span><br><span class="line">  Serial.println(&quot;LABEL,Date,Time,Millis,Times,SensorValue&quot;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void loop() &#123;</span><br><span class="line">  sensors.requestTemperatures();</span><br><span class="line">  temperatureC = sensors.getTempCByIndex(0);</span><br><span class="line">  // temperatureF = sensors.getTempFByIndex(0);</span><br><span class="line"></span><br><span class="line">  Serial.print(&quot;DATA,DATE,TIME,&quot;);</span><br><span class="line">  Serial.print(millis());</span><br><span class="line">  Serial.print(&quot;,&quot;);</span><br><span class="line">  Serial.print(i);</span><br><span class="line">  Serial.print(&quot;,&quot;);</span><br><span class="line">  Serial.println(temperatureC);</span><br><span class="line">  i++;</span><br><span class="line">  delay(5000);  // 5초마다 1번씩 측정</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<br>

<h4 id="PLX-DAQ-엑셀파일-실행"><a href="#PLX-DAQ-엑셀파일-실행" class="headerlink" title="PLX-DAQ 엑셀파일 실행"></a>PLX-DAQ 엑셀파일 실행</h4><ul>
<li><p>다운로드 받은 <a href="/attach/ESP32-PLX-DAQ-AutoGrapher-SensorValue.xlsm">PLX-DAQ 엑셀 매크로 파일</a>을 더블 클릭하여 불러들인다.</p>
<p><img src="/image/PLX-DAQ-01.png"></p>
</li>
<li><p>Settings에서 ESP32가 연결된 Com port와 Baud rate 설정</p>
<ul>
<li>Port: 6 (<strong>장치 관리자</strong>&gt; <strong>포트</strong>&gt; 에서 확인)</li>
<li>Baud: 115200 (ESP32의 경우 115200, 아두이노는 9600으로 셋팅)</li>
</ul>
</li>
<li><p>스케치를 업로드 한 뒤, Connect를 누르면 실시간으로 데이터를 받아서 기록함</p>
</li>
<li><p>기본적으로 셋팅되어 있는 차트가 실시간으로 그려진다. 단, 차트가 그려지지 않거나 잘못된 형태로 표현되는 경우, 엑셀 차트의 데이터 범위를 재설정하여야 한다.</p>
</li>
</ul>
<p><img src="/image/PLX-DAQ-02.png"></p>
<br>

<br>

<h3 id="Microsoft-Data-Streamer"><a href="#Microsoft-Data-Streamer" class="headerlink" title="Microsoft Data Streamer"></a>Microsoft Data Streamer</h3><p>PLX-DAQ와 비슷한 역할을 하는 Microsoft Data Streamer가 있으나, 현재 아두이노만 지원하며 ESP32에서는 데이터를 전송받지 못하는 문제가 있음.</p>
</div></article></div></div><div class="column column-left is-3-tablet is-3-desktop is-3-widescreen  order-1"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-60x60 mx-auto mb-2"><img class="avatar" src="/img/avatar.png" alt="stemwith"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">stemwith</p><p class="is-size-6 is-block">de la Cruz a la fecha</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>Korea</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">포스트</p><a href="/archives"><p class="title">50</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">카테고리</p><a href="/categories"><p class="title">8</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">태그</p><a href="/tags"><p class="title">3</p></a></div></div></nav><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="external nofollow noopener noreferrer" title="Github" href="https://github.com/ppoffice"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="external nofollow noopener noreferrer" title="Facebook" href="https://facebook.com"><i class="fab fa-facebook"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="external nofollow noopener noreferrer" title="Twitter" href="https://twitter.com"><i class="fab fa-twitter"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="external nofollow noopener noreferrer" title="Dribbble" href="https://dribbble.com"><i class="fab fa-dribbble"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="RSS" href="/"><i class="fas fa-rss"></i></a></div></div></div><!--!--><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">카테고리</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/esp32/"><span class="level-start"><span class="level-item">ESP32</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile" href="/categories/science/"><span class="level-start"><span class="level-item">Science</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/arduino/"><span class="level-start"><span class="level-item">arduino</span></span><span class="level-end"><span class="level-item tag">21</span></span></a></li><li><a class="level is-mobile" href="/categories/diy/"><span class="level-start"><span class="level-item">diy</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/drone/"><span class="level-start"><span class="level-item">drone</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/esp32/"><span class="level-start"><span class="level-item">esp32</span></span><span class="level-end"><span class="level-item tag">8</span></span></a></li><li><a class="level is-mobile" href="/categories/office/"><span class="level-start"><span class="level-item">office</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/categories/science/"><span class="level-start"><span class="level-item">science</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li></ul></div></div></div><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">최근 글</h3><article class="media"><div class="media-content"><p class="date"><time datetime="2021-12-02T09:27:53.000Z">2021-12-02</time></p><p class="title"><a href="/2021/12/02/ESP32-RC%EC%B9%B4/">ESP32, RC카</a></p><p class="categories"><a href="/categories/esp32/">ESP32</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time datetime="2021-11-15T08:57:00.000Z">2021-11-15</time></p><p class="title"><a href="/2021/11/15/STEM-%EC%95%8C%EC%BD%94%EC%98%AC-%EB%9E%A8%ED%94%84-%EB%B0%9B%EC%B9%A8%EB%8C%80/">알코올 램프 안전 손잡이 받침대 3D프린팅</a></p><p class="categories"><a href="/categories/science/">Science</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time datetime="2021-11-02T08:57:00.000Z">2021-11-02</time></p><p class="title"><a href="/2021/11/02/STEM-%EC%A0%84%EC%9E%90%EA%B8%B0%ED%8C%8C-%EA%B2%80%EC%B6%9C%EA%B8%B0/">전자기파 검출기 만들기</a></p><p class="categories"><a href="/categories/science/">Science</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time datetime="2021-11-01T09:27:53.000Z">2021-11-01</time></p><p class="title"><a href="/2021/11/01/ESP32-DC%EB%AA%A8%ED%84%B0/">ESP32, DC모터, TB6612FNG</a></p><p class="categories"><a href="/categories/esp32/">ESP32</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time datetime="2021-10-10T09:27:53.000Z">2021-10-10</time></p><p class="title"><a href="/2021/10/10/ESP32-nRF24L01/">ESP32, nRF24L01 무선통신</a></p><p class="categories"><a href="/categories/esp32/">ESP32</a></p></div></article></div></div><div class="card widget" data-type="archives"><div class="card-content"><div class="menu"><h3 class="menu-label">아카이브</h3><ul class="menu-list"><li><a class="level is-mobile" href="/archives/2021/12/"><span class="level-start"><span class="level-item">12월 2021</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/11/"><span class="level-start"><span class="level-item">11월 2021</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/10/"><span class="level-start"><span class="level-item">10월 2021</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/09/"><span class="level-start"><span class="level-item">9월 2021</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/08/"><span class="level-start"><span class="level-item">8월 2021</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/11/"><span class="level-start"><span class="level-item">11월 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/10/"><span class="level-start"><span class="level-item">10월 2020</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/08/"><span class="level-start"><span class="level-item">8월 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/11/"><span class="level-start"><span class="level-item">11월 2019</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/10/"><span class="level-start"><span class="level-item">10월 2019</span></span><span class="level-end"><span class="level-item tag">13</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/09/"><span class="level-start"><span class="level-item">9월 2019</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/11/"><span class="level-start"><span class="level-item">11월 2018</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/10/"><span class="level-start"><span class="level-item">10월 2018</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/09/"><span class="level-start"><span class="level-item">9월 2018</span></span><span class="level-end"><span class="level-item tag">11</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/06/"><span class="level-start"><span class="level-item">6월 2018</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/01/"><span class="level-start"><span class="level-item">1월 2018</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2016/11/"><span class="level-start"><span class="level-item">11월 2016</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2012/10/"><span class="level-start"><span class="level-item">10월 2012</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></div></div></div><div class="card widget" data-type="tags"><div class="card-content"><div class="menu"><h3 class="menu-label">태그</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/3d/"><span class="tag">3D</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/iot/"><span class="tag">iot</span><span class="tag">7</span></a></div><div class="control"><a class="tags has-addons" href="/tags/rc/"><span class="tag">rc</span><span class="tag">5</span></a></div></div></div></div></div></div><!--!--></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/logo.svg" alt="Welcome to &quot;stemwith&quot;" height="28"></a><p class="is-size-7"><span>&copy; 2022 chemidot</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="external nofollow noopener noreferrer">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="external nofollow noopener noreferrer">Icarus</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="external nofollow noopener noreferrer" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="external nofollow noopener noreferrer" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="external nofollow noopener noreferrer" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("ko");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="맨 위로" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "이 웹 사이트는 귀하의 경험을 향상시키기 위해 Cookie를 사용합니다.",
          dismiss: "무시",
          allow: "허용",
          deny: "거부",
          link: "더 알아보기",
          policy: "Cookie 정책",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css"><script src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/auto-render.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/mhchem.js" defer></script><script>window.addEventListener("load", function() {
            document.querySelectorAll('[role="article"] > .content').forEach(function(element) {
                renderMathInElement(element);
            });
        });</script><script type="text/x-mathjax-config">MathJax.Hub.Config({
            'HTML-CSS': {
                matchFontHeight: false
            },
            SVG: {
                matchFontHeight: false
            },
            CommonHTML: {
                matchFontHeight: false
            },
            tex2jax: {
                inlineMath: [
                    ['$','$'],
                    ['\\(','\\)']
                ]
            }
        });</script><script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.5/unpacked/MathJax.js?config=TeX-MML-AM_CHTML" defer></script><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="입력 하세요..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"입력 하세요...","untitled":"(제목 없음)","posts":"포스트","pages":"페이지","categories":"카테고리","tags":"태그"});
        });</script></body></html>