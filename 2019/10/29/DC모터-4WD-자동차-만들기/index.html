<!doctype html>
<html lang="ko"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>DC모터 + 4WD 자동차 만들기 (TB6612FNG) - Welcome to &quot;stemwith&quot;</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="Welcome to &quot;stemwith&quot;"><meta name="msapplication-TileImage" content="/img/favicon.svg"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="Welcome to &quot;stemwith&quot;"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="description" content="DC모터 사용하기아두이노의 5V, 3.3V핀으로는 모터에 필요한 충분한 전압과 전류를 공급하기 어렵다. 그러므로 사용하려는 모터에 맞는 전압과 전류의 공급을 위한 모터드라이버를 사용해야 한다. 아두이노에서 주로 사용하는 모듈은 L293D, L298N와 TB6612FNG 등이 있으며, 여기서는 TB6612FNG 모터드라이버와 함께, 모터 및 아두이노 단독사용"><meta property="og:type" content="blog"><meta property="og:title" content="DC모터 + 4WD 자동차 만들기 (TB6612FNG)"><meta property="og:url" content="http://stemwith.github.io/2019/10/29/DC%EB%AA%A8%ED%84%B0-4WD-%EC%9E%90%EB%8F%99%EC%B0%A8-%EB%A7%8C%EB%93%A4%EA%B8%B0/"><meta property="og:site_name" content="Welcome to &quot;stemwith&quot;"><meta property="og:description" content="DC모터 사용하기아두이노의 5V, 3.3V핀으로는 모터에 필요한 충분한 전압과 전류를 공급하기 어렵다. 그러므로 사용하려는 모터에 맞는 전압과 전류의 공급을 위한 모터드라이버를 사용해야 한다. 아두이노에서 주로 사용하는 모듈은 L293D, L298N와 TB6612FNG 등이 있으며, 여기서는 TB6612FNG 모터드라이버와 함께, 모터 및 아두이노 단독사용"><meta property="og:locale" content="ko_KR"><meta property="og:image" content="http://stemwith.github.io/image/t/tb6612fng-01.png"><meta property="og:image" content="http://stemwith.github.io/image/t/tb6612fng-02.png"><meta property="og:image" content="http://stemwith.github.io/image/4wd-01.jpg"><meta property="og:image" content="http://stemwith.github.io/image/4wd-02.png"><meta property="og:image" content="http://stemwith.github.io/image/4wd-03.png"><meta property="og:image" content="http://stemwith.github.io/image/4wd-04.png"><meta property="og:image" content="http://stemwith.github.io/image/4wd-05.png"><meta property="og:image" content="http://stemwith.github.io/image/4wd-06.png"><meta property="og:image" content="http://stemwith.github.io/image/4wd-07.png"><meta property="og:image" content="http://stemwith.github.io/image/4wd-08.png"><meta property="og:image" content="http://stemwith.github.io/image/4wd-09.png"><meta property="article:published_time" content="2019-10-29T09:27:53.000Z"><meta property="article:modified_time" content="2021-11-17T03:30:12.000Z"><meta property="article:author" content="chemidot"><meta property="article:tag" content="rc"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="/image/t/tb6612fng-01.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"http://stemwith.github.io/2019/10/29/DC%EB%AA%A8%ED%84%B0-4WD-%EC%9E%90%EB%8F%99%EC%B0%A8-%EB%A7%8C%EB%93%A4%EA%B8%B0/"},"headline":"DC모터 + 4WD 자동차 만들기 (TB6612FNG)","image":["http://stemwith.github.io/image/t/tb6612fng-01.png","http://stemwith.github.io/image/t/tb6612fng-02.png","http://stemwith.github.io/image/4wd-01.jpg","http://stemwith.github.io/image/4wd-02.png","http://stemwith.github.io/image/4wd-03.png","http://stemwith.github.io/image/4wd-04.png","http://stemwith.github.io/image/4wd-05.png","http://stemwith.github.io/image/4wd-06.png","http://stemwith.github.io/image/4wd-07.png","http://stemwith.github.io/image/4wd-08.png","http://stemwith.github.io/image/4wd-09.png"],"datePublished":"2019-10-29T09:27:53.000Z","dateModified":"2021-11-17T03:30:12.000Z","author":{"@type":"Person","name":"chemidot"},"publisher":{"@type":"Organization","name":"Welcome to \"stemwith\"","logo":{"@type":"ImageObject","url":"http://stemwith.github.io/img/logo.svg"}},"description":"DC모터 사용하기아두이노의 5V, 3.3V핀으로는 모터에 필요한 충분한 전압과 전류를 공급하기 어렵다. 그러므로 사용하려는 모터에 맞는 전압과 전류의 공급을 위한 모터드라이버를 사용해야 한다. 아두이노에서 주로 사용하는 모듈은 L293D, L298N와 TB6612FNG 등이 있으며, 여기서는 TB6612FNG 모터드라이버와 함께, 모터 및 아두이노 단독사용"}</script><link rel="canonical" href="http://stemwith.github.io/2019/10/29/DC%EB%AA%A8%ED%84%B0-4WD-%EC%9E%90%EB%8F%99%EC%B0%A8-%EB%A7%8C%EB%93%A4%EA%B8%B0/"><link rel="icon" href="/img/favicon.svg"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.2/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/monokai.css"><link rel="preconnect" href="https://fonts.gstatic.com"><link href="https://fonts.googleapis.com/css2?family=Gowun+Batang:wght@400;700&amp;family=Roboto" rel="stylesheet"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><script src="https://www.googletagmanager.com/gtag/js?id=G-128DRYVCRT" async></script><script>window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
    
        gtag('config', 'G-128DRYVCRT');</script><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script><!--!--><!--!--><meta name="generator" content="Hexo 5.4.2"><link rel="alternate" href="/rss2.xml" title="Welcome to "stemwith"" type="application/rss+xml">
</head><body class="is-2-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/logo.svg" alt="Welcome to &quot;stemwith&quot;" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/about">About</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="external nofollow noopener noreferrer" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a><a class="navbar-item is-hidden-tablet catalogue" title="카탈로그" href="javascript:;"><i class="fas fa-list-ul"></i></a><a class="navbar-item search" title="검색" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-9-tablet is-9-desktop is-9-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time datetime="2019-10-29T09:27:53.000Z" title="2019. 10. 29. 오후 6:27:53">2019-10-29</time>&nbsp;게시 됨</span><span class="level-item"><time datetime="2021-11-17T03:30:12.000Z" title="2021. 11. 17. 오후 12:30:12">2021-11-17</time>&nbsp;업데이트 됨</span><span class="level-item"><a class="link-muted" href="/categories/arduino/">arduino</a></span><span class="level-item">24분안에 읽기 (약 3608 단어)</span></div></div><h1 class="title is-3 is-size-4-mobile">DC모터 + 4WD 자동차 만들기 (TB6612FNG)</h1><div class="content"><h3 id="DC모터-사용하기"><a href="#DC모터-사용하기" class="headerlink" title="DC모터 사용하기"></a>DC모터 사용하기</h3><p>아두이노의 5V, 3.3V핀으로는 모터에 필요한 충분한 전압과 전류를 공급하기 어렵다. 그러므로 사용하려는 모터에 맞는 전압과 전류의 공급을 위한 모터드라이버를 사용해야 한다. 아두이노에서 주로 사용하는 모듈은 L293D, L298N와 TB6612FNG 등이 있으며, 여기서는 TB6612FNG 모터드라이버와 함께, 모터 및 아두이노 단독사용을 위하여 별도의 외부전원을 사용한다. <del>외부 전원으로는 모터를 위한 1.5V AA*4개와 함께 아두이노 단독사용을 위한 9V 사각전지(6F22)를 추가로 연결하였다.</del> </p>
<blockquote>
<p>1.5V AA 6개 혹은 3.7V 18650 2개를 직렬로 연결하여 사용하면, 9V 사각전지(6F22)가 필요하지 않으므로 이 방법을 추천한다. 또한 AA 건전지를 사용하는 경우 4WD기준 연속사용시간은 10분 정도뿐일 정도로 전지 소모가 매우 빠르므로, 충전이 가능한 18650 사용을 추천한다.</p>
</blockquote>
<br>

<h4 id="TB6612FNG"><a href="#TB6612FNG" class="headerlink" title="TB6612FNG"></a>TB6612FNG</h4><table>
<thead>
<tr>
<th align="center">VM<br>VCC<br>GND(*)<br>AOUT1<br>AOUT2<br>BOUT2<br>BOUT1<br>GND</th>
<th align="center"><img src="/image/t/tb6612fng-01.png"></th>
<th align="center">PWMA<br>AIN2<br>AIN1<br>STBY<br>BIN1<br>BIN2<br>PWMB<br>GND</th>
</tr>
</thead>
<tbody><tr>
<td align="center"></td>
<td align="center"><img src="/image/t/tb6612fng-02.png" style="zoom:80%;"></td>
<td align="center"></td>
</tr>
</tbody></table>
<ul>
<li>VM (모터 전압) &#x3D; 15V max</li>
<li>VCC (로직 전압) &#x3D; 2.7 ~ 5.5V</li>
<li><strong>GND</strong><ul>
<li>TB6612fng 모듈을 여러개 테스트한 결과, <strong>3번핀 GND</strong>에 연결할 경우 <strong>작동이 안되는</strong> 몇몇 제품이 있었음</li>
<li>그러므로 <strong>8번핀, 9번핀의 GND 사용을 권장</strong>함</li>
</ul>
</li>
<li>출력전류: 정전류 1.2A (3.2A peak)까지 (모터 2개 사용시 합산 전류임)</li>
<li>모터 제어모드: CW, CCW, short-brake, STOP, stand-by</li>
<li>두개의 모터 출력을 개별 제어하며, <strong>100kHz</strong>의 PWM으로 속도 제어</li>
<li>써멀 셧다운 및 저전압 감지회로 내장</li>
</ul>
<br>

<h5 id="Pin의-사용"><a href="#Pin의-사용" class="headerlink" title="Pin의 사용"></a>Pin의 사용</h5><table>
<thead>
<tr>
<th>핀번호</th>
<th>모터드라이브1</th>
<th>아두이노</th>
<th>외부전원</th>
<th>모터 &#x2F; 역할</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>VM</td>
<td></td>
<td>(+) (DC모터에 사용하는 전압 사용)</td>
<td></td>
</tr>
<tr>
<td>2</td>
<td>VCC</td>
<td>+5V</td>
<td></td>
<td></td>
</tr>
<tr>
<td>3</td>
<td>GND (사용 비추천)</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>4</td>
<td>A_OUT1</td>
<td></td>
<td></td>
<td>모터A</td>
</tr>
<tr>
<td>5</td>
<td>A_OUT2</td>
<td></td>
<td></td>
<td>모터A</td>
</tr>
<tr>
<td>6</td>
<td>B_OUT2</td>
<td></td>
<td></td>
<td>모터B</td>
</tr>
<tr>
<td>7</td>
<td>B_OUT1</td>
<td></td>
<td></td>
<td>모터B</td>
</tr>
<tr>
<td>8</td>
<td>GND</td>
<td></td>
<td>(-)</td>
<td></td>
</tr>
<tr>
<td>9</td>
<td>GND</td>
<td>GND</td>
<td></td>
<td></td>
</tr>
<tr>
<td>10</td>
<td>B_PWM</td>
<td>6</td>
<td></td>
<td>모터B 속도제어</td>
</tr>
<tr>
<td>11</td>
<td>B_IN2</td>
<td>12</td>
<td></td>
<td>모터B 방향제어</td>
</tr>
<tr>
<td>12</td>
<td>B_IN1</td>
<td>11</td>
<td></td>
<td>모터B 방향제어</td>
</tr>
<tr>
<td>13</td>
<td>STBY</td>
<td>10</td>
<td></td>
<td>모터 상태신호</td>
</tr>
<tr>
<td>14</td>
<td>A_IN1</td>
<td>9</td>
<td></td>
<td>모터A 방향제어</td>
</tr>
<tr>
<td>15</td>
<td>A_IN2</td>
<td>8</td>
<td></td>
<td>모터A 방향제어</td>
</tr>
<tr>
<td>16</td>
<td>A_PWM</td>
<td>5</td>
<td></td>
<td>모터A 속도제어</td>
</tr>
</tbody></table>
<ul>
<li>속도제어에 사용하는 A_PWM, B_PWM은 아두이노의 PWM이 가능한 핀에 연결하여야 합니다. 여기서는 ~5, ~6번 핀 사용.</li>
</ul>
<br>


<h5 id="주의-Pin-Map이-다른-모듈의-경우"><a href="#주의-Pin-Map이-다른-모듈의-경우" class="headerlink" title="주의: Pin Map이 다른 모듈의 경우"></a>주의: Pin Map이 다른 모듈의 경우</h5><p>TB6612FNG를 여러 개 구입하여 사용해본 결과, 위의 핀맵과 조금 다른 모듈도 있었다. </p>
<table>
<thead>
<tr>
<th>핀번호</th>
<th>모터드라이브1</th>
<th>아두이노</th>
<th>외부전원</th>
<th>모터 &#x2F; 역할</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>GND</td>
<td>GND</td>
<td>(-)</td>
<td></td>
</tr>
<tr>
<td>2</td>
<td>VCC (2.7~5.5V)</td>
<td>+5V</td>
<td></td>
<td></td>
</tr>
<tr>
<td>3</td>
<td>A_OUT1</td>
<td></td>
<td></td>
<td>모터A</td>
</tr>
<tr>
<td>4</td>
<td>A_OUT2</td>
<td></td>
<td></td>
<td>모터A</td>
</tr>
<tr>
<td>5</td>
<td>B_OUT2</td>
<td></td>
<td></td>
<td>모터B</td>
</tr>
<tr>
<td>6</td>
<td>B_OUT1</td>
<td></td>
<td></td>
<td>모터B</td>
</tr>
<tr>
<td>7</td>
<td>VM (15V max)</td>
<td></td>
<td>(+) (DC모터 요구 전압 사용)</td>
<td></td>
</tr>
<tr>
<td>8</td>
<td>GND</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>9</td>
<td>GND</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>10</td>
<td>B_PWM</td>
<td>6</td>
<td></td>
<td>모터B 속도제어</td>
</tr>
<tr>
<td>11</td>
<td>B_IN2</td>
<td>12</td>
<td></td>
<td>모터B 방향제어</td>
</tr>
<tr>
<td>12</td>
<td>B_IN1</td>
<td>11</td>
<td></td>
<td>모터B 방향제어</td>
</tr>
<tr>
<td>13</td>
<td>NC(STBY)</td>
<td>10</td>
<td></td>
<td>모터 상태신호</td>
</tr>
<tr>
<td>14</td>
<td>A_IN1</td>
<td>9</td>
<td></td>
<td>모터A 방향제어</td>
</tr>
<tr>
<td>15</td>
<td>A_IN2</td>
<td>8</td>
<td></td>
<td>모터A 방향제어</td>
</tr>
<tr>
<td>16</td>
<td>A_PWM</td>
<td>5</td>
<td></td>
<td>모터A 속도제어</td>
</tr>
</tbody></table>
<br>

<h4 id="TB6612FNG와-DC모터의-연결"><a href="#TB6612FNG와-DC모터의-연결" class="headerlink" title="TB6612FNG와 DC모터의 연결"></a>TB6612FNG와 DC모터의 연결</h4><h5 id="Pin-Map"><a href="#Pin-Map" class="headerlink" title="Pin Map"></a>Pin Map</h5><p>TB6612FNG 모터드라이브는 2채널 형태이며, 만일 2WD 자동차를 만든다면 디지털핀 7개가 필요하다. 4개의 DC모터를 사용하여 4WD 자동차를 만드는 방법은 3가지로 나눠 생각해볼 수 있는데, 모든 바퀴를 각각 컨트롤 하는 방법, 왼쪽 바퀴와 오른쪽 바퀴로 나누어 컨트롤 하는 방법, 앞 바퀴와 뒷 바퀴로 나누어 컨트롤 하는 방법 등이 있다.</p>
<ul>
<li>모든 바퀴를 각각 컨트롤 하는 경우 : 모터드라이브 2개와 디지털핀 14개 사용<ul>
<li>그런데, 아두이노에서 실제 사용할 수 있는 디지털핀의 개수가 12개(2~13번)이므로, 2개의 디지털핀이 부족하다.<ul>
<li>아날로그핀을 디지털핀과 동일하게 사용할 수 있으므로, 2개의 아날로그핀을 추가로 사용한다.</li>
<li>또는 스케치 업로드시에만 0,1번 핀을 빼두었다가, 스케치 업로드가 끝나면 0,1번 핀을 사용한다. 이렇게 사용하면 0~13번까지 총 14개의 디지털핀을 확보할 수 있다.</li>
</ul>
</li>
</ul>
</li>
<li><strong>왼쪽과 오른쪽 바퀴로 나누어 컨트롤</strong> 하는 방법 : 디지털핀 7개 사용 (아래 본문에서 사용한 방법)</li>
<li>앞과 뒷 바퀴로 나누어 컨트롤 하는 방법 : 디지털핀 7개 사용. (단, 조향을 위한 추가적인 방법을 고려해야 함.)</li>
</ul>
<br>

<h4 id="H-SW-Control-Function"><a href="#H-SW-Control-Function" class="headerlink" title="H-SW Control Function"></a>H-SW Control Function</h4><table>
<thead>
<tr>
<th>Input</th>
<th></th>
<th></th>
<th></th>
<th>Output</th>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>IN1</td>
<td>IN2</td>
<td>PWM</td>
<td>STBY</td>
<td>OUT1</td>
<td>OUT2</td>
<td>Mode</td>
</tr>
<tr>
<td>H</td>
<td>H</td>
<td>H&#x2F;L</td>
<td>H</td>
<td>L</td>
<td>L</td>
<td>Short Brake</td>
</tr>
<tr>
<td>L</td>
<td>H</td>
<td>H</td>
<td>H</td>
<td>L</td>
<td>H</td>
<td>Count-Clockwise</td>
</tr>
<tr>
<td>L</td>
<td>H</td>
<td>L</td>
<td>H</td>
<td>L</td>
<td>L</td>
<td>Short Brake</td>
</tr>
<tr>
<td>H</td>
<td>L</td>
<td>H</td>
<td>H</td>
<td>H</td>
<td>L</td>
<td>Clockwise</td>
</tr>
<tr>
<td>H</td>
<td>L</td>
<td>L</td>
<td>H</td>
<td>L</td>
<td>L</td>
<td>Short Brake</td>
</tr>
<tr>
<td>L</td>
<td>L</td>
<td>H</td>
<td>H</td>
<td>OFF(High impedance)</td>
<td>OFF(High impedance)</td>
<td>Stop</td>
</tr>
<tr>
<td>H&#x2F;L</td>
<td>H&#x2F;L</td>
<td>H&#x2F;L</td>
<td>L</td>
<td>OFF(High impedance)</td>
<td>OFF(High impedance)</td>
<td>Standby</td>
</tr>
</tbody></table>
<br>

<p>출력 결과는 아래와 같으며,</p>
<ul>
<li>IN1이 LOW, IN2가 HIGH, PWM으로 신호를 출력할 경우 시계 반대 방향(CCW)으로 회전</li>
<li>IN1이 HIGH, IN2가 LOW, PWM으로 신호를 출력할 경우 시계 방향(CW)으로 회전</li>
<li>그 밖의 경우는 모두 stop 상태로 해석하면 된다.</li>
</ul>
<br>

<h3 id="모터-1개-컨트롤하기"><a href="#모터-1개-컨트롤하기" class="headerlink" title="모터 1개 컨트롤하기"></a>모터 1개 컨트롤하기</h3><p>여기서 사용하는 DC모터는 아래의 형태를 가진 기어드모터이며, 아두이노를 사용하여 자동차를 만드는데 많이 사용되는 저렴이 모터이다.</p>
<p><img src="/image/4wd-01.jpg"></p>
<br>

<h4 id="schematic"><a href="#schematic" class="headerlink" title="schematic"></a>schematic</h4><h5 id="UNO보드와-컴퓨터를-USB선으로-연결하여-사용할-경우"><a href="#UNO보드와-컴퓨터를-USB선으로-연결하여-사용할-경우" class="headerlink" title="UNO보드와 컴퓨터를 USB선으로 연결하여 사용할 경우"></a>UNO보드와 컴퓨터를 USB선으로 연결하여 사용할 경우</h5><p><img src="/image/4wd-02.png"></p>
<br>

<h5 id="UNO보드와-컴퓨터의-연결없이-Vin핀을-사용하여-단독으로-사용할-경우"><a href="#UNO보드와-컴퓨터의-연결없이-Vin핀을-사용하여-단독으로-사용할-경우" class="headerlink" title="UNO보드와 컴퓨터의 연결없이 Vin핀을 사용하여 단독으로 사용할 경우"></a>UNO보드와 컴퓨터의 연결없이 Vin핀을 사용하여 단독으로 사용할 경우</h5><ul>
<li>UNO 보드의 Vin에 외부전원(7.4V) (+)에 연결: 6.6V~12V 범위의 전원 연결 가능 (7.2V 이상 추천)</li>
<li>UNO 보드의 GND를 TB6612fng 모듈의 GND에 연결</li>
</ul>
<p><img src="/image/4wd-03.png"></p>
<br>

<h4 id="sketch"><a href="#sketch" class="headerlink" title="sketch"></a>sketch</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> STBY = <span class="number">10</span>;            <span class="comment">// Standby</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Motor A</span></span><br><span class="line"><span class="keyword">int</span> A_PWM = <span class="number">5</span>;            <span class="comment">// Speed Control</span></span><br><span class="line"><span class="keyword">int</span> A_IN1 = <span class="number">8</span>;</span><br><span class="line"><span class="keyword">int</span> A_IN2 = <span class="number">9</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">setup</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="built_in">pinMode</span>(STBY, OUTPUT);</span><br><span class="line">  <span class="built_in">pinMode</span>(A_PWM, OUTPUT);</span><br><span class="line">  <span class="built_in">pinMode</span>(A_IN1, OUTPUT);</span><br><span class="line">  <span class="built_in">pinMode</span>(A_IN2, OUTPUT);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">loop</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="built_in">move</span>(<span class="number">1</span>, <span class="number">128</span>, <span class="number">0</span>);          <span class="comment">// motor A(right wheels), half speed, moving forward</span></span><br><span class="line"></span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">1000</span>);              <span class="comment">// go for 1 second</span></span><br><span class="line">  <span class="built_in">stop</span>();                   <span class="comment">// stop</span></span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">250</span>);               <span class="comment">// hold for 250ms until move again</span></span><br><span class="line"></span><br><span class="line">  <span class="built_in">move</span>(<span class="number">1</span>, <span class="number">128</span>, <span class="number">1</span>);          <span class="comment">// motor A(right wheels), half speed, moving backward</span></span><br><span class="line"></span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">1000</span>);</span><br><span class="line">  <span class="built_in">stop</span>();</span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">250</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">move</span><span class="params">(<span class="keyword">int</span> motor, <span class="keyword">int</span> speed, <span class="keyword">int</span> direction)</span> </span>&#123;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">- Move specific motor at speed and direction</span></span><br><span class="line"><span class="comment">- motor: A -&gt; 1</span></span><br><span class="line"><span class="comment">- speed: 0 is off, and 255 is full speed</span></span><br><span class="line"><span class="comment">= direction: 0 clockwise, 1 counter-clockwise</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">  <span class="built_in">digitalWrite</span>(STBY, HIGH);        <span class="comment">// Disable Standby</span></span><br><span class="line"></span><br><span class="line">  boolean inPin1 = LOW;            <span class="comment">// Defalut(direction=0) - Clockwise</span></span><br><span class="line">  boolean inPin2 = HIGH;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span>(direction == <span class="number">1</span>) &#123;             <span class="comment">// Count-clockwise</span></span><br><span class="line">    inPin1 = HIGH;</span><br><span class="line">    inPin2 = LOW;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span>(motor == <span class="number">1</span>)&#123;                  <span class="comment">// if motor == 1, right wheel</span></span><br><span class="line">    <span class="built_in">digitalWrite</span>(A_IN1, inPin1);</span><br><span class="line">    <span class="built_in">digitalWrite</span>(A_IN2, inPin2);</span><br><span class="line">    <span class="built_in">analogWrite</span>(A_PWM, speed);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">else</span> &#123;                           <span class="comment">// if motor is not 1, left wheel</span></span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> <span class="built_in">stop</span>() &#123;</span><br><span class="line">  <span class="built_in">digitalWrite</span>(STBY, LOW);         <span class="comment">// Enable Standby</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<br>

<h5 id="회전-방향이-생각했던-방향과-반대로-회전하는-경우"><a href="#회전-방향이-생각했던-방향과-반대로-회전하는-경우" class="headerlink" title="회전 방향이 (생각했던 방향과) 반대로 회전하는 경우"></a>회전 방향이 (생각했던 방향과) 반대로 회전하는 경우</h5><p>A_IN1핀과 A_IN2 핀의 번호를 바꿔준다. 즉, 위 스케치에서</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> A_IN1 = <span class="number">8</span>;</span><br><span class="line"><span class="keyword">int</span> A_IN2 = <span class="number">9</span>;</span><br></pre></td></tr></table></figure>

<p>부분을</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> A_IN1 = <span class="number">9</span>;</span><br><span class="line"><span class="keyword">int</span> A_IN2 = <span class="number">8</span>;</span><br></pre></td></tr></table></figure>

<p>로 바꿔준다.</p>
<br>

<h3 id="4WD-자동차-만들기"><a href="#4WD-자동차-만들기" class="headerlink" title="4WD 자동차 만들기"></a>4WD 자동차 만들기</h3><h4 id="schematic-1"><a href="#schematic-1" class="headerlink" title="schematic"></a>schematic</h4><h5 id="UNO보드와-컴퓨터를-USB선으로-연결하여-사용할-경우-1"><a href="#UNO보드와-컴퓨터를-USB선으로-연결하여-사용할-경우-1" class="headerlink" title="UNO보드와 컴퓨터를 USB선으로 연결하여 사용할 경우"></a>UNO보드와 컴퓨터를 USB선으로 연결하여 사용할 경우</h5><p><img src="/image/4wd-04.png"></p>
<br>

<h5 id="UNO보드와-컴퓨터의-연결없이-Vin핀을-사용하여-단독으로-사용할-경우-1"><a href="#UNO보드와-컴퓨터의-연결없이-Vin핀을-사용하여-단독으로-사용할-경우-1" class="headerlink" title="UNO보드와 컴퓨터의 연결없이 Vin핀을 사용하여 단독으로 사용할 경우"></a>UNO보드와 컴퓨터의 연결없이 Vin핀을 사용하여 단독으로 사용할 경우</h5><ul>
<li>UNO 보드의 Vin에 외부전원(7.4V) (+)에 연결: 6.6V~12V 범위의 전원 연결 가능 (7.2V 이상 추천)</li>
<li>UNO 보드의 GND를 TB6612fng 모듈의 GND에 연결</li>
</ul>
<p><img src="/image/4wd-05.png"></p>
<br>

<h4 id="sketch-1"><a href="#sketch-1" class="headerlink" title="sketch"></a>sketch</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// front wheel : B1 - A1</span></span><br><span class="line"><span class="comment">// rear  wheel : B2 - A2 </span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> STBY = <span class="number">10</span>;            <span class="comment">// Standby</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Motor A 1 &amp; 2(Right)</span></span><br><span class="line"><span class="keyword">int</span> A_PWM = <span class="number">5</span>;             <span class="comment">// Speed Control</span></span><br><span class="line"><span class="keyword">int</span> A_IN1 = <span class="number">8</span>;</span><br><span class="line"><span class="keyword">int</span> A_IN2 = <span class="number">9</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Motor B 1 &amp; 2(Left)</span></span><br><span class="line"><span class="keyword">int</span> B_PWM = <span class="number">6</span>;             <span class="comment">// Speed Control</span></span><br><span class="line"><span class="keyword">int</span> B_IN1 = <span class="number">11</span>;</span><br><span class="line"><span class="keyword">int</span> B_IN2 = <span class="number">12</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">setup</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="built_in">pinMode</span>(STBY, OUTPUT);</span><br><span class="line">  <span class="built_in">pinMode</span>(A_PWM, OUTPUT);</span><br><span class="line">  <span class="built_in">pinMode</span>(A_IN1, OUTPUT);</span><br><span class="line">  <span class="built_in">pinMode</span>(A_IN2, OUTPUT);</span><br><span class="line">  <span class="built_in">pinMode</span>(B_PWM, OUTPUT);</span><br><span class="line">  <span class="built_in">pinMode</span>(B_IN1, OUTPUT);</span><br><span class="line">  <span class="built_in">pinMode</span>(B_IN2, OUTPUT);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">loop</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="built_in">move</span>(<span class="number">1</span>, <span class="number">128</span>, <span class="number">0</span>);                  <span class="comment">// motor A(right wheels), half speed, moving forward</span></span><br><span class="line">  <span class="built_in">move</span>(<span class="number">2</span>, <span class="number">128</span>, <span class="number">0</span>);                  <span class="comment">// motor B(left wheels), half speed, moving forward</span></span><br><span class="line"></span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">1000</span>);                      <span class="comment">// go for 1 second</span></span><br><span class="line">  <span class="built_in">stop</span>();                           <span class="comment">// stop</span></span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">250</span>);                       <span class="comment">// hold for 250ms until move again</span></span><br><span class="line"></span><br><span class="line">  <span class="built_in">move</span>(<span class="number">1</span>, <span class="number">128</span>, <span class="number">1</span>);                  <span class="comment">// motor A(right wheels), half speed, moving backward</span></span><br><span class="line">  <span class="built_in">move</span>(<span class="number">2</span>, <span class="number">128</span>, <span class="number">1</span>);                  <span class="comment">// motor B(left wheels), half speed, moving backward</span></span><br><span class="line"></span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">1000</span>);</span><br><span class="line">  <span class="built_in">stop</span>();</span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">250</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">move</span><span class="params">(<span class="keyword">int</span> motor, <span class="keyword">int</span> speed, <span class="keyword">int</span> direction)</span> </span>&#123;   <span class="comment">//Move specific motor at speed and direction</span></span><br><span class="line"><span class="comment">//motor: A(Right) -&gt; 1, B(Left) -&gt; 2</span></span><br><span class="line"><span class="comment">//speed: 0 is off, and 255 is full speed</span></span><br><span class="line"><span class="comment">//direction: 0 clockwise, 1 counter-clockwise</span></span><br><span class="line"></span><br><span class="line">  <span class="built_in">digitalWrite</span>(STBY, HIGH);        <span class="comment">// Disable Standby</span></span><br><span class="line"></span><br><span class="line">  boolean inPin1 = LOW;            <span class="comment">// Defalut(direction=0) - Clockwise</span></span><br><span class="line">  boolean inPin2 = HIGH;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span>(direction == <span class="number">1</span>) &#123;             <span class="comment">// Count-clockwise</span></span><br><span class="line">    inPin1 = HIGH;</span><br><span class="line">    inPin2 = LOW;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span>(motor == <span class="number">1</span>)&#123;                  <span class="comment">// if motor == 1, right wheel</span></span><br><span class="line">    <span class="built_in">digitalWrite</span>(A_IN1, inPin1);</span><br><span class="line">    <span class="built_in">digitalWrite</span>(A_IN2, inPin2);</span><br><span class="line">    <span class="built_in">analogWrite</span>(A_PWM, speed);</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;                         <span class="comment">// if motor is not 1, left wheel</span></span><br><span class="line">    <span class="built_in">digitalWrite</span>(B_IN1, inPin1);</span><br><span class="line">    <span class="built_in">digitalWrite</span>(B_IN2, inPin2);</span><br><span class="line">    <span class="built_in">analogWrite</span>(B_PWM, speed);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">stop</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="built_in">digitalWrite</span>(STBY, LOW);        <span class="comment">// Enable Standby</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<br>

<br>

<h3 id="IR-리모컨으로-4WD-컨트롤하기"><a href="#IR-리모컨으로-4WD-컨트롤하기" class="headerlink" title="IR 리모컨으로 4WD 컨트롤하기"></a>IR 리모컨으로 4WD 컨트롤하기</h3><p>IR리모컨을 사용하여 RC카를 컨트롤 하기 위해서는 모터와 회로에서 발생하는 노이즈를 제거하기 위한 104 케패시터(0.1uF)를 사용하는 것이 원칙입니다. 반드시 사용해야 하는 것은 아니지만, 회로보호를 위해 캐패시터가 있는 경우에는 IR 수신부의 (+)와 (-)에 병렬연결하세요. 이에 더하여 후진시 방향전환도 가능하도록 수정해 봅니다.</p>
<br>

<h4 id="schematic-2"><a href="#schematic-2" class="headerlink" title="schematic"></a>schematic</h4><h5 id="UNO보드와-컴퓨터를-USB선으로-연결하여-사용할-경우-2"><a href="#UNO보드와-컴퓨터를-USB선으로-연결하여-사용할-경우-2" class="headerlink" title="UNO보드와 컴퓨터를 USB선으로 연결하여 사용할 경우"></a>UNO보드와 컴퓨터를 USB선으로 연결하여 사용할 경우</h5><p><img src="/image/4wd-06.png"></p>
<br>

<h5 id="UNO보드와-컴퓨터의-연결없이-Vin핀을-사용하여-단독으로-사용할-경우-2"><a href="#UNO보드와-컴퓨터의-연결없이-Vin핀을-사용하여-단독으로-사용할-경우-2" class="headerlink" title="UNO보드와 컴퓨터의 연결없이 Vin핀을 사용하여 단독으로 사용할 경우"></a>UNO보드와 컴퓨터의 연결없이 Vin핀을 사용하여 단독으로 사용할 경우</h5><p><img src="/image/4wd-07.png"></p>
<br>

<br>

<h4 id="IRremote-라이브러리-추가하기"><a href="#IRremote-라이브러리-추가하기" class="headerlink" title="IRremote 라이브러리 추가하기"></a>IRremote 라이브러리 추가하기</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;boarddefs.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;IRremote.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;IRremoteInt.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;ir_Lego_PF_BitStreamEncoder.h&gt;</span></span></span><br></pre></td></tr></table></figure>

<br>

<h4 id="사용할-리모컨-버튼-HEX값"><a href="#사용할-리모컨-버튼-HEX값" class="headerlink" title="사용할 리모컨 버튼 HEX값"></a>사용할 리모컨 버튼 HEX값</h4><table>
<thead>
<tr>
<th>Remote Button</th>
<th>unsigned int data</th>
<th>define</th>
</tr>
</thead>
<tbody><tr>
<td>▲ (전진 &#x2F; 속도 증가)</td>
<td>0XFF18E7</td>
<td>BTN_U</td>
</tr>
<tr>
<td>▼ (후진 &#x2F; 속도 감소)</td>
<td>0XFFA4B5</td>
<td>BTN_D</td>
</tr>
<tr>
<td>◀ (좌회전 &#x2F; 좌회전각 증가)</td>
<td>0XFF10EF</td>
<td>BTN_L</td>
</tr>
<tr>
<td>▶ (우회전 &#x2F; 우회전각 증가)</td>
<td>0XFF5AA5</td>
<td>BTN_R</td>
</tr>
<tr>
<td>OK (정지)</td>
<td>0XFF38C7</td>
<td>BTN_O</td>
</tr>
</tbody></table>
<p>보유하고 있는 리모컨의 종류마다 HEX값이 다르므로, HEX값은 다를 수 있습니다. HEX값을 알아내는 방법은 IR Remote를 다루는 페이지를 참고하세요.</p>
<br>

<h4 id="sketch-2"><a href="#sketch-2" class="headerlink" title="sketch"></a>sketch</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Initialize IR remote</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;boarddefs.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;IRremote.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;IRremoteInt.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;ir_Lego_PF_BitStreamEncoder.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> RECV_PIN = <span class="number">13</span>;              <span class="comment">// IR Signal pin</span></span><br><span class="line"><span class="function">IRrecv <span class="title">irrecv</span><span class="params">(RECV_PIN)</span></span>;</span><br><span class="line">decode_results results;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> BTN_F 0xFF18E7  <span class="comment">// Forward Button</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> BTN_B 0xFF4AB5  <span class="comment">// Backward Button</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> BTN_L 0xFF10EF  <span class="comment">// Left Button</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> BTN_R 0xFF5AA5  <span class="comment">// Right Button</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> BTN_O 0xFF38C7  <span class="comment">// OK Button</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Initialize TB6612FNG Motor drive</span></span><br><span class="line"><span class="keyword">int</span> STBY = <span class="number">10</span>;  <span class="comment">// STBY pin on TB6612FNG. Must be HIGH to enable motor</span></span><br><span class="line"><span class="keyword">int</span> A_PWM = <span class="number">5</span>;  <span class="comment">// Right motor speed control using analogWrite() function. Value between 0 - 255</span></span><br><span class="line"><span class="keyword">int</span> A_IN1 = <span class="number">9</span>;  <span class="comment">// Right motor - LOW should go forward</span></span><br><span class="line"><span class="keyword">int</span> A_IN2 = <span class="number">8</span>;  <span class="comment">// Right motor - HIGH should go forward</span></span><br><span class="line"><span class="keyword">int</span> B_PWM = <span class="number">6</span>;  <span class="comment">// Left motor speed control using analogWrite() function. Value between 0 - 255</span></span><br><span class="line"><span class="keyword">int</span> B_IN1 = <span class="number">11</span>; <span class="comment">// Left motor - LOW should go forward</span></span><br><span class="line"><span class="keyword">int</span> B_IN2 = <span class="number">12</span>; <span class="comment">// Left motor - HIGH should go forward</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> R_MaxSpeed = <span class="number">255</span>;   <span class="comment">//set motor speed to max speed</span></span><br><span class="line"><span class="keyword">int</span> L_MaxSpeed = <span class="number">255</span>;   <span class="comment">//set motor speed to max speed</span></span><br><span class="line"><span class="keyword">int</span> R_TurnSpeed = <span class="number">128</span>;  <span class="comment">//set motor speed to max speed</span></span><br><span class="line"><span class="keyword">int</span> L_TurnSpeed = <span class="number">128</span>;  <span class="comment">//set motor speed to max speed</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> LR_Direct = <span class="number">0</span>;      <span class="comment">//for Direction</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">setup</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="built_in">pinMode</span>(A_PWM, OUTPUT);</span><br><span class="line">  <span class="built_in">pinMode</span>(A_IN1, OUTPUT);</span><br><span class="line">  <span class="built_in">pinMode</span>(A_IN2, OUTPUT);</span><br><span class="line">  <span class="built_in">pinMode</span>(B_PWM, OUTPUT);</span><br><span class="line">  <span class="built_in">pinMode</span>(B_IN1, OUTPUT);</span><br><span class="line">  <span class="built_in">pinMode</span>(B_IN2, OUTPUT);</span><br><span class="line">  <span class="built_in">pinMode</span>(STBY, OUTPUT);</span><br><span class="line">  </span><br><span class="line">  Serial.<span class="built_in">begin</span>(<span class="number">9600</span>);</span><br><span class="line">  irrecv.<span class="built_in">enableIRIn</span>();                           <span class="comment">// Start the receiver</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">loop</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (irrecv.<span class="built_in">decode</span>(&amp;results)) &#123;                 <span class="comment">// Read IR remote control</span></span><br><span class="line">    <span class="comment">//Serial.println(results.value, HEX);        // for debug</span></span><br><span class="line">    irrecv.<span class="built_in">resume</span>();                             <span class="comment">// Receive the next value</span></span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="built_in"><span class="keyword">switch</span></span>(results.value) &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">case</span> BTN_F:</span><br><span class="line">      <span class="built_in">go_forward</span>();</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">      </span><br><span class="line">    <span class="keyword">case</span> BTN_B:  </span><br><span class="line">      <span class="built_in">go_backward</span>();</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">      </span><br><span class="line">    <span class="keyword">case</span> BTN_L:  </span><br><span class="line">      <span class="keyword">if</span>(LR_Direct==<span class="number">0</span>) &#123;</span><br><span class="line">        <span class="built_in">go_f_left</span>();</span><br><span class="line">      &#125; <span class="keyword">else</span> <span class="keyword">if</span>(LR_Direct==<span class="number">1</span>) &#123;</span><br><span class="line">        <span class="built_in">go_b_left</span>();</span><br><span class="line">      &#125;     </span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">      </span><br><span class="line">    <span class="keyword">case</span> BTN_R:</span><br><span class="line">      <span class="keyword">if</span>(LR_Direct==<span class="number">0</span>) &#123;</span><br><span class="line">        <span class="built_in">go_f_right</span>();</span><br><span class="line">      &#125; <span class="keyword">else</span> <span class="keyword">if</span>(LR_Direct==<span class="number">1</span>) &#123;</span><br><span class="line">        <span class="built_in">go_b_right</span>();</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">      </span><br><span class="line">    <span class="keyword">case</span> BTN_O:</span><br><span class="line">      <span class="built_in">stop</span>();</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">  &#125;  </span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">50</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Move specific motor at speed and direction</span></span><br><span class="line"><span class="comment">// motor: A(Right) -&gt; 0, B(Left) -&gt; 1</span></span><br><span class="line"><span class="comment">// speed: 0 is off, and 255 is full speed</span></span><br><span class="line"><span class="comment">// direction: 0 clockwise, 1 counter-clockwise</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">move</span><span class="params">(<span class="keyword">int</span> motorLR, <span class="keyword">int</span> speed, boolean inPin1, boolean inPin2)</span> </span>&#123;</span><br><span class="line">  <span class="built_in">digitalWrite</span>(STBY, HIGH);        <span class="comment">// Disable Standby</span></span><br><span class="line">  </span><br><span class="line">  <span class="keyword">if</span> (motorLR == <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="built_in">analogWrite</span>(A_PWM, speed);</span><br><span class="line">    <span class="built_in">digitalWrite</span>(A_IN1, inPin1);</span><br><span class="line">    <span class="built_in">digitalWrite</span>(A_IN2, inPin2);   </span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">if</span> (motorLR == <span class="number">1</span>) &#123;</span><br><span class="line">    <span class="built_in">analogWrite</span>(B_PWM, speed);</span><br><span class="line">    <span class="built_in">digitalWrite</span>(B_IN1, inPin1);</span><br><span class="line">    <span class="built_in">digitalWrite</span>(B_IN2, inPin2);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">go_forward</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  Serial.<span class="built_in">println</span>(<span class="string">&quot;F&quot;</span>);</span><br><span class="line">  <span class="built_in">move</span>(<span class="number">0</span>, R_MaxSpeed, <span class="number">0</span>, <span class="number">1</span>);  <span class="comment">// Right motor, Right Speed, forward(0,1)</span></span><br><span class="line">  <span class="built_in">move</span>(<span class="number">1</span>, L_MaxSpeed, <span class="number">0</span>, <span class="number">1</span>);  <span class="comment">// Left motor, Left Speed, forward(0,1)</span></span><br><span class="line">  LR_Direct = <span class="number">0</span>;              <span class="comment">// Forward</span></span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">100</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">go_backward</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  Serial.<span class="built_in">println</span>(<span class="string">&quot;B&quot;</span>);</span><br><span class="line">  <span class="built_in">move</span>(<span class="number">0</span>, R_MaxSpeed, <span class="number">1</span>, <span class="number">0</span>);  <span class="comment">// Right motor, Right Speed, backward(1,0)</span></span><br><span class="line">  <span class="built_in">move</span>(<span class="number">1</span>, L_MaxSpeed, <span class="number">1</span>, <span class="number">0</span>);  <span class="comment">// Left motor, Left Speed, backward(1,0)</span></span><br><span class="line">  LR_Direct = <span class="number">1</span>;              <span class="comment">// Backward</span></span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">100</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">go_f_left</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  Serial.<span class="built_in">println</span>(<span class="string">&quot;F_L&quot;</span>);</span><br><span class="line">  <span class="built_in">move</span>(<span class="number">0</span>, R_MaxSpeed, <span class="number">0</span>, <span class="number">1</span>);  <span class="comment">// Right motor, Right Speed, forward(0,1)</span></span><br><span class="line">  <span class="built_in">move</span>(<span class="number">1</span>, L_TurnSpeed, <span class="number">0</span>, <span class="number">1</span>); <span class="comment">// Left motor, Left Speed, forward(0,1)</span></span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">100</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">go_b_left</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  Serial.<span class="built_in">println</span>(<span class="string">&quot;F_R&quot;</span>);</span><br><span class="line">  <span class="built_in">move</span>(<span class="number">0</span>, R_MaxSpeed, <span class="number">1</span>, <span class="number">0</span>);  <span class="comment">// Right motor, Right Speed, backward(1,0)</span></span><br><span class="line">  <span class="built_in">move</span>(<span class="number">1</span>, L_TurnSpeed, <span class="number">1</span>, <span class="number">0</span>); <span class="comment">// Left motor, Left Speed, backward(1,0)</span></span><br><span class="line"></span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">100</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">go_f_right</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  Serial.<span class="built_in">println</span>(<span class="string">&quot;F_R&quot;</span>);</span><br><span class="line">  <span class="built_in">move</span>(<span class="number">0</span>, R_TurnSpeed, <span class="number">0</span>, <span class="number">1</span>); <span class="comment">// Right motor, Right Speed, forward(0,1)</span></span><br><span class="line">  <span class="built_in">move</span>(<span class="number">1</span>, L_MaxSpeed, <span class="number">0</span>, <span class="number">1</span>);  <span class="comment">// Left motor, Left Speed, forward(0,1)</span></span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">100</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">go_b_right</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  Serial.<span class="built_in">println</span>(<span class="string">&quot;B_R&quot;</span>);</span><br><span class="line">  <span class="built_in">move</span>(<span class="number">0</span>, R_TurnSpeed, <span class="number">1</span>, <span class="number">0</span>); <span class="comment">// Right motor, Right Speed, backward(1,0)</span></span><br><span class="line">  <span class="built_in">move</span>(<span class="number">1</span>, L_MaxSpeed, <span class="number">1</span>, <span class="number">0</span>);  <span class="comment">// Left motor, Left Speed, backward(1,0)</span></span><br><span class="line"></span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">100</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">stop</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  Serial.<span class="built_in">println</span>(<span class="string">&quot;STOP&quot;</span>);</span><br><span class="line">  <span class="built_in">digitalWrite</span>(STBY, LOW);    <span class="comment">// Enable Standby</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<br>

<br>

<h3 id="초음파-센서-장착"><a href="#초음파-센서-장착" class="headerlink" title="초음파 센서 장착"></a>초음파 센서 장착</h3><p>초음파 센서를 장착하여 전진시 일정한 거리 내에  장애물이 있으면 자동차를 멈춰보도록 하겠습니다. Trig는 아두이노 2번핀, Echo는 4번핀에 연결하였습니다.</p>
<br>

<h4 id="schematic-3"><a href="#schematic-3" class="headerlink" title="schematic"></a>schematic</h4><h5 id="UNO보드와-컴퓨터를-USB선으로-연결하여-사용할-경우-3"><a href="#UNO보드와-컴퓨터를-USB선으로-연결하여-사용할-경우-3" class="headerlink" title="UNO보드와 컴퓨터를 USB선으로 연결하여 사용할 경우"></a>UNO보드와 컴퓨터를 USB선으로 연결하여 사용할 경우</h5><p><img src="/image/4wd-08.png"></p>
<br>

<h5 id="UNO보드와-컴퓨터의-연결없이-Vin핀을-사용하여-단독으로-사용할-경우-3"><a href="#UNO보드와-컴퓨터의-연결없이-Vin핀을-사용하여-단독으로-사용할-경우-3" class="headerlink" title="UNO보드와 컴퓨터의 연결없이 Vin핀을 사용하여 단독으로 사용할 경우"></a>UNO보드와 컴퓨터의 연결없이 Vin핀을 사용하여 단독으로 사용할 경우</h5><p><img src="/image/4wd-09.png"></p>
<br>

<h4 id="sketch-3"><a href="#sketch-3" class="headerlink" title="sketch"></a>sketch</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Initialize IR remote</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;boarddefs.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;IRremote.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;IRremoteInt.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;ir_Lego_PF_BitStreamEncoder.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> RECV_PIN = <span class="number">13</span>;       <span class="comment">// IR Signal pin</span></span><br><span class="line"><span class="function">IRrecv <span class="title">irrecv</span><span class="params">(RECV_PIN)</span></span>;</span><br><span class="line">decode_results results;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> BTN_F 0xFF18E7  <span class="comment">// Forward Button</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> BTN_B 0xFF4AB5  <span class="comment">// Backward Button</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> BTN_L 0xFF10EF  <span class="comment">// Left Button</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> BTN_R 0xFF5AA5  <span class="comment">// Right Button</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> BTN_O 0xFF38C7  <span class="comment">// OK Button</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Initialize TB6612FNG Motor drive</span></span><br><span class="line"><span class="keyword">int</span> STBY = <span class="number">10</span>;  <span class="comment">// STBY pin on TB6612FNG. Must be HIGH to enable motor</span></span><br><span class="line"><span class="keyword">int</span> A_PWM = <span class="number">5</span>;  <span class="comment">// Right motor speed control using analogWrite() function. Value between 0 - 255</span></span><br><span class="line"><span class="keyword">int</span> A_IN1 = <span class="number">9</span>;  <span class="comment">// Right motor - LOW should go forward</span></span><br><span class="line"><span class="keyword">int</span> A_IN2 = <span class="number">8</span>;  <span class="comment">// Right motor - HIGH should go forward</span></span><br><span class="line"><span class="keyword">int</span> B_PWM = <span class="number">6</span>;  <span class="comment">// Left motor speed control using analogWrite() function. Value between 0 - 255</span></span><br><span class="line"><span class="keyword">int</span> B_IN1 = <span class="number">11</span>; <span class="comment">// Left motor - LOW should go forward</span></span><br><span class="line"><span class="keyword">int</span> B_IN2 = <span class="number">12</span>; <span class="comment">// Left motor - HIGH should go forward</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> R_MaxSpeed = <span class="number">255</span>;   <span class="comment">//set motor speed to max speed</span></span><br><span class="line"><span class="keyword">int</span> L_MaxSpeed = <span class="number">255</span>;   <span class="comment">//set motor speed to max speed</span></span><br><span class="line"><span class="keyword">int</span> R_TurnSpeed = <span class="number">128</span>;  <span class="comment">//set motor speed to max speed</span></span><br><span class="line"><span class="keyword">int</span> L_TurnSpeed = <span class="number">128</span>;  <span class="comment">//set motor speed to max speed</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> LR_Direct = <span class="number">0</span>;      <span class="comment">//for Direction</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Initialize Ultrasonic Sensor</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> TRIG 2</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ECHO 4</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">setup</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="built_in">pinMode</span>(A_PWM, OUTPUT);                        <span class="comment">// Motor</span></span><br><span class="line">  <span class="built_in">pinMode</span>(A_IN1, OUTPUT);</span><br><span class="line">  <span class="built_in">pinMode</span>(A_IN2, OUTPUT);</span><br><span class="line">  <span class="built_in">pinMode</span>(B_PWM, OUTPUT);</span><br><span class="line">  <span class="built_in">pinMode</span>(B_IN1, OUTPUT);</span><br><span class="line">  <span class="built_in">pinMode</span>(B_IN2, OUTPUT);</span><br><span class="line">  <span class="built_in">pinMode</span>(STBY, OUTPUT);</span><br><span class="line">  </span><br><span class="line">  <span class="built_in">pinMode</span>(TRIG, OUTPUT);                         <span class="comment">// Ultrasonic Sensor</span></span><br><span class="line">  <span class="built_in">pinMode</span>(ECHO, INPUT);</span><br><span class="line"></span><br><span class="line">  Serial.<span class="built_in">begin</span>(<span class="number">9600</span>);</span><br><span class="line">  irrecv.<span class="built_in">enableIRIn</span>();                           <span class="comment">// Start the receiver</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">loop</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="built_in">digitalWrite</span>(TRIG, LOW);                       <span class="comment">// Start Ultrasonic sensor</span></span><br><span class="line">  <span class="built_in">delayMicroseconds</span>(<span class="number">2</span>);</span><br><span class="line">  <span class="built_in">digitalWrite</span>(TRIG, HIGH);</span><br><span class="line">  <span class="built_in">delayMicroseconds</span>(<span class="number">10</span>);</span><br><span class="line">  <span class="built_in">digitalWrite</span>(TRIG, LOW);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">long</span> distance = <span class="built_in">pulseIn</span>(ECHO, HIGH) / <span class="number">58.2</span>;    <span class="comment">// 거리 측정</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (irrecv.<span class="built_in">decode</span>(&amp;results)) &#123;                 <span class="comment">// Read IR remote control</span></span><br><span class="line">    <span class="comment">//Serial.println(results.value, HEX);        // for debug</span></span><br><span class="line">    irrecv.<span class="built_in">resume</span>(); <span class="comment">// Receive the next value</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (distance &lt; <span class="number">10</span>) &#123;                            <span class="comment">// 거리가 10cm 이내이면 정지</span></span><br><span class="line">    <span class="built_in">stop</span>();</span><br><span class="line">    <span class="built_in">delay</span>(<span class="number">500</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">else</span> &#123;                                          <span class="comment">// 거리가 10cm 이상이면,</span></span><br><span class="line">  	<span class="built_in"><span class="keyword">switch</span></span>(results.value) &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">case</span> BTN_F:</span><br><span class="line">      <span class="built_in">go_forward</span>();</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">      </span><br><span class="line">    <span class="keyword">case</span> BTN_B:  </span><br><span class="line">      <span class="built_in">go_backward</span>();</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">      </span><br><span class="line">    <span class="keyword">case</span> BTN_L:  </span><br><span class="line">      <span class="keyword">if</span>(LR_Direct==<span class="number">0</span>) &#123;</span><br><span class="line">        <span class="built_in">go_f_left</span>();</span><br><span class="line">      &#125; <span class="keyword">else</span> <span class="keyword">if</span>(LR_Direct==<span class="number">1</span>) &#123;</span><br><span class="line">        <span class="built_in">go_b_left</span>();</span><br><span class="line">      &#125;     </span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">      </span><br><span class="line">    <span class="keyword">case</span> BTN_R:</span><br><span class="line">      <span class="keyword">if</span>(LR_Direct==<span class="number">0</span>) &#123;</span><br><span class="line">        <span class="built_in">go_f_right</span>();</span><br><span class="line">      &#125; <span class="keyword">else</span> <span class="keyword">if</span>(LR_Direct==<span class="number">1</span>) &#123;</span><br><span class="line">        <span class="built_in">go_b_right</span>();</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">      </span><br><span class="line">    <span class="keyword">case</span> BTN_O:</span><br><span class="line">      <span class="built_in">stop</span>();</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">  &#125;  </span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">50</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Move specific motor at speed and direction</span></span><br><span class="line"><span class="comment">// motor: A(Right) -&gt; 0, B(Left) -&gt; 1</span></span><br><span class="line"><span class="comment">// speed: 0 is off, and 255 is full speed</span></span><br><span class="line"><span class="comment">// direction: 0 clockwise, 1 counter-clockwise</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">move</span><span class="params">(<span class="keyword">int</span> motorLR, <span class="keyword">int</span> speed, boolean inPin1, boolean inPin2)</span> </span>&#123;</span><br><span class="line">  <span class="built_in">digitalWrite</span>(STBY, HIGH);        <span class="comment">// Disable Standby</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (motorLR == <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="built_in">analogWrite</span>(A_PWM, speed);</span><br><span class="line">    <span class="built_in">digitalWrite</span>(A_IN1, inPin1);</span><br><span class="line">    <span class="built_in">digitalWrite</span>(A_IN2, inPin2);   </span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (motorLR == <span class="number">1</span>) &#123;</span><br><span class="line">    <span class="built_in">analogWrite</span>(B_PWM, speed);</span><br><span class="line">    <span class="built_in">digitalWrite</span>(B_IN1, inPin1);</span><br><span class="line">    <span class="built_in">digitalWrite</span>(B_IN2, inPin2);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">go_forward</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  Serial.<span class="built_in">println</span>(<span class="string">&quot;F&quot;</span>);</span><br><span class="line">  <span class="built_in">move</span>(<span class="number">0</span>, R_MaxSpeed, <span class="number">0</span>, <span class="number">1</span>);  <span class="comment">// Right motor, Right Speed, forward(0,1)</span></span><br><span class="line">  <span class="built_in">move</span>(<span class="number">1</span>, L_MaxSpeed, <span class="number">0</span>, <span class="number">1</span>);  <span class="comment">// Left motor, Left Speed, forward(0,1)</span></span><br><span class="line">  LR_Direct = <span class="number">0</span>;              <span class="comment">// Forward</span></span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">100</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">go_backward</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  Serial.<span class="built_in">println</span>(<span class="string">&quot;B&quot;</span>);</span><br><span class="line">  <span class="built_in">move</span>(<span class="number">0</span>, R_MaxSpeed, <span class="number">1</span>, <span class="number">0</span>);  <span class="comment">// Right motor, Right Speed, backward(1,0)</span></span><br><span class="line">  <span class="built_in">move</span>(<span class="number">1</span>, L_MaxSpeed, <span class="number">1</span>, <span class="number">0</span>);  <span class="comment">// Left motor, Left Speed, backward(1,0)</span></span><br><span class="line"></span><br><span class="line">  LR_Direct = <span class="number">1</span>;              <span class="comment">// Backward</span></span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">100</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">go_f_left</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  Serial.<span class="built_in">println</span>(<span class="string">&quot;F_L&quot;</span>);</span><br><span class="line">  <span class="built_in">move</span>(<span class="number">0</span>, R_MaxSpeed, <span class="number">0</span>, <span class="number">1</span>);  <span class="comment">// Right motor, Right Speed, forward(0,1)</span></span><br><span class="line">  <span class="built_in">move</span>(<span class="number">1</span>, L_TurnSpeed, <span class="number">0</span>, <span class="number">1</span>); <span class="comment">// Left motor, Left Speed, forward(0,1)</span></span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">100</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">go_b_left</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  Serial.<span class="built_in">println</span>(<span class="string">&quot;F_R&quot;</span>);</span><br><span class="line">  <span class="built_in">move</span>(<span class="number">0</span>, R_MaxSpeed, <span class="number">1</span>, <span class="number">0</span>);  <span class="comment">// Right motor, Right Speed, backward(1,0)</span></span><br><span class="line">  <span class="built_in">move</span>(<span class="number">1</span>, L_TurnSpeed, <span class="number">1</span>, <span class="number">0</span>); <span class="comment">// Left motor, Left Speed, backward(1,0)</span></span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">100</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">go_f_right</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  Serial.<span class="built_in">println</span>(<span class="string">&quot;F_R&quot;</span>);</span><br><span class="line">  <span class="built_in">move</span>(<span class="number">0</span>, R_TurnSpeed, <span class="number">0</span>, <span class="number">1</span>); <span class="comment">// Right motor, Right Speed, forward(0,1)</span></span><br><span class="line">  <span class="built_in">move</span>(<span class="number">1</span>, L_MaxSpeed, <span class="number">0</span>, <span class="number">1</span>);  <span class="comment">// Left motor, Left Speed, forward(0,1)</span></span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">100</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">go_b_right</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  Serial.<span class="built_in">println</span>(<span class="string">&quot;B_R&quot;</span>);</span><br><span class="line">  <span class="built_in">move</span>(<span class="number">0</span>, R_TurnSpeed, <span class="number">1</span>, <span class="number">0</span>); <span class="comment">// Right motor, Right Speed, backward(1,0)</span></span><br><span class="line">  <span class="built_in">move</span>(<span class="number">1</span>, L_MaxSpeed, <span class="number">1</span>, <span class="number">0</span>);  <span class="comment">// Left motor, Left Speed, backward(1,0)</span></span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">100</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">stop</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  Serial.<span class="built_in">println</span>(<span class="string">&quot;STOP&quot;</span>);</span><br><span class="line">  <span class="built_in">digitalWrite</span>(STBY, LOW);    <span class="comment">// Enable Standby</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</div><div class="article-licensing box"><div class="licensing-title"><p>DC모터 + 4WD 자동차 만들기 (TB6612FNG)</p><p><a href="http://stemwith.github.io/2019/10/29/DC모터-4WD-자동차-만들기/">http://stemwith.github.io/2019/10/29/DC모터-4WD-자동차-만들기/</a></p></div><div class="licensing-meta level is-mobile"><div class="level-left"><div class="level-item is-narrow"><div><h6>Author</h6><p>chemidot</p></div></div><div class="level-item is-narrow"><div><h6>Posted on</h6><p>2019-10-29</p></div></div><div class="level-item is-narrow"><div><h6>Updated on</h6><p>2021-11-17</p></div></div><div class="level-item is-narrow"><div><h6>Licensed under</h6><p><a class="icons" rel="external nofollow noopener noreferrer" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="icon fab fa-creative-commons"></i></a><a class="icons" rel="external nofollow noopener noreferrer" target="_blank" title="Attribution" href="https://creativecommons.org/licenses/by/4.0/"><i class="icon fab fa-creative-commons-by"></i></a><a class="icons" rel="external nofollow noopener noreferrer" target="_blank" title="Noncommercial" href="https://creativecommons.org/licenses/by-nc/4.0/"><i class="icon fab fa-creative-commons-nc"></i></a></p></div></div></div></div></div><div class="article-tags is-size-7 mb-4"><span class="mr-2">#</span><a class="link-muted mr-2" rel="tag" href="/tags/rc/">rc</a></div><!--!--></article></div><!--!--><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/2019/10/30/4WD-Bluetooth/"><i class="level-item fas fa-chevron-left"></i><span class="level-item">4WD Bluetooth</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/2019/10/28/Arduino-%EB%9D%BC%EC%9D%B8%ED%8A%B8%EB%A0%88%EC%9D%B4%EC%84%9C-L298N/"><span class="level-item">Arduino, 라인트레이서, L298N</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><div class="card"><div class="card-content"><h3 class="title is-5">댓글</h3><script src="https://utteranc.es/client.js" repo="stemwith/stemwith.github.io" issue-term="pathname" label="blog comments" theme="github-light" crossorigin="anonymous" async></script></div></div></div><div class="column column-left is-3-tablet is-3-desktop is-3-widescreen  order-1"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-60x60 mx-auto mb-2"><img class="avatar" src="/img/avatar.png" alt="stemwith"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">stemwith</p><p class="is-size-6 is-block">de la Cruz a la fecha</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>Korea</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">포스트</p><a href="/archives"><p class="title">50</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">카테고리</p><a href="/categories"><p class="title">8</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">태그</p><a href="/tags"><p class="title">3</p></a></div></div></nav><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="external nofollow noopener noreferrer" title="Github" href="https://github.com/ppoffice"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="external nofollow noopener noreferrer" title="Facebook" href="https://facebook.com"><i class="fab fa-facebook"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="external nofollow noopener noreferrer" title="Twitter" href="https://twitter.com"><i class="fab fa-twitter"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="external nofollow noopener noreferrer" title="Dribbble" href="https://dribbble.com"><i class="fab fa-dribbble"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="RSS" href="/"><i class="fas fa-rss"></i></a></div></div></div><div class="card widget" id="toc" data-type="toc"><div class="card-content"><div class="menu"><h3 class="menu-label">카탈로그</h3><ul class="menu-list"><li><a class="level is-mobile" href="#DC모터-사용하기"><span class="level-left"><span class="level-item">1</span><span class="level-item">DC모터 사용하기</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#TB6612FNG"><span class="level-left"><span class="level-item">1.1</span><span class="level-item">TB6612FNG</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#Pin의-사용"><span class="level-left"><span class="level-item">1.1.1</span><span class="level-item">Pin의 사용</span></span></a></li><li><a class="level is-mobile" href="#주의-Pin-Map이-다른-모듈의-경우"><span class="level-left"><span class="level-item">1.1.2</span><span class="level-item">주의: Pin Map이 다른 모듈의 경우</span></span></a></li></ul></li><li><a class="level is-mobile" href="#TB6612FNG와-DC모터의-연결"><span class="level-left"><span class="level-item">1.2</span><span class="level-item">TB6612FNG와 DC모터의 연결</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#Pin-Map"><span class="level-left"><span class="level-item">1.2.1</span><span class="level-item">Pin Map</span></span></a></li></ul></li><li><a class="level is-mobile" href="#H-SW-Control-Function"><span class="level-left"><span class="level-item">1.3</span><span class="level-item">H-SW Control Function</span></span></a></li></ul></li><li><a class="level is-mobile" href="#모터-1개-컨트롤하기"><span class="level-left"><span class="level-item">2</span><span class="level-item">모터 1개 컨트롤하기</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#schematic"><span class="level-left"><span class="level-item">2.1</span><span class="level-item">schematic</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#UNO보드와-컴퓨터를-USB선으로-연결하여-사용할-경우"><span class="level-left"><span class="level-item">2.1.1</span><span class="level-item">UNO보드와 컴퓨터를 USB선으로 연결하여 사용할 경우</span></span></a></li><li><a class="level is-mobile" href="#UNO보드와-컴퓨터의-연결없이-Vin핀을-사용하여-단독으로-사용할-경우"><span class="level-left"><span class="level-item">2.1.2</span><span class="level-item">UNO보드와 컴퓨터의 연결없이 Vin핀을 사용하여 단독으로 사용할 경우</span></span></a></li></ul></li><li><a class="level is-mobile" href="#sketch"><span class="level-left"><span class="level-item">2.2</span><span class="level-item">sketch</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#회전-방향이-생각했던-방향과-반대로-회전하는-경우"><span class="level-left"><span class="level-item">2.2.1</span><span class="level-item">회전 방향이 (생각했던 방향과) 반대로 회전하는 경우</span></span></a></li></ul></li></ul></li><li><a class="level is-mobile" href="#4WD-자동차-만들기"><span class="level-left"><span class="level-item">3</span><span class="level-item">4WD 자동차 만들기</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#schematic-1"><span class="level-left"><span class="level-item">3.1</span><span class="level-item">schematic</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#UNO보드와-컴퓨터를-USB선으로-연결하여-사용할-경우-1"><span class="level-left"><span class="level-item">3.1.1</span><span class="level-item">UNO보드와 컴퓨터를 USB선으로 연결하여 사용할 경우</span></span></a></li><li><a class="level is-mobile" href="#UNO보드와-컴퓨터의-연결없이-Vin핀을-사용하여-단독으로-사용할-경우-1"><span class="level-left"><span class="level-item">3.1.2</span><span class="level-item">UNO보드와 컴퓨터의 연결없이 Vin핀을 사용하여 단독으로 사용할 경우</span></span></a></li></ul></li><li><a class="level is-mobile" href="#sketch-1"><span class="level-left"><span class="level-item">3.2</span><span class="level-item">sketch</span></span></a></li></ul></li><li><a class="level is-mobile" href="#IR-리모컨으로-4WD-컨트롤하기"><span class="level-left"><span class="level-item">4</span><span class="level-item">IR 리모컨으로 4WD 컨트롤하기</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#schematic-2"><span class="level-left"><span class="level-item">4.1</span><span class="level-item">schematic</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#UNO보드와-컴퓨터를-USB선으로-연결하여-사용할-경우-2"><span class="level-left"><span class="level-item">4.1.1</span><span class="level-item">UNO보드와 컴퓨터를 USB선으로 연결하여 사용할 경우</span></span></a></li><li><a class="level is-mobile" href="#UNO보드와-컴퓨터의-연결없이-Vin핀을-사용하여-단독으로-사용할-경우-2"><span class="level-left"><span class="level-item">4.1.2</span><span class="level-item">UNO보드와 컴퓨터의 연결없이 Vin핀을 사용하여 단독으로 사용할 경우</span></span></a></li></ul></li><li><a class="level is-mobile" href="#IRremote-라이브러리-추가하기"><span class="level-left"><span class="level-item">4.2</span><span class="level-item">IRremote 라이브러리 추가하기</span></span></a></li><li><a class="level is-mobile" href="#사용할-리모컨-버튼-HEX값"><span class="level-left"><span class="level-item">4.3</span><span class="level-item">사용할 리모컨 버튼 HEX값</span></span></a></li><li><a class="level is-mobile" href="#sketch-2"><span class="level-left"><span class="level-item">4.4</span><span class="level-item">sketch</span></span></a></li></ul></li><li><a class="level is-mobile" href="#초음파-센서-장착"><span class="level-left"><span class="level-item">5</span><span class="level-item">초음파 센서 장착</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#schematic-3"><span class="level-left"><span class="level-item">5.1</span><span class="level-item">schematic</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#UNO보드와-컴퓨터를-USB선으로-연결하여-사용할-경우-3"><span class="level-left"><span class="level-item">5.1.1</span><span class="level-item">UNO보드와 컴퓨터를 USB선으로 연결하여 사용할 경우</span></span></a></li><li><a class="level is-mobile" href="#UNO보드와-컴퓨터의-연결없이-Vin핀을-사용하여-단독으로-사용할-경우-3"><span class="level-left"><span class="level-item">5.1.2</span><span class="level-item">UNO보드와 컴퓨터의 연결없이 Vin핀을 사용하여 단독으로 사용할 경우</span></span></a></li></ul></li><li><a class="level is-mobile" href="#sketch-3"><span class="level-left"><span class="level-item">5.2</span><span class="level-item">sketch</span></span></a></li></ul></li></ul></div></div><style>#toc .menu-list > li > a.is-active + .menu-list { display: block; }#toc .menu-list > li > a + .menu-list { display: none; }</style><script src="/js/toc.js" defer></script></div><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">카테고리</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/esp32/"><span class="level-start"><span class="level-item">ESP32</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile" href="/categories/science/"><span class="level-start"><span class="level-item">Science</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/arduino/"><span class="level-start"><span class="level-item">arduino</span></span><span class="level-end"><span class="level-item tag">21</span></span></a></li><li><a class="level is-mobile" href="/categories/diy/"><span class="level-start"><span class="level-item">diy</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/drone/"><span class="level-start"><span class="level-item">drone</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/esp32/"><span class="level-start"><span class="level-item">esp32</span></span><span class="level-end"><span class="level-item tag">8</span></span></a></li><li><a class="level is-mobile" href="/categories/office/"><span class="level-start"><span class="level-item">office</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/categories/science/"><span class="level-start"><span class="level-item">science</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li></ul></div></div></div><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">최근 글</h3><article class="media"><div class="media-content"><p class="date"><time datetime="2021-12-02T09:27:53.000Z">2021-12-02</time></p><p class="title"><a href="/2021/12/02/ESP32-RC%EC%B9%B4/">ESP32, RC카</a></p><p class="categories"><a href="/categories/esp32/">ESP32</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time datetime="2021-11-15T08:57:00.000Z">2021-11-15</time></p><p class="title"><a href="/2021/11/15/STEM-%EC%95%8C%EC%BD%94%EC%98%AC-%EB%9E%A8%ED%94%84-%EB%B0%9B%EC%B9%A8%EB%8C%80/">알코올 램프 안전 손잡이 받침대 3D프린팅</a></p><p class="categories"><a href="/categories/science/">Science</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time datetime="2021-11-02T08:57:00.000Z">2021-11-02</time></p><p class="title"><a href="/2021/11/02/STEM-%EC%A0%84%EC%9E%90%EA%B8%B0%ED%8C%8C-%EA%B2%80%EC%B6%9C%EA%B8%B0/">전자기파 검출기 만들기</a></p><p class="categories"><a href="/categories/science/">Science</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time datetime="2021-11-01T09:27:53.000Z">2021-11-01</time></p><p class="title"><a href="/2021/11/01/ESP32-DC%EB%AA%A8%ED%84%B0/">ESP32, DC모터, TB6612FNG</a></p><p class="categories"><a href="/categories/esp32/">ESP32</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time datetime="2021-10-10T09:27:53.000Z">2021-10-10</time></p><p class="title"><a href="/2021/10/10/ESP32-nRF24L01/">ESP32, nRF24L01 무선통신</a></p><p class="categories"><a href="/categories/esp32/">ESP32</a></p></div></article></div></div><div class="card widget" data-type="archives"><div class="card-content"><div class="menu"><h3 class="menu-label">아카이브</h3><ul class="menu-list"><li><a class="level is-mobile" href="/archives/2021/12/"><span class="level-start"><span class="level-item">12월 2021</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/11/"><span class="level-start"><span class="level-item">11월 2021</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/10/"><span class="level-start"><span class="level-item">10월 2021</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/09/"><span class="level-start"><span class="level-item">9월 2021</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/08/"><span class="level-start"><span class="level-item">8월 2021</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/11/"><span class="level-start"><span class="level-item">11월 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/10/"><span class="level-start"><span class="level-item">10월 2020</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/08/"><span class="level-start"><span class="level-item">8월 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/11/"><span class="level-start"><span class="level-item">11월 2019</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/10/"><span class="level-start"><span class="level-item">10월 2019</span></span><span class="level-end"><span class="level-item tag">13</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/09/"><span class="level-start"><span class="level-item">9월 2019</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/11/"><span class="level-start"><span class="level-item">11월 2018</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/10/"><span class="level-start"><span class="level-item">10월 2018</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/09/"><span class="level-start"><span class="level-item">9월 2018</span></span><span class="level-end"><span class="level-item tag">11</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/06/"><span class="level-start"><span class="level-item">6월 2018</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/01/"><span class="level-start"><span class="level-item">1월 2018</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2016/11/"><span class="level-start"><span class="level-item">11월 2016</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2012/10/"><span class="level-start"><span class="level-item">10월 2012</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></div></div></div><div class="card widget" data-type="tags"><div class="card-content"><div class="menu"><h3 class="menu-label">태그</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/3d/"><span class="tag">3D</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/iot/"><span class="tag">iot</span><span class="tag">7</span></a></div><div class="control"><a class="tags has-addons" href="/tags/rc/"><span class="tag">rc</span><span class="tag">5</span></a></div></div></div></div></div></div><!--!--></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/logo.svg" alt="Welcome to &quot;stemwith&quot;" height="28"></a><p class="is-size-7"><span>&copy; 2022 chemidot</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="external nofollow noopener noreferrer">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="external nofollow noopener noreferrer">Icarus</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="external nofollow noopener noreferrer" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="external nofollow noopener noreferrer" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="external nofollow noopener noreferrer" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("ko");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="맨 위로" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "이 웹 사이트는 귀하의 경험을 향상시키기 위해 Cookie를 사용합니다.",
          dismiss: "무시",
          allow: "허용",
          deny: "거부",
          link: "더 알아보기",
          policy: "Cookie 정책",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css"><script src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/auto-render.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/mhchem.js" defer></script><script>window.addEventListener("load", function() {
            document.querySelectorAll('[role="article"] > .content').forEach(function(element) {
                renderMathInElement(element);
            });
        });</script><script type="text/x-mathjax-config">MathJax.Hub.Config({
            'HTML-CSS': {
                matchFontHeight: false
            },
            SVG: {
                matchFontHeight: false
            },
            CommonHTML: {
                matchFontHeight: false
            },
            tex2jax: {
                inlineMath: [
                    ['$','$'],
                    ['\\(','\\)']
                ]
            }
        });</script><script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.5/unpacked/MathJax.js?config=TeX-MML-AM_CHTML" defer></script><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="입력 하세요..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"입력 하세요...","untitled":"(제목 없음)","posts":"포스트","pages":"페이지","categories":"카테고리","tags":"태그"});
        });</script></body></html>